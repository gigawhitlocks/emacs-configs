<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>My Emacs Configuration</title>
<meta name="generator" content="Org mode" />
<link rel="stylesheet" type="text/css" href="/static/css/main.css" />
<link rel="stylesheet" type="text/css" href="styles.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">My Emacs Configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org08fc474">What is this?</a></li>
<li><a href="#org9cd44a9">Entrypoint</a></li>
<li><a href="#org5146001">My Environment</a>
<ul>
<li><a href="#orgee01453">Bootstrap</a></li>
<li><a href="#org28db62c">Package Installation and Configuration</a></li>
<li><a href="#orga8e87fa">Extra Packages</a></li>
<li><a href="#org554de94">Font</a></li>
<li><a href="#org7ae480d">Language Configuration</a></li>
<li><a href="#org03346c7">Adaptive Wrap and Visual Line Mode</a></li>
<li><a href="#org550a346">Global Keybindings</a></li>
<li><a href="#org4097bda">Org Mode Settings</a></li>
<li><a href="#orgd6e5a78">Miscellaneous standalone global configuration changes</a></li>
<li><a href="#orgf3236a9">ERC (IRC config)</a></li>
<li><a href="#org6fae641">Render this file for display on the web</a></li>
<li><a href="#org11bac36">Hostname-based tweaks</a></li>
<li><a href="#orgfe2df25">Footer</a></li>
<li><a href="#org9269b9b">Styles for HTML export</a></li>
<li><a href="#org721135d">Launching Emacsclient</a></li>
<li><a href="#orgd30978f">Update README.md git hook</a></li>
<li><a href="#orgbcffae7">Running Emacs properly from the GUI</a></li>
<li><a href="#orgd71a073"><span class="done IN_PROGRESS">IN PROGRESS</span> Opening Code Links in Emacs</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org08fc474" class="outline-2">
<h2 id="org08fc474">What is this?</h2>
<div class="outline-text-2" id="text-org08fc474">
<p>
This is my Emacs configuration, which I install at <code>~/.emacs.d</code> in all of my development environments. It's written in <a href="https://orgmode.org/">Org Mode syntax</a>, which is an Emacs-native plain text format (like Markdown with metadata) which displays beautifully inside of Emacs and exports to a number of other formats for display in places like this README and the web, and allows extraction of source code blocks into plain source code files through a process called "tangling," so the source code embedded below is ultimately run as my real programming environment. It also serves as a living document / blog about Emacs and my development environment as it evolves to meet my changing needs.
</p>

<p>
Writing the code in this file and tangling it to its final destination allows me to keep everything in one place, which helps me later figure out what changes I've made. This may seem counterintuitive, but over time I have accumulated configuration settings and files that need to be installed outside of Emacs's configuration directory, and tangling provides me with a way to document that these files have been installed, and what their contents are, in a place where I can remember to discover them in the future.
</p>

<p>
In addition, Emacs's <code>eval-last-sexp</code> allows me to test the configuration as I add it to the file, which allows me to feel confident that the saved code works.
</p>

<p>
It also encourages me to explain what I'm doing and why, so that when I come back to the configuration in a year or two, I know what it is, and how safe it is to remove it if the configuration is no longer desired.
</p>

<p>
If you're reading this on the web, the source code for this file can be found <a href="https://github.com/gigawhitlocks/emacs-configs/blob/master/ian.org">on GitHub</a>.
If you want to try out this configuration file, run the following:
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef; font-weight: bold;">git</span> clone https://github.com/gigawhitlocks/emacs-configs ~/.emacs.d
<span style="color: #51afef; font-weight: bold;">mv</span> ~/.emacs.d/local/wintermute.org ~/.emacs.d/local/<span style="color: #98be65;">"</span><span style="color: #98be65;">$(</span><span style="color: #51afef; background-color: #282c34; font-weight: bold;">hostname</span><span style="color: #98be65;">)</span><span style="color: #98be65;">"</span>.org
<span style="color: #51afef; font-weight: bold;">emacs</span>
</pre>
</div>

<p>
There are no guarantees that this configuration will work for you out of the box like that, but this is how I bootstrap onto new machines. This stuff is for personal use, so it isn't tested on systems I don't have, and I only notice kinks in bootstrapping when I set up a new system, but this file is intended to be modular enough that individual snippets are understandable and can be taken <i>a la cart√©</i>.
</p>

<p>
I hope that if others find this configuration file online via DuckDuckGo or some other search engine, that it helps provide usage examples of some common third-party packages, and can help someone out there configure their Emacs environment more to their liking.
</p>
</div>
</div>

<div id="outline-container-org9cd44a9" class="outline-2">
<h2 id="org9cd44a9">Entrypoint</h2>
<div class="outline-text-2" id="text-org9cd44a9">
<p>
Using Org for one's configuration is not standard Emacs behavior, so I must first configure Emacs to load this file (<code>ian.org</code>) as its first action when it starts up. By default, Emacs runs <code>init.el</code> at the beginning of execution. The following piece of code <a href="https://orgmode.org/manual/Extracting-source-code.html">tangles</a> to <code>init.el</code>, and <code>init.el</code> containing the following must be checked in, because this snippet tangles <i>this</i> file (<code>ian.org</code>), so <b><b>it is this piece of code that starts the whole process of loading all of this configuration</b></b>.
</p>

<p>
Since I want most of the configuration here in <code>ian.org</code>, <code>init.el</code> just holds the bare minimum code so that the bulk of the configuration can be checked in once, inside this file, rather than twice like the contents of <code>init.el</code>. I'm using an <a href="https://orgmode.org/worg/org-contrib/babel/intro.html#literate-emacs-init">example from orgmode.org</a> to load the Org files and tangle them, then <code>require</code> the output of this file from the call to tangle, run <code>main</code>, and I'm done.
</p>

<p>
<b><b>NOTE</b></b> The filename <code>ian.org</code> is hardcoded in this entrypoint routine in the place of the main configuration file. This is because, despite the public nature of my config, it is not intended to be used in whole by anyone but me. This allows me certain shortcuts, like hostname-specific configuration, and convention-over-configuration in ways I find intuitive without overly detailed documentation. It is <span class="underline">my</span> config, after all, so my main config file is <code>ian.org</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">init --- the Emacs entrypoint</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">Commentary:</span>
<span style="color: #5B6268;">;;;</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">Just load my customizations and execute -- org-mode bootstrap from</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">https://orgmode.org/worg/org-contrib/babel/intro.html#literate-emacs-init</span>
<span style="color: #5B6268;">;;;</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">Code:</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Load up Org Mode and (now included) Org Babel for elisp embedded in Org Mode files</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> dotfiles-dir <span style="color: #c678dd;">(</span>file-name-directory <span style="color: #98be65;">(</span><span style="color: #51afef;">or</span> <span style="color: #a9a1e1;">(</span>buffer-file-name<span style="color: #a9a1e1;">)</span> load-file-name<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">let*</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>org-dir <span style="color: #a9a1e1;">(</span>expand-file-name
                 <span style="color: #98be65;">"lisp"</span> <span style="color: #4db5bd;">(</span>expand-file-name
                         <span style="color: #98be65;">"org"</span> <span style="color: #51afef;">(</span>expand-file-name
                                <span style="color: #98be65;">"src"</span> dotfiles-dir<span style="color: #51afef;">)</span><span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
       <span style="color: #98be65;">(</span>org-contrib-dir <span style="color: #a9a1e1;">(</span>expand-file-name
                         <span style="color: #98be65;">"lisp"</span> <span style="color: #4db5bd;">(</span>expand-file-name
                                 <span style="color: #98be65;">"contrib"</span> <span style="color: #51afef;">(</span>expand-file-name
                                            <span style="color: #98be65;">".."</span> org-dir<span style="color: #51afef;">)</span><span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
       <span style="color: #98be65;">(</span>load-path <span style="color: #a9a1e1;">(</span>append <span style="color: #4db5bd;">(</span>list org-dir org-contrib-dir<span style="color: #4db5bd;">)</span>
                          <span style="color: #4db5bd;">(</span><span style="color: #51afef;">or</span> load-path nil<span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">load up Org-mode and Org-babel</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">org-install</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">ob-tangle</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">load up all literate org-mode files in this directory</span>
<span style="color: #51afef;">(</span>mapc #'org-babel-load-file <span style="color: #c678dd;">(</span>directory-files dotfiles-dir t <span style="color: #98be65;">"\\.org$"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">~/.emacs.d/ian.el</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Load automatic and interactive customizations from this computer</span>
<span style="color: #51afef;">(</span>shell-command <span style="color: #98be65;">"touch ~/.emacs.d/.emacs-custom.el"</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> custom-file <span style="color: #98be65;">"~/.emacs.d/.emacs-custom.el"</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>load custom-file<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">provide</span> '<span style="color: #a9a1e1;">init</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
The rest of the code that is executed begins with the routines defined by this file.
</p>
</div>
</div>

<div id="outline-container-org5146001" class="outline-2">
<h2 id="org5146001">My Environment</h2>
<div class="outline-text-2" id="text-org5146001">
<p>
<b>This is where my environment definition begins</b>
</p>

<p>
After running the <code>init.el</code> entrypoint, this file is tangled to <code>ian.el</code> and executed.
</p>
</div>

<div id="outline-container-orgee01453" class="outline-3">
<h3 id="orgee01453">Bootstrap</h3>
<div class="outline-text-3" id="text-orgee01453">
<p>
The first thing that must be done is to prepare to manage third party packages, because my config is built on top of the work of many third party packages. I like to install and manage all of the packages I use as part of my configuration so that it can be duplicated across computers (more or less) and managed with <code>git</code>, so I use <code>use-package</code> to ensure that packages are installed from my configuration file.
</p>

<p>
Bootstrap sets up the ELPA, Melpa, and Org Mode repositories, sets up the package manager, installs <a href="https://github.com/jwiegley/use-package"><code>use-package</code></a> if it is not found, configures <code>use-package</code> and installs a few extra packages that acoutrement <code>use-package</code> and will be used heavily throughout.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">ian.el --- my custom emacs config with no one else considered because fuck you</span>
<span style="color: #5B6268;">;;;            </span><span style="color: #5B6268;">naw but really I just don't have the time for that</span>
<span style="color: #5B6268;">;;;</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">Commentary:</span>
<span style="color: #5B6268;">;;;</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">After throwing away an old Emacs config, built when I had no idea what I was doing</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">and abandoning the "wisdom of the crowds"-configured Spacemacs for better control</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">here we are for better or worse</span>
<span style="color: #5B6268;">;;;</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">Code:</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">package</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> package-archives '<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"gnu"</span> . <span style="color: #98be65;">"https://elpa.gnu.org/packages/"</span><span style="color: #98be65;">)</span>
                         <span style="color: #98be65;">(</span><span style="color: #98be65;">"melpa"</span> . <span style="color: #98be65;">"https://melpa.org/packages/"</span><span style="color: #98be65;">)</span>
                         <span style="color: #98be65;">(</span><span style="color: #98be65;">"org"</span> . <span style="color: #98be65;">"http://orgmode.org/elpa/"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>package-initialize<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Now install use-package to enable us to use it</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">to manage the rest of our packages</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">unless</span> <span style="color: #c678dd;">(</span>package-installed-p 'use-package<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">progn</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">unless</span> package-archive-contents
      <span style="color: #a9a1e1;">(</span>package-refresh-contents<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span>package-install 'use-package<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">set ensure to be the default</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">use-package-ensure</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> use-package-always-ensure t<span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">use-package-ensure-system-package</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">these go in bootstrap because packages installed</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">with use-package use :diminish and :delight</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">diminish</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">delight</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
Once this is done I need to install and configure any third party packages that are used in many modes throughout Emacs. Some of these modes fundamentally change the Emacs experience and need to be present before everything can be configured.
</p>
</div>
</div>

<div id="outline-container-org28db62c" class="outline-3">
<h3 id="org28db62c">Package Installation and Configuration</h3>
<div class="outline-text-3" id="text-org28db62c">
<p>
First I need to install packages with a large effect and on which other packages are likely to depend. These are packages essential to my workflow. Configuration here should be config that must run early, before variables are set or language-related packages, which will likely rely on these being set.
</p>
</div>
<div id="outline-container-orgc775858" class="outline-4">
<h4 id="orgc775858">Icons</h4>
<div class="outline-text-4" id="text-orgc775858">
<p>
Treemacs and Doom themes both rely upon <code>all-the-icons</code> to look nice
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">all-the-icons</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org27f6db4" class="outline-4">
<h4 id="org27f6db4">Treemacs</h4>
<div class="outline-text-4" id="text-org27f6db4">
<p>
Treemacs provides a file browser on the left hand side of Emacs that I have grown to really like. It's great for exploring unfamiliar projects and modules.
</p>

<p>
It's installed early because many things have integrations with it, including some themes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">treemacs</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">treemacs-all-the-icons</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org420f0ba" class="outline-4">
<h4 id="org420f0ba">Theme</h4>
<div class="outline-text-4" id="text-org420f0ba">
<p>
I'm using the Doom Emacs theme pack.
I think they're really nice to look at, especially with <code>solaire-mode</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">doom-themes</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Global settings (defaults)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> doom-themes-enable-bold t    <span style="color: #5B6268;">; </span><span style="color: #5B6268;">if nil, bold is universally disabled</span>
        doom-themes-enable-italic t
        doom-themes-treemacs-theme <span style="color: #98be65;">"doom-colors"</span>
  <span style="color: #c678dd;">)</span> <span style="color: #5B6268;">; </span><span style="color: #5B6268;">if nil, italics is universally disabled</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Corrects (and improves) org-mode's native fontification.</span>
  <span style="color: #c678dd;">(</span>doom-themes-org-config<span style="color: #c678dd;">)</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Configures Treemacs to play nicely with Doom themes</span>
  <span style="color: #c678dd;">(</span>doom-themes-treemacs-config<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>load-theme 'doom-one t<span style="color: #51afef;">)</span>
</pre>
</div>

<p>
Also some visual candy that makes "real" buffers more visible by changing the background color slightly vs e.g. <b>compilation</b> or magit buffers
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">solaire-mode</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>solaire-global-mode +1<span style="color: #51afef;">)</span>
</pre>
</div>

<p>
The Doom Emacs project also provides a fancy modeline to go along with their themes.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">doom-modeline</span>
  <span style="color: #c678dd;">:ensure</span> t
  <span style="color: #c678dd;">:hook</span> <span style="color: #c678dd;">(</span>after-init . doom-modeline-mode<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde09408" class="outline-4">
<h4 id="orgde09408">Emoji üôè</h4>
<div class="outline-text-4" id="text-orgde09408">
<p>
Provided by <a href="https://github.com/iqbalansari/emacs-emojify">emojify</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#128588; Emoji! &#128588;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">emojify</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> emojify-download-emojis-p t<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>emojify-set-emoji-styles '<span style="color: #98be65;">(</span>unicode<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>add-hook 'after-init-hook #'global-emojify-mode<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org20d27ad" class="outline-4">
<h4 id="org20d27ad">Configure Recent File Tracking</h4>
<div class="outline-text-4" id="text-org20d27ad">
<p>
Emacs comes with <code>recentf-mode</code> which helps me remember what I was doing after I restart my session.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">recent files mode</span>
<span style="color: #51afef;">(</span>recentf-mode 1<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> recentf-max-menu-items 25<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> recentf-max-saved-items 25<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgebeda56" class="outline-4">
<h4 id="orgebeda56">Install and Configure Projectile</h4>
<div class="outline-text-4" id="text-orgebeda56">
<p>
<a href="https://projectile.readthedocs.io/en/latest/"><code>projectile</code></a> is a fantastic package that provides all kinds of project context-aware functions for things like:
</p>
<ul class="org-ul">
<li>running grep, but only inside the project</li>
<li>compiling the project from the project root without doing anything</li>
<li>find files within the project, again without having to do anything extra</li>
</ul>
<p>
It's great, it gets installed early, can't live without it. üíò <code>projectile</code>
</p>


<div class="figure">
<p><img src="My_Environment/2020-05-18_21-21-10_Peek%25202020-05-18%252021-19.gif" alt="2020-05-18_21-21-10_Peek%25202020-05-18%252021-19.gif" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">projectile</span>
  <span style="color: #c678dd;">:delight</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">helm-projectile</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">treemacs-projectile</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>projectile-mode +1<span style="color: #51afef;">)</span>
</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="org7e0cb6b"></a><span class="todo TODO">TODO</span> I've read about something called project.el<br />
<div class="outline-text-5" id="text-org7e0cb6b">
<p>
The impression that I got was that <code>project.el</code> is a first-party replacement for Projectile in newer versions of Emacs. I don't know if this is true or not. I should investigate <code>project.el</code>.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org96b70bb" class="outline-4">
<h4 id="org96b70bb">Install and Configure Evil Mode</h4>
<div class="outline-text-4" id="text-org96b70bb">
<p>
<a href="https://github.com/emacs-evil/evil"><code>evil-mode</code></a> fundamentally changes Emacs so that while editing all of the modes and keybindings from <code>vim</code> are present.
It's controversial but I think modal editing is brilliant and have been using <code>vim</code> bindings since the mid-aughts. No going back.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">setup-evil</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Install and configure evil-mode and related bindings."</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">evil</span>
    <span style="color: #c678dd;">:init</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">setq</span> evil-want-keybinding nil<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">setq</span> evil-want-integration t<span style="color: #98be65;">)</span>
    <span style="color: #c678dd;">:config</span>
    <span style="color: #98be65;">(</span>evil-mode 1<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>

  <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">evil-collection</span>
    <span style="color: #c678dd;">:after</span> evil
    <span style="color: #c678dd;">:config</span>
    <span style="color: #98be65;">(</span>evil-collection-init<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>

  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">add fd as a remap for esc</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">evil-escape</span>
    <span style="color: #c678dd;">:delight</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>evil-escape-mode 1<span style="color: #c678dd;">)</span>

  <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">evil-surround</span>
    <span style="color: #c678dd;">:config</span>
    <span style="color: #98be65;">(</span>global-evil-surround-mode 1<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">undo-tree</span>
      <span style="color: #c678dd;">:config</span>
      <span style="color: #98be65;">(</span>global-undo-tree-mode<span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span>evil-set-undo-system 'undo-tree<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>


  <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">treemacs-evil</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq-default</span> evil-escape-key-sequence <span style="color: #98be65;">"fd"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2bf0fc9" class="outline-4">
<h4 id="org2bf0fc9">Install and Configure Keybindings Helper</h4>
<div class="outline-text-4" id="text-org2bf0fc9">
<p>
<a href="https://github.com/noctuid/general.el">General</a> provides more consistent and convenient keybindings, especially with <code>evil-mode</code>.
</p>

<p>
It's mostly used below in the <a href="#org550a346">global keybindings</a> section.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">general</span>
  <span style="color: #c678dd;">:init</span>
  <span style="color: #c678dd;">(</span>setup-evil<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #c678dd;">(</span>general-evil-setup<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org25a33d8" class="outline-4">
<h4 id="org25a33d8">Install and Configure Helm for Command and Control</h4>
<div class="outline-text-4" id="text-org25a33d8">
<p>
<a href="https://github.com/emacs-helm/helm">Helm</a> is a full-featured command and control package that fundamentally alters a number of core Emacs functions, including what appears when you press <code>M-x</code> (with the way I have it configured, anyway).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">helm</span>
  <span style="color: #c678dd;">:delight</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">helm-descbinds</span>
    <span style="color: #c678dd;">:config</span>
    <span style="color: #98be65;">(</span>helm-descbinds-mode<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">helm-ag</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>global-set-key <span style="color: #98be65;">(</span>kbd <span style="color: #98be65;">"M-x"</span><span style="color: #98be65;">)</span> #'helm-M-x<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>define-key helm-find-files-map <span style="color: #98be65;">"\t"</span> 'helm-execute-persistent-action<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> helm-always-two-windows nil<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> helm-default-display-buffer-functions '<span style="color: #98be65;">(</span>display-buffer-in-side-window<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>helm-mode 1<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7ddb823" class="outline-4">
<h4 id="org7ddb823">Install and Configure Magit</h4>
<div class="outline-text-4" id="text-org7ddb823">
<p>
<a href="https://github.com/magit/magit">Magit</a> is an incredible integrated <code>git</code> UI for Emacs.
</p>

<div class="figure">
<p><img src="My_Environment/2020-05-18_21-26-19_Peek%25202020-05-18%252021-25.gif" alt="2020-05-18_21-26-19_Peek%25202020-05-18%252021-25.gif" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">magit</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">disable the default emacs vc because git is all I use,</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">for I am a simple man</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> vc-handled-backends nil<span style="color: #51afef;">)</span>
</pre>
</div>

<p>
The Magit author publishes an additional package called <a href="https://emacsair.me/2018/12/19/forge-0.1/">forge</a>. Forge lets you interact with GitHub and Gitlab from inside of Emacs. There's planned support for Gogs, Gitea, etc.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">forge</span>
  <span style="color: #c678dd;">:after</span> magit<span style="color: #51afef;">)</span>
</pre>
</div>

<p>
Forge has to be configured with something like <code>.authinfo</code> or preferably <code>authinfo.gpg</code>. Create a access token through the web UI of GitHub and place on the first line in <code>$HOME/.authinfo</code> with the following format:
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef; font-weight: bold;">host</span> api.github.com login gigawhitlocks^forge password TOKEN
</pre>
</div>

<p>
but obviously replace <code>TOKEN</code> with the access token. And <a href="https://www.masteringemacs.org/article/keeping-secrets-in-emacs-gnupg-auth-sources">use <code>.authinfo.gpg</code> and encrypt it</a>. Don't just use <code>.authinfo</code>.
</p>

<p>
Also, I've only tried this with GitHub. But at least in the case of GitHub, once Forge is set up, it adds some niceties like this to the Magit overview. In this case, I'm looking at the history of a project and Forge automatically adds a link to the PR displayed as part of the commit title in history:
</p>


<div class="figure">
<p><img src="My_Environment/2020-01-15_13-17-16_2020-01-14T13_58_07.gif" alt="2020-01-15_13-17-16_2020-01-14T13_58_07.gif" />
</p>
</div>
</div>
</div>

<div id="outline-container-org6a91442" class="outline-4">
<h4 id="org6a91442">Install and Configure <code>git-timemachine</code></h4>
<div class="outline-text-4" id="text-org6a91442">
<p>
<code>git-timeline</code> lets you step through the history of a file.
</p>


<div class="figure">
<p><img src="My_Environment/2020-01-11_23-23-47_2020-01-11T23:15:54.gif" alt="2020-01-11_23-23-47_2020-01-11T23:15:54.gif" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">git-timemachine</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">This lets git-timemachine's bindings take precedence over evils'</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(got lucky and happened to find this while looking for the package name, ha!)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">@see https://bitbucket.org/lyro/evil/issue/511/let-certain-minor-modes-key-bindings</span>
<span style="color: #51afef;">(</span>eval-after-load 'git-timemachine
  '<span style="color: #c678dd;">(</span><span style="color: #51afef;">progn</span>
     <span style="color: #98be65;">(</span>evil-make-overriding-map git-timemachine-mode-map 'normal<span style="color: #98be65;">)</span>
     <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">force update evil keymaps after git-timemachine-mode loaded</span>
     <span style="color: #98be65;">(</span>add-hook 'git-timemachine-mode-hook #'evil-normalize-keymaps<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7e49448" class="outline-4">
<h4 id="org7e49448">Install and Configure <code>which-key</code></h4>
<div class="outline-text-4" id="text-org7e49448">
<p>
It can be difficult to to remember and discover all of the available shortcuts in Emacs, so <a href="https://github.com/justbur/emacs-which-key"><code>which-key</code></a> pops up a special buffer to show you available shortcuts whenever you pause in the middle of a keyboard shortcut for more than a few seconds. It's really lovely.
</p>

<div class="figure">
<p><img src="My_Environment/2020-05-18_21-37-19_Peek%25202020-05-18%252021-37.gif" alt="2020-05-18_21-37-19_Peek%25202020-05-18%252021-37.gif" />
</p>
</div>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">which-key</span>
  <span style="color: #c678dd;">:delight</span>
  <span style="color: #c678dd;">:init</span>
  <span style="color: #c678dd;">(</span>which-key-mode<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>which-key-setup-minibuffer<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org944ec85" class="outline-4">
<h4 id="org944ec85">Colorize ANSI colors in <code>*compilation*</code></h4>
<div class="outline-text-4" id="text-org944ec85">
<p>
If you run a command through <code>M-x compile</code> by default Emacs prints ANSI codes literally, but a lot of tools use these for colors and this makes it so Emacs shows colors in the <code>*compilation*</code> buffer.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">ansi</span> <span style="color: #c678dd;">()</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">enable ANSI escape codes in compilation buffer</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">ansi-color</span><span style="color: #c678dd;">)</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">slightly modified from</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">https://endlessparentheses.com/ansi-colors-in-the-compilation-buffer-output.html</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">colorize-compilation</span> <span style="color: #98be65;">()</span>
    <span style="color: #83898d;">"Colorize from `</span><span style="color: #a9a1e1;">compilation-filter-start</span><span style="color: #83898d;">' to `</span><span style="color: #a9a1e1;">point</span><span style="color: #83898d;">'."</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">let</span> <span style="color: #a9a1e1;">(</span><span style="color: #4db5bd;">(</span>inhibit-read-only t<span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span>
      <span style="color: #a9a1e1;">(</span>ansi-color-apply-on-region
       compilation-filter-start <span style="color: #4db5bd;">(</span>point<span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>

  <span style="color: #c678dd;">(</span>add-hook 'compilation-filter-hook
            #'colorize-compilation<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>ansi<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfd20443" class="outline-4">
<h4 id="orgfd20443">Scream when compilation is finished</h4>
<div class="outline-text-4" id="text-orgfd20443">
<p>
Sometimes when the compile process takes more than a few seconds I change windows and get distracted. This hook plays a file through <code>aplay</code> (something else that will break on a non-Linux machine) to notify me that compilation is done. I was looking for something like a kitchen timer but I couldn't find one so right now the vendored sound is the <a href="https://en.wikipedia.org/wiki/Wilhelm_scream">Wilhelm Scream</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defvar</span> <span style="color: #dcaeea;">isw-should-play-chime</span> nil<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> isw-should-play-chime nil<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">isw-play-chime</span> <span style="color: #c678dd;">(</span>buffer msg<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>eq isw-should-play-chime t<span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span>start-process-shell-command <span style="color: #98be65;">"chime"</span> <span style="color: #98be65;">"*Messages*"</span> <span style="color: #98be65;">"aplay /home/ian/.emacs.d/vendor/chime.wav"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-to-list 'compilation-finish-functions 'isw-play-chime<span style="color: #51afef;">)</span>
</pre>
</div>

<p>
A function for toggling the screaming on and off. I love scream-when-finished but sometimes I'm listening to music or something and it gets a little ridiculous.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">toggle-screaming</span> <span style="color: #c678dd;">()</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>eq isw-should-play-chime t<span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span><span style="color: #51afef;">setq</span> isw-should-play-chime nil<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">setq</span> isw-should-play-chime t<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org173fa23" class="outline-4">
<h4 id="org173fa23">Configure the Startup Splashscreen</h4>
<div class="outline-text-4" id="text-org173fa23">
<p>
Following Spacemacs's style, I use the <a href="https://github.com/emacs-dashboard/emacs-dashboard"><code>emacs-dashboard</code></a> project and <a href="https://github.com/domtronn/all-the-icons.el"><code>all-the-icons</code></a> to provide an aesthetically pleasing splash screen with useful links to recently used files on launch.
</p>

<p>
Actually, looking at the project page, the icons don't seem to be working for me. Maybe I need to enable them. I'll investigate later.
</p>


<div class="figure">
<p><img src="My_Environment/2020-05-18_21-31-13_Screenshot%2520from%25202020-05-18%252021-30-43.png" alt="2020-05-18_21-31-13_Screenshot%2520from%25202020-05-18%252021-30-43.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">first disable the default startup screen</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> inhibit-startup-screen t<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">dashboard</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #c678dd;">(</span>dashboard-setup-startup-hook<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> dashboard-startup-banner 'logo<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> dashboard-center-content t<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> dashboard-items '<span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>recents  . 5<span style="color: #a9a1e1;">)</span>
                          <span style="color: #a9a1e1;">(</span>bookmarks . 5<span style="color: #a9a1e1;">)</span>
                          <span style="color: #a9a1e1;">(</span>projects . 5<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
        <span style="color: #c678dd;">)</span>
  <span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> dashboard-set-footer nil<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1cdd2de" class="outline-4">
<h4 id="org1cdd2de">Install and Configure GNU Hyperbole</h4>
<div class="outline-text-4" id="text-org1cdd2de">
<p>
<a href="https://www.gnu.org/software/hyperbole/">GNU Hyperbole</a> adds a bunch of window control features, namely the ability to swap two windows by hitting Shift + Right Click and dragging the window to a new position!
</p>

<p>
It adds a slew of other features as well &#x2013; hyperlinks between documents, a rolodex, a list builder.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">gnu hyperbole</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">hyperbole</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
<span class="timestamp-wrapper"><span class="timestamp">&lt;2022-02-19 Sat&gt; </span></span> It turns out that the <i>only</i> feature I use from Hyperbole is the window dragging feature. I wonder if that's provided by any other, lighter-weight package? ü§î Or maybe I should give some of the other features another look?
</p>
</div>
</div>

<div id="outline-container-org39c2726" class="outline-4">
<h4 id="org39c2726">Install templating tool and default snippets</h4>
<div class="outline-text-4" id="text-org39c2726">
<p>
YASnippet is really cool and allow fast insertion of boilerplate using templates. I've been meaning to use this more.
<a href="https://www.emacswiki.org/emacs/Yasnippet">Here are the YASnippet docs.</a>
</p>

<div class="figure">
<p><img src="My_Environment/2020-05-18_21-40-09_Peek%25202020-05-18%252021-39.gif" alt="2020-05-18_21-40-09_Peek%25202020-05-18%252021-39.gif" />
</p>
</div>

<p>
OK that example maybe isn't the best, but if you have <code>yas-insert-snippet</code> bound to something and you're inserting something more complex it's.. probably worthwhile. I should use it more. You can also write your own snippets. I should figure that out.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">yasnippet</span>
  <span style="color: #c678dd;">:delight</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">yasnippet-snippets</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
Enable yas-mode everywhere
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>yas-global-mode 1<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orga8e87fa" class="outline-3">
<h3 id="orga8e87fa">Extra Packages</h3>
<div class="outline-text-3" id="text-orga8e87fa">
<p>
Packages with a smaller effect on the experience.
</p>
</div>
<div id="outline-container-orgbaa620d" class="outline-4">
<h4 id="orgbaa620d">git-gutter shows unstaged changes in the gutter</h4>
<div class="outline-text-4" id="text-orgbaa620d">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">git-gutter</span>
    <span style="color: #c678dd;">:delight</span>
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span>global-git-gutter-mode +1<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3228132" class="outline-4">
<h4 id="org3228132">Highlight the current line</h4>
<div class="outline-text-4" id="text-org3228132">
<p>
I like to highlight the current line so that it is easy to identify where my cursor is.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>global-hl-line-mode<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> global-hl-line-sticky-flag t<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge4d87ca" class="outline-4">
<h4 id="orge4d87ca">Rainbow delimiters make it easier to identify matching parentheses</h4>
<div class="outline-text-4" id="text-orge4d87ca">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">rainbow-delimiters</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">set up rainbow delimiters for Emacs lisp</span>
  <span style="color: #c678dd;">(</span>add-hook 'emacs-lisp-mode-hook #'rainbow-delimiters-mode<span style="color: #c678dd;">)</span>
  <span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org01b17e3" class="outline-4">
<h4 id="org01b17e3">restart-emacs does what it says on the tin</h4>
<div class="outline-text-4" id="text-org01b17e3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">restart-emacs</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc20639f" class="outline-4">
<h4 id="orgc20639f">s is a string manipulation utility</h4>
<div class="outline-text-4" id="text-orgc20639f">
<p>
I use this for a trim() function far down below. I think it gets pulled in as a dependency anyway, but in any case it provides a bunch of helper functions and stuff. <a href="https://github.com/magnars/s.el">Docs are here.</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">s</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org93f6c20" class="outline-4">
<h4 id="org93f6c20"><code>figlet</code></h4>
<div class="outline-text-4" id="text-org93f6c20">
<p>
The description on the package is "Annoy people with big, ascii art text" ü§£
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">figlet</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6a83b0b" class="outline-4">
<h4 id="org6a83b0b">a systemd file mode</h4>
<div class="outline-text-4" id="text-org6a83b0b">
<p>
Just provides syntax highlighting in <code>.unit</code> files.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">systemd</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7bcbbbc" class="outline-4">
<h4 id="org7bcbbbc">Install and Configure Company for Auto-Completion</h4>
<div class="outline-text-4" id="text-org7bcbbbc">
<p>
Great tab-complete and auto-complete with <a href="https://github.com/company-mode/company-mode">Company Mode</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">auto-completion</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">company</span>
  <span style="color: #c678dd;">:delight</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">enable it everywhere</span>
  <span style="color: #c678dd;">(</span>add-hook 'after-init-hook 'global-company-mode<span style="color: #c678dd;">)</span>

  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">tab complete!</span>
  <span style="color: #c678dd;">(</span>global-set-key <span style="color: #98be65;">"\t"</span> 'company-complete-common<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org50860ec" class="outline-4">
<h4 id="org50860ec">Install and Configure Flycheck for Linting</h4>
<div class="outline-text-4" id="text-org50860ec">
<p>
<a href="https://www.flycheck.org/en/latest/">Flycheck</a> is an on-the-fly checker that hooks into most language backends.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">linter</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">flycheck</span>
  <span style="color: #c678dd;">:delight</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">enable it everywhere</span>
  <span style="color: #c678dd;">:init</span> <span style="color: #c678dd;">(</span>global-flycheck-mode<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>add-hook 'flycheck-error-list-mode-hook
          'visual-line-mode<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc3763bd" class="outline-4">
<h4 id="orgc3763bd">Install <code>exec-path-from-shell</code> to manage the PATH</h4>
<div class="outline-text-4" id="text-orgc3763bd">
<p>
<a href="https://github.com/purcell/exec-path-from-shell">exec-path-from-shell</a> mirrors PATH in zsh or Bash in macOS or Linux into Emacs so that the PATH in the shell and the PATH when calling commands from Emacs are the same.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">exec-path-from-shell</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #c678dd;">(</span>exec-path-from-shell-initialize<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org449feb7" class="outline-4">
<h4 id="org449feb7">ace-window provides an ace-jump experience for switching windows</h4>
<div class="outline-text-4" id="text-org449feb7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">ace-window</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfc2d793" class="outline-4">
<h4 id="orgfc2d793">Install a mode for drawing indentation guides</h4>
<div class="outline-text-4" id="text-orgfc2d793">
<p>
This mode adds subtle coloration to indentation whitespace for whitespace-delimited languages like YAML where sometimes it can be difficult to see the nesting level of a given headline in deeply-nested configuration.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">highlight-indent-guides</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org55d5d8a" class="outline-4">
<h4 id="org55d5d8a">Quick buffer switcher</h4>
<div class="outline-text-4" id="text-org55d5d8a">
<blockquote>
<p>
PC style quick buffer switcher for Emacs
</p>

<p>
This switches Emacs buffers according to most-recently-used/least-recently-used order using C-tab and C-S-tab keys. It is similar to window or tab switchers that are available in PC desktop environments or applications.
</p>
</blockquote>

<p>
Bound by default to <code>C-&lt;TAB&gt;</code> and <code>C-S-&lt;TAB&gt;</code>, I have decided that these are sane defaults. Just install this and turn it on.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">pc-bufsw</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>pc-bufsw<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org554de94" class="outline-3">
<h3 id="org554de94">Font</h3>
<div class="outline-text-3" id="text-org554de94">
<p>
The FiraCode font is a programming-focused font with ligatures that looks nice and has a open license so I'm standardizing my editor configuration on that font
</p>
</div>
<ul class="org-ul">
<li><a id="orga0d084b"></a>FiraCode Font Installation Script<br />
<div class="outline-text-5" id="text-orga0d084b">
<p>
Installing fonts is always a pain so I'm going to use a variation of the installation script that the FireCode devs provide under their manual installation guide. This should be Linux-distribution agnostic, even though the font can be installed as a system package with on all of my systems on 2022-02-19 Sat with just
</p>

<pre class="example">
sudo apt install fonts-firacode
</pre>


<p>
because I don't intend to use Ubuntu as my only system forever. I just happen to be on Ubuntu on 2022-02-19 Sat.
</p>

<p>
But first, I want to be able to run this script every time Emacs starts, but only have the script actually do anything if the font is not already installed.
</p>

<p>
This guard will check to see if there's any font with 'fira' in it (case insensitive) and if so, just exits the script. This will happen on most executions.
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #c678dd; font-weight: bold;">set</span> <span style="color: #a9a1e1;">-eo</span> pipefail
[[ <span style="color: #51afef;">$(</span><span style="color: #51afef; background-color: #282c34; font-weight: bold;">fc-list</span><span style="color: #bbc2cf; background-color: #282c34;"> </span><span style="color: #51afef; background-color: #282c34;">|</span><span style="color: #bbc2cf; background-color: #282c34;"> </span><span style="color: #51afef; background-color: #282c34; font-weight: bold;">grep</span><span style="color: #bbc2cf; background-color: #282c34;"> </span><span style="color: #a9a1e1; background-color: #282c34;">-i</span><span style="color: #bbc2cf; background-color: #282c34;"> fira</span><span style="color: #51afef;">)</span> <span style="color: #51afef;">!=</span> <span style="color: #98be65;">""</span> ]] <span style="color: #51afef;">&amp;&amp;</span> <span style="color: #51afef; font-weight: bold;">exit</span> 0
</pre>
</div>

<p>
Now here's the standard installation script, stripped of the shebang to go after my guard
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #dcaeea;">fonts_dir</span>=<span style="color: #98be65;">"</span><span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">HOME</span><span style="color: #51afef;">}</span><span style="color: #98be65;">/.local/share/fonts"</span>
<span style="color: #51afef;">if</span> [ ! -d <span style="color: #98be65;">"</span><span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">fonts_dir</span><span style="color: #51afef;">}</span><span style="color: #98be65;">"</span> ]<span style="color: #51afef;">;</span> <span style="color: #51afef;">then</span>
    <span style="color: #51afef; font-weight: bold;">mkdir</span> <span style="color: #a9a1e1;">-p</span> <span style="color: #98be65;">"</span><span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">fonts_dir</span><span style="color: #51afef;">}</span><span style="color: #98be65;">"</span>
<span style="color: #51afef;">fi</span>

<span style="color: #dcaeea;">version</span>=5.2
<span style="color: #dcaeea;">zip</span>=Fira_Code_v<span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">version</span><span style="color: #51afef;">}</span>.zip
<span style="color: #51afef; font-weight: bold;">curl</span> <span style="color: #a9a1e1;">--fail</span> <span style="color: #a9a1e1;">--location</span> <span style="color: #a9a1e1;">--show-error</span> https://github.com/tonsky/FiraCode/releases/download/<span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">version</span><span style="color: #51afef;">}</span>/<span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">zip</span><span style="color: #51afef;">}</span> <span style="color: #a9a1e1;">--output</span> <span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">zip</span><span style="color: #51afef;">}</span>
<span style="color: #51afef; font-weight: bold;">unzip</span> <span style="color: #a9a1e1;">-o</span> <span style="color: #a9a1e1;">-q</span> <span style="color: #a9a1e1;">-d</span> <span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">fonts_dir</span><span style="color: #51afef;">}</span> <span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">zip</span><span style="color: #51afef;">}</span>
<span style="color: #51afef; font-weight: bold;">rm</span> <span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">zip</span><span style="color: #51afef;">}</span>

<span style="color: #5B6268;"># for now we need the Symbols font, too</span>
<span style="color: #dcaeea;">zip</span>=FiraCode-Regular-Symbol.zip
<span style="color: #51afef; font-weight: bold;">curl</span> <span style="color: #a9a1e1;">--fail</span> <span style="color: #a9a1e1;">--location</span> <span style="color: #a9a1e1;">--show-error</span> https://github.com/tonsky/FiraCode/files/412440/<span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">zip</span><span style="color: #51afef;">}</span> <span style="color: #a9a1e1;">--output</span> <span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">zip</span><span style="color: #51afef;">}</span>
<span style="color: #51afef; font-weight: bold;">unzip</span> <span style="color: #a9a1e1;">-o</span> <span style="color: #a9a1e1;">-q</span> <span style="color: #a9a1e1;">-d</span> <span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">fonts_dir</span><span style="color: #51afef;">}</span> <span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">zip</span><span style="color: #51afef;">}</span>
<span style="color: #51afef; font-weight: bold;">rm</span> <span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">zip</span><span style="color: #51afef;">}</span>

<span style="color: #51afef; font-weight: bold;">fc-cache</span> <span style="color: #a9a1e1;">-f</span>
</pre>
</div>

<p>
This installation script was sourced from <a href="https://github.com/tonsky/FiraCode/wiki/Linux-instructions#installing-with-a-package-manager">https://github.com/tonsky/FiraCode/wiki/Linux-instructions#installing-with-a-package-manager</a>
</p>
</div>
</li>

<li><a id="org8891a27"></a>Enable FiraCode Font<br />
<div class="outline-text-5" id="text-org8891a27">
<p>
Calling the script from above will install the font
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>shell-command <span style="color: #98be65;">"chmod +x ~/.emacs.d/install-firacode-font.bash"</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>shell-command <span style="color: #98be65;">"~/.emacs.d/install-firacode-font.bash"</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
Enable it
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>add-to-list 'default-frame-alist '<span style="color: #c678dd;">(</span>font . <span style="color: #98be65;">"Fira Code-12"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>set-frame-font <span style="color: #98be65;">"Fira Code-12"</span> nil t<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org47b42e9"></a>Configure FiraCode special features<br />
<div class="outline-text-5" id="text-org47b42e9">
<p>
FiraCode offers ligatures for programming symbols, which is cool. 
</p>
</div>
<ul class="org-ul">
<li><a id="orgd4e20ae"></a><span class="todo TODO">TODO</span> Use the new method after upgrading to Emacs 28<br />
<div class="outline-text-6" id="text-orgd4e20ae">
<p>
The following, taken from the <a href="https://github.com/tonsky/FiraCode/wiki/Emacs-instructions#using-ligatureel">installation guide</a>, enables these using the <code>ligature.el</code> method:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">;; Enable the www ligature in every possible major mode</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(ligature-set-ligatures 't '("www"))</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">;; Enable ligatures in programming modes                                                           </span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(ligature-set-ligatures 'prog-mode '("www" "**" "***" "**/" "*&gt;" "*/" "\\\\" "\\\\\\" "{-" "::"</span>
<span style="color: #5B6268;">;;                                      </span><span style="color: #5B6268;">":::" ":=" "!!" "!=" "!==" "-}" "----" "--&gt;" "-&gt;" "-&gt;&gt;"</span>
<span style="color: #5B6268;">;;                                      </span><span style="color: #5B6268;">"-&lt;" "-&lt;&lt;" "-~" "#{" "#[" "##" "###" "####" "#(" "#?" "#_"</span>
<span style="color: #5B6268;">;;                                      </span><span style="color: #5B6268;">"#_(" ".-" ".=" ".." "..&lt;" "..." "?=" "??" ";;" "/*" "/**"</span>
<span style="color: #5B6268;">;;                                      </span><span style="color: #5B6268;">"/=" "/==" "/&gt;" "//" "///" "&amp;&amp;" "||" "||=" "|=" "|&gt;" "^=" "$&gt;"</span>
<span style="color: #5B6268;">;;                                      </span><span style="color: #5B6268;">"++" "+++" "+&gt;" "=:=" "==" "===" "==&gt;" "=&gt;" "=&gt;&gt;" "&lt;="</span>
<span style="color: #5B6268;">;;                                      </span><span style="color: #5B6268;">"=" "&gt;&gt;-" "&gt;&gt;=" "&gt;&gt;&gt;" "&lt;*"</span>
<span style="color: #5B6268;">;;                                      </span><span style="color: #5B6268;">"&lt;*&gt;" "&lt;|" "&lt;|&gt;" "&lt;$" "&lt;$&gt;" "&lt;!--" "&lt;-" "&lt;--" "&lt;-&gt;" "&lt;+"</span>
<span style="color: #5B6268;">;;                                      </span><span style="color: #5B6268;">"&lt;+&gt;" "&lt;=" "&lt;==" "&lt;=&gt;" "&lt;=&lt;" "&lt;&gt;" "&lt;&lt;" "&lt;&lt;-" "&lt;&lt;=" "&lt;&lt;&lt;"</span>
<span style="color: #5B6268;">;;                                      </span><span style="color: #5B6268;">"&lt;~" "&lt;~~" "&lt;/" "&lt;/&gt;" "~@" "~-" "~&gt;" "~~" "~~&gt;" "%%"))</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(global-ligature-mode 't)</span>
</pre>
</div>

<p>
Unfortunately, it's not supported in Emacs 27, which is what I'm using for now. <span class="timestamp-wrapper"><span class="timestamp">&lt;2022-02-19 Sat&gt;</span></span>
In the future I would like to use this approach, so I will leave it commented out above.
</p>
</div>
</li>

<li><a id="org4f3eac9"></a>Configure with a less-optimal method<br />
<div class="outline-text-6" id="text-org4f3eac9">
<p>
Ligatures have turned out to be a bigger pain than I'd hoped. This is the suboptimal configuration that I'll keep until Emacs 28 comes out. Once that's out, I can delete all of this, and also I can remove the fetch and installation of the FiraCode Symbols font in the installation script above.
</p>

<p>
First of all, install the helper mode:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">fira-code-mode</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">List of ligatures to turn off</span>
  <span style="color: #c678dd;">:custom</span> <span style="color: #c678dd;">(</span>fira-code-mode-disabled-ligatures '<span style="color: #98be65;">(</span><span style="color: #98be65;">"[]"</span> <span style="color: #98be65;">"#{"</span> <span style="color: #98be65;">"#("</span> <span style="color: #98be65;">"#_"</span> <span style="color: #98be65;">"#_("</span> <span style="color: #98be65;">"x"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #51afef;">)</span>
</pre>
</div>

<p>
But the ligatures are broken in the terminal with this mode. I would prefer that they just get disabled automatically when opening buffers in the terminal, but I guess the maintainer of <code>fira-code-mode</code> doesn't use the terminal
</p>

<p>
I need to at least be able to quickly turn the ligatures off, and shouldn't automatically turn them on when opening a file in the terminal.
</p>

<p>
First I needed a helper method to determine what buffers are active
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">https://emacs.stackexchange.com/questions/10785/get-list-of-active-minor-modes-in-buffer</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">isw-get-active-minor-modes-in-buffer-list</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Get a list of which minor modes are enabled in the current buffer."</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">let</span> <span style="color: #98be65;">(</span>$list<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span>mapc <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #4db5bd;">(</span>$mode<span style="color: #4db5bd;">)</span>
            <span style="color: #4db5bd;">(</span><span style="color: #51afef;">condition-case</span> nil
                <span style="color: #51afef;">(</span><span style="color: #51afef;">if</span> <span style="color: #c678dd;">(</span><span style="color: #51afef;">and</span> <span style="color: #98be65;">(</span>symbolp $mode<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>symbol-value $mode<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
                    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> $list <span style="color: #98be65;">(</span>cons $mode $list<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
              <span style="color: #51afef;">(</span><span style="color: #ECBE7B;">error</span> nil<span style="color: #51afef;">)</span><span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span>
          minor-mode-list<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span>sort $list 'string&lt;<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
Now I can use that function to write a command that turns them on and off in the current buffer. I have this bound to <code>SPC t l</code> in the <a href="#org550a346">Global Keybindings</a> section.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">toggle-ligatures</span> <span style="color: #c678dd;">()</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>memq 'fira-code-mode <span style="color: #a9a1e1;">(</span>isw-get-active-minor-modes-in-buffer-list<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span>fira-code-mode -1<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span>fira-code-mode<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>redraw-display<span style="color: #c678dd;">)</span>
  <span style="color: #51afef;">)</span>
</pre>
</div>
<p>
Finally, define the hook so that it doesn't automatically turn ligatures on when opening files in the terminal.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">isw-enable-ligatures-hook</span> <span style="color: #c678dd;">()</span> 
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>not <span style="color: #a9a1e1;">(</span>equal <span style="color: #4db5bd;">(</span>window-system<span style="color: #4db5bd;">)</span> nil<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span>fira-code-mode 1<span style="color: #98be65;">)</span>
    <span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>add-hook 'prog-mode-hook 'isw-enable-ligatures-hook<span style="color: #51afef;">)</span>
</pre>
</div>

<p>
This solves the problem except when visiting a buffer in teminal which is already open in the GUI. I couldn't quite get this working, so it's commented out, but this is supposed to disable fira-code-mode when visiting the buffer. The helper works when I run it manually, but something is wrong about how I'm using <code>window-selection-change-functions</code> I guess.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(defun isw-disable-ligatures-in-terminals ()</span>
<span style="color: #5B6268;">;;   </span><span style="color: #5B6268;">(print "running")</span>
<span style="color: #5B6268;">;;   </span><span style="color: #5B6268;">(if (equal (window-system) nil)</span>
<span style="color: #5B6268;">;;       </span><span style="color: #5B6268;">(if (memq 'fira-code-mode (isw-get-active-minor-modes-in-buffer-list))</span>
<span style="color: #5B6268;">;;           </span><span style="color: #5B6268;">(progn</span>
<span style="color: #5B6268;">;;             </span><span style="color: #5B6268;">(print "deactivating")</span>
<span style="color: #5B6268;">;;             </span><span style="color: #5B6268;">(fira-code-mode -1))</span>
<span style="color: #5B6268;">;;         </span><span style="color: #5B6268;">)))</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(add-hook 'window-selection-change-functions 'isw-disable-ligatures-in-terminals)</span>
</pre>
</div>

<p>
Not spending more time on this unless Emacs 28 doesn't fix the problem. <code>SPC t l</code> is good enough.
Boy the ligatures look nice in the GUI though..
</p>
</div>
</li>
</ul>
</li>
</ul>
</div>

<div id="outline-container-org7ae480d" class="outline-3">
<h3 id="org7ae480d">Language Configuration</h3>
<div class="outline-text-3" id="text-org7ae480d">
</div>
<div id="outline-container-orgbae471e" class="outline-4">
<h4 id="orgbae471e">Language Server Protocol</h4>
<div class="outline-text-4" id="text-orgbae471e">
<p>
LSP provides a generic interface for text editors to talk to various language servers on the backend. A few languages utilize LSP so it gets configured before the language-specific section.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">lsp-mode</span>
  <span style="color: #c678dd;">:init</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">use flycheck</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> lsp-prefer-flymake nil<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> lsp-headerline-breadcrumb-enable nil<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>


<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">treemacs integration</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">lsp-treemacs</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">the UI</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">lsp-ui</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">linking breaks treemacs</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">also it's annoying</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> lsp-enable-links nil<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">folding library integation</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">lsp-origami</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">helm integration</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">helm-lsp</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> lsp-eldoc-enable-hover t<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> lsp-ui-doc-enable t<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> lsp-ui-doc-include-signature t<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> lsp-ui-doc-position 'at-point<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> lsp-ui-doc-use-childframe nil<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> lsp-ui-doc-use-webkit nil<span style="color: #51afef;">)</span>
</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="org206d435"></a>Fix background color of lsp-ui-doc in various themes<br />
<div class="outline-text-5" id="text-org206d435">
<p>
By default, for some reason, lsp-ui-doc chooses an ugly background color that looks bad and doesn't match the background surrounding most of the text.
</p>

<p>
I had to edit a few faces with Customize. Some notes:
</p>

<ol class="org-ol">
<li>Using lsp-ui-doc's child frame mode causes lsp-ui-doc-background to be ignored for some reason
so <code>lsp-ui-doc-use-childframe</code> must be <code>nil</code></li>

<li>By default, the background color is interrupted by a mismatch with <code>markdown-code-face</code> which doesn't match <code>lsp-ui-doc-background</code></li>

<li>Thus, <code>lsp-ui-doc-background</code> is set via <code>M-x customize-face</code> to inherit from (match) <code>markdown-code-face</code> and saved in <code>.emacs-custom.el</code></li>
</ol>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgd38ab29" class="outline-4">
<h4 id="orgd38ab29">Tree Sitter</h4>
<div class="outline-text-4" id="text-orgd38ab29">
<p>
Tree-sitter reads the AST to provide better syntax highlighting
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">tree-sitter</span>
  <span style="color: #c678dd;">:diminish</span>
  <span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">tree-sitter-langs</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>global-tree-sitter-mode<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-hook 'tree-sitter-after-on-hook #'tree-sitter-hl-mode<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1e69ac0" class="outline-4">
<h4 id="org1e69ac0">YAML</h4>
<div class="outline-text-4" id="text-org1e69ac0">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">yaml-mode</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-hook 'yaml-mode-hook 'highlight-indent-guides-mode<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org72ea67a" class="outline-4">
<h4 id="org72ea67a">Markdown</h4>
<div class="outline-text-4" id="text-org72ea67a">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">markdown-mode</span>
  <span style="color: #c678dd;">:ensure</span> t
  <span style="color: #c678dd;">:mode</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"README\\.md\\'"</span> . gfm-mode<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span><span style="color: #98be65;">"\\.md\\'"</span> . gfm-mode<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span><span style="color: #98be65;">"\\.markdown\\'"</span> . gfm-mode<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-hook 'markdown-mode-hook 'visual-line-mode<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-hook 'markdown-mode-hook 'variable-pitch-mode<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">this can go here because it affects Markdown's live preview mode</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">but I should consider putting it somewhere more general maybe?</span>
<span style="color: #51afef;">(</span>add-hook 'eww-mode-hook 'visual-line-mode<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc5b11dc" class="outline-4">
<h4 id="orgc5b11dc">Docker</h4>
<div class="outline-text-4" id="text-orgc5b11dc">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">dockerfile-mode</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-to-list 'auto-mode-alist '<span style="color: #c678dd;">(</span><span style="color: #98be65;">"Dockerfile\\'"</span> . dockerfile-mode<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>put 'dockerfile-image-name 'safe-local-variable #'stringp<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5ee92fa" class="outline-4">
<h4 id="org5ee92fa">Python</h4>
<div class="outline-text-4" id="text-org5ee92fa">
<p>
<code>auto-virtualenv</code> looks in <code>$WORKON_HOME</code> for virtualenvs, and then I can run <code>M-x pyvenv-workon RET project RET</code> to choose my virtualenv for <code>project</code>, found in <code>$WORKON_HOME</code>, or a symlink anyway.
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">auto-virtualenv</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-hook 'python-mode-hook 'auto-virtualenv-set-virtualenv<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>setenv <span style="color: #98be65;">"WORKON_HOME"</span> <span style="color: #98be65;">"~/.virtualenvs"</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
So the convention for use is:
</p>

<ol class="org-ol">
<li>Create a virtualenv as usual for the project</li>
<li>Symlink it inside ~/.virtualenvs</li>
<li><code>M-x pyvenv-workon</code></li>
</ol>
</div>
</div>

<div id="outline-container-org367eeaf" class="outline-4">
<h4 id="org367eeaf">Go</h4>
<div class="outline-text-4" id="text-org367eeaf">

<div class="figure">
<p><img src="My_Environment/2020-05-18_22-12-18_Peek%25202020-05-18%252022-11.gif" alt="2020-05-18_22-12-18_Peek%25202020-05-18%252022-11.gif" />
</p>
</div>

<p>
Go support requires some dependencies. I will try to list them all here.
Stuff I have installed has some overlap because of the in-progress move to LSP, but I'll prune it later.
</p>

<ul class="org-ul">
<li>First, <code>go</code> itself must be installed, install however, and avalailable on the <code>PATH</code>.</li>

<li><code>gopls</code>, the language server for LSP mentioned above <a href="https://github.com/golang/tools/blob/master/gopls/doc/user.md">https://github.com/golang/tools/blob/master/gopls/doc/user.md</a>. I have been just running this off of <code>master</code> so I can experience all the latest <del>bugs</del> features, so clone the gopls project (TODO find the url for it and put a link here) and <code>go install</code> it. After you're done <code>gopls</code> should also be on the <code>PATH</code>.
<a href="https://github.com/golang/tools/blob/master/gopls/doc/emacs.md#gopls-configuration">Directions for configuring <code>gopls</code> through this file are found here.</a></li>

<li><code>golint</code> has to be installed independently</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef;">$</span> <span style="color: #a9a1e1;">go</span> get https://github.com/golang/lint
</pre>
</div>

<p>
Nothing to do with Emacs, but <code>eg</code> also looks really cool:
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef;">$</span> <span style="color: #a9a1e1;">go</span> get golang.org/x/tools/cmd/eg
</pre>
</div>

<ul class="org-ul">
<li><a href="https://github.com/golangci/golangci-lint"><code>golangci-lint</code></a> is a meta linter that calls a bunch of 3rd party linters (configurable) and replaces the old one that used to freeze my computer. <code>go-metalinter</code>, I think, is what it was called. Anyway, it used to crash my computer and <i>apparently</i> that was a common experience. Anyway <code>golangci-lint</code> must be installed independently, too:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #5B6268;"># install it into ./bin/</span>
<span style="color: #51afef;">$</span> <span style="color: #a9a1e1;">curl</span> <span style="color: #a9a1e1;">-sSfL</span> https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh <span style="color: #51afef;">|</span> <span style="color: #51afef; font-weight: bold;">sh</span> <span style="color: #a9a1e1;">-s</span> v1.23.6
</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="orgdf7b1e3"></a>Initial Setup<br />
<div class="outline-text-5" id="text-orgdf7b1e3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">set-gopls-lib-dirs</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Add $GOPATH/pkg/mod to the 'library path'."</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">stops lsp from continually asking if Go projects should be imported</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> lsp-clients-go-library-directories
        <span style="color: #98be65;">(</span>list
         <span style="color: #98be65;">"/usr"</span>
         <span style="color: #a9a1e1;">(</span>concat <span style="color: #4db5bd;">(</span>getenv <span style="color: #98be65;">"GOPATH"</span><span style="color: #4db5bd;">)</span> <span style="color: #98be65;">"/pkg/mod"</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">go-mode</span>
  <span style="color: #c678dd;">:hook</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>go-mode . lsp-deferred<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span>go-mode . set-gopls-lib-dirs<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span>go-mode . yas-minor-mode<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">fixes ctrl-o after goto-definition by telling evil that godef-jump jumps</span>
  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">I don't believe I need to do this anymore, as I use lsp instead of godef now</span>
  <span style="color: #c678dd;">(</span>evil-add-command-properties #'godef-jump <span style="color: #c678dd;">:jump</span> t<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">enable golangci-lint to work with flycheck</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">flycheck-golangci-lint</span>
  <span style="color: #c678dd;">:hook</span> <span style="color: #c678dd;">(</span>go-mode . flycheck-golangci-lint-setup<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org498fd12"></a>Package and Configuration for Executing Tests<br />
<div class="outline-text-5" id="text-org498fd12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">gotest</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>advice-add 'go-test-current-project <span style="color: #c678dd;">:before</span> #'projectile-save-project-buffers<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>advice-add 'go-test-current-test <span style="color: #c678dd;">:before</span> #'projectile-save-project-buffers<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-hook 'go-test-mode-hook 'visual-line-mode<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orge984b8f"></a>REPL<br />
<div class="outline-text-5" id="text-orge984b8f">
<p>
<a href="https://github.com/motemen/gore">Gore</a> provides a REPL and <a href="https://github.com/manute/gorepl-mode">gorepl-mode</a> lets you use it from Emacs. In order to use the REPL from Emacs, you must first install Gore:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef; font-weight: bold;">go</span> get <span style="color: #a9a1e1;">-u</span> github.com/motemen/gore/cmd/gore
</pre>
</div>
<p>
Gore also uses gocode for code completion, so install that (even though Emacs uses go-pls for the same).
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef; font-weight: bold;">go</span> get <span style="color: #a9a1e1;">-u</span> github.com/mdempsky/gocode
</pre>
</div>

<p>
Once that's done <code>gorepl-mode</code> is ready to be installed:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">gorepl-mode</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgb8b7815"></a>Interactive debugger<br />
<div class="outline-text-5" id="text-orgb8b7815">
<p>
I got jealous of a coworker with an IDE who apparently has an interactive debugger, so let's see if this is any good. It's been a long time since I've really had a debugger ü§£
</p>
</div>

<ul class="org-ul">
<li><a id="orgadb2adf"></a>Resources<br />
<div class="outline-text-6" id="text-orgadb2adf">
<p>
Figured out how to do this, just need to add it..
<a href="https://emacs-lsp.github.io/dap-mode/page/configuration/#go">https://emacs-lsp.github.io/dap-mode/page/configuration/#go</a>
</p>


<p>
<span class="timestamp-wrapper"><span class="timestamp">&lt;2022-02-10 Thu&gt; </span></span> Found another guide here, let's try it out
<a href="https://apmattil.medium.com/debug-go-golang-with-emacs-fbf840c0aa56">https://apmattil.medium.com/debug-go-golang-with-emacs-fbf840c0aa56</a>
</p>
</div>
</li>

<li><a id="org35ae286"></a>Installation and Configuration<br />
<div class="outline-text-6" id="text-org35ae286">
<p>
Install <code>dap-mode</code> and <code>dap-go</code>. <code>dap-mode</code> is probably useful for other languages so at some point I will want to refactor it out and install it alongside LSP, but keep <code>dap-go</code> here. Probably. But this works for now, and who knows, maybe debugging Go is really all I care about.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">dap-mode</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">dap-go</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>dap-mode 1<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>dap-ui-mode 1<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>dap-ui-controls-mode 1<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>tooltip-mode 1<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> dap-ui-variable-length 100<span style="color: #51afef;">)</span>
</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="org3286ef5"></a>On first install<br />
<div class="outline-text-7" id="text-org3286ef5">
<p>
Theoretically you should be able to run this
</p>
<pre class="example">
M-x dap-go-setup
</pre>


<p>
But it is subject to rate-limiting so I just checked in the results of calling this under <code>.extension</code>. It's all MIT-licensed so this is fine.
</p>
</div>
</li>
</ul>
</li>

<li><a id="org50844e9"></a>Use<br />
<ul class="org-ul">
<li><a id="orge4147f5"></a>When debugging a new executable for the first time<br />
<div class="outline-text-7" id="text-orge4147f5">
<p>
Run this command
</p>
<pre class="example">
M-x dap-debug-edit-template
</pre>

<p>
and save the <code>(dap-register-debug-template )</code> call that is generated.. somewhere alongside the code hopefully.
I'll come up with some convention for storing these.
Maybe dir-locals (<code>SPC p E</code>)
</p>
</div>
</li>
<li><a id="org625c35c"></a>Each time when ready to start debugging<br />
<div class="outline-text-7" id="text-org625c35c">
<p>
Start debugging by running:
</p>
<pre class="example">
M-x dap-debug
</pre>

<p>
Click in the margins to set breakpoints with <code>dap-ui-mode</code> enabled (üôå)
</p>
</div>
</li>
</ul>
</li>
</ul>
</li>

<li><a id="orga6408b5"></a>Mode-Specific Keybindings<br />
<div class="outline-text-5" id="text-orga6408b5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>general-define-key
 <span style="color: #c678dd;">:states</span>  'normal
 <span style="color: #c678dd;">:keymaps</span> 'go-mode-map
 <span style="color: #98be65;">",a"</span>     'go-import-add
 <span style="color: #98be65;">",d"</span>     'lsp-describe-thing-at-point
 <span style="color: #98be65;">",gg"</span>    'lsp-find-definition
 <span style="color: #98be65;">",gt"</span>    'lsp-find-type-definition
 <span style="color: #98be65;">",i"</span>     'lsp-find-implementation
 <span style="color: #98be65;">",n"</span>     'lsp-rename
 <span style="color: #98be65;">",r"</span>     'lsp-find-references
 <span style="color: #98be65;">",tp"</span>    'go-test-current-project
 <span style="color: #98be65;">",tt"</span>    'go-test-current-test
 <span style="color: #98be65;">",tf"</span>    'go-test-current-file
 <span style="color: #98be65;">",x"</span>     'lsp-execute-code-action
 <span style="color: #98be65;">",lsp"</span>   'lsp-workspace-restart
 <span style="color: #98be65;">"gd"</span>     'lsp-find-definition

 <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">using the ,c namespace for repl and debug stuff to follow the C-c</span>
 <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">convention found in other places in Emacs</span>
 <span style="color: #98be65;">",cc"</span>     'dap-debug
 <span style="color: #98be65;">",cr"</span>     'gorepl-run
 <span style="color: #98be65;">",cg"</span>     'gorepl-run-load-current-file
 <span style="color: #98be65;">",cx"</span>     'gorepl-eval-region
 <span style="color: #98be65;">",cl"</span>     'gorepl-eval-line

 <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">origami-mode works better with lsp than regular evil-mode</span>
 <span style="color: #98be65;">"TAB"</span>    'origami-toggle-node

 <span style="color: #98be65;">"zm"</span>     'origami-toggle-node
 <span style="color: #98be65;">"zM"</span>     'origami-toggle-all-nodes

 <span style="color: #98be65;">"zc"</span>     'origami-close-node
 <span style="color: #98be65;">"zC"</span>     'origami-close-node-recursively

 <span style="color: #98be65;">"zo"</span>     'origami-open-node
 <span style="color: #98be65;">"zO"</span>     'origami-open-node-recursively

 <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">except for when it totally breaks lol</span>
 <span style="color: #98be65;">"zr"</span>     'origami-reset
 <span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>autoload 'go-mode <span style="color: #98be65;">"go-mode"</span> nil t<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-to-list 'auto-mode-alist '<span style="color: #c678dd;">(</span><span style="color: #98be65;">"\\.go\\'"</span> . go-mode<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgfcceb38"></a>Hooks<br />
<div class="outline-text-5" id="text-orgfcceb38">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">disable "Organize Imports" warning that never goes away</span>
<span style="color: #51afef;">(</span>add-hook 'go-mode-hook
          <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">()</span>
            <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Go likes origami-mode</span>
            <span style="color: #98be65;">(</span>origami-mode<span style="color: #98be65;">)</span>
            <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">lsp ui sideline code actions are annoying in Go</span>
            <span style="color: #98be65;">(</span><span style="color: #51afef;">setq-local</span> lsp-ui-sideline-show-code-actions nil<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">sets the visual tab width to 2 spaces per tab in Go buffers</span>
<span style="color: #51afef;">(</span>add-hook 'go-mode-hook <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">()</span>
                          <span style="color: #98be65;">(</span>set <span style="color: #a9a1e1;">(</span>make-local-variable 'tab-width<span style="color: #a9a1e1;">)</span> 2<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>


<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">lsp-go-install-save-hooks</span> <span style="color: #c678dd;">()</span>
  <span style="color: #c678dd;">(</span>add-hook 'before-save-hook #'lsp-format-buffer t t<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>add-hook 'before-save-hook #'lsp-organize-imports t t<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>add-hook 'go-mode-hook #'lsp-go-install-save-hooks<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org91b4db4"></a>Exclude a certain folder from LSP projects<br />
<div class="outline-text-5" id="text-org91b4db4">
<p>
Certain projects use a gopath folder inside the project root and this confuses LSP/gopls.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">with-eval-after-load</span> 'lsp-mode
  <span style="color: #c678dd;">(</span>add-to-list 'lsp-file-watch-ignored-directories <span style="color: #98be65;">"[/\\\\]\\.GOPATH\\'"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
Incidentally, that regex up there is a fucking nightmare and Emacs Lisp should be ashamed. That or maybe there's some secret way to do it so there isn't backslash hell. But holy crap that is a horrible line of code. I think we can all agree with that.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org4f496e0" class="outline-4">
<h4 id="org4f496e0">Rust</h4>
<div class="outline-text-4" id="text-org4f496e0">
<p>
To install the Rust language server:
</p>
<ol class="org-ol">
<li>Install <code>rustup</code>.</li>
<li>Run <code>rustup component add rls rust-analysis rust-src</code>.</li>
</ol>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">rust-mode</span>
  <span style="color: #c678dd;">:hook</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>rust-mode . lsp-deferred<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>


<span style="color: #51afef;">(</span>general-define-key
 <span style="color: #c678dd;">:states</span>  'normal
 <span style="color: #c678dd;">:keymaps</span> 'rust-mode-map
 <span style="color: #98be65;">",d"</span>     'lsp-describe-thing-at-point
 <span style="color: #98be65;">",gg"</span>    'lsp-find-definition
 <span style="color: #98be65;">",gt"</span>    'lsp-find-type-definition
 <span style="color: #98be65;">",i"</span>     'lsp-find-implementation
 <span style="color: #98be65;">",n"</span>     'lsp-rename
 <span style="color: #98be65;">",r"</span>     'lsp-find-references
 <span style="color: #98be65;">",x"</span>     'lsp-execute-code-action
 <span style="color: #98be65;">",lsp"</span>   'lsp-workspace-restart
 <span style="color: #98be65;">"gd"</span>     'lsp-find-definition
 <span style="color: #51afef;">)</span>


<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">lsp-rust-install-save-hooks</span> <span style="color: #c678dd;">()</span>
  <span style="color: #c678dd;">(</span>add-hook 'before-save-hook #'lsp-format-buffer t t<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>add-hook 'rust-mode-hook #'lsp-rust-install-save-hooks<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge39ce66" class="outline-4">
<h4 id="orge39ce66">Web</h4>
<div class="outline-text-4" id="text-orge39ce66">
<p>
After some amount of searching and fumbling about I have discovered <a href="http://web-mode.org/"><code>web-mode</code></a> which appears to be the one-stop-shop solution for all of your HTML and browser-related needs. It handles a whole slew of web-related languages and templating formats and plays nicely with LSP. It's also the only package that I could find that supported <code>.tsx</code> files at all.
</p>

<p>
So yay for <code>web-mode</code>!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">web-mode</span>
  <span style="color: #c678dd;">:mode</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"\\.html$"</span> . web-mode<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span><span style="color: #98be65;">"\\.js$"</span>   . web-mode<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span><span style="color: #98be65;">"\\.jsx$"</span>  . web-mode<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span><span style="color: #98be65;">"\\.ts$"</span>   . web-mode<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span><span style="color: #98be65;">"\\.tsx$"</span>  . web-mode<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span><span style="color: #98be65;">"\\.css$"</span>  . web-mode<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">:hook</span>
  <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>web-mode . lsp-deferred<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>

  <span style="color: #c678dd;">:config</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> web-mode-enable-css-colorization t<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> web-mode-enable-auto-pairing t<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="orge51c67b"></a>Setting highlighting for special template modes<br />
<div class="outline-text-5" id="text-orge51c67b">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">web-mode can provide syntax highlighting for many template</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">engines, but it can't detect the right one if the template uses a generic ending.</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">If a project uses a generic ending for its templates, such</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">as .html, add it below. It would be more elegant to handle this by</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">setting this variable in .dir-locals.el for each project,</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">unfortunately due to this https://github.com/fxbois//issues/799 that</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">is not possible :(</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> web-mode-engines-alist '<span style="color: #c678dd;">(</span>
        <span style="color: #98be65;">(</span><span style="color: #98be65;">"go"</span> . <span style="color: #98be65;">".*example_project_dir/.*\\.html\\'"</span><span style="color: #98be65;">)</span>
        <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">add more projects here..</span>
        <span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org83c76d4" class="outline-4">
<h4 id="org83c76d4">JSON</h4>
<div class="outline-text-4" id="text-org83c76d4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">json-mode</span>
  <span style="color: #c678dd;">:mode</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"\\.json$"</span> . json-mode <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>add-hook 'json-mode-hook 'highlight-indent-guides-mode<span style="color: #51afef;">)</span>
</pre>
</div>


<blockquote>
<p>
Default Keybindings
    C-c C-f: format the region/buffer with json-reformat (<a href="https://github.com/gongo/json-reformat">https://github.com/gongo/json-reformat</a>)
    C-c C-p: display a path to the object at point with json-snatcher (<a href="https://github.com/Sterlingg/json-snatcher">https://github.com/Sterlingg/json-snatcher</a>)
    C-c P: copy a path to the object at point to the kill ring with json-snatcher (<a href="https://github.com/Sterlingg/json-snatcher">https://github.com/Sterlingg/json-snatcher</a>)
    C-c C-t: Toggle between true and false at point
    C-c C-k: Replace the sexp at point with null
    C-c C-i: Increment the number at point
    C-c C-d: Decrement the number at point
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org150c2f1" class="outline-4">
<h4 id="org150c2f1">Shell</h4>
<div class="outline-text-4" id="text-org150c2f1">
<p>
Shell mode is pretty good vanilla, but I prefer to use spaces rather than tabs for indents with languages like Bash because they just tend to format more reliably. Tabs are .. theoretically more flexible, so maybe I can come back to consider this.
</p>

<p>
But for now, disable <code>indent-tabs-mode</code> in shell script editing mode because I have been observing behavior from <code>whitespace-cleanup-mode</code> that when <code>indent-tabs-mode</code> is <code>t</code> it will change 4 spaces to a tab even if there are other spaces being used for indent, even on the same line, and regardless as to the never-ending debate about spaces and tabs and all that, everyone can agree that 1) mixing spaces and tabs is terrible and 2) your editor shouldn't be mixing spaces and tabs automatically at pre-save time.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>add-hook 'sh-mode-hook
          <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">()</span>
            <span style="color: #98be65;">(</span><span style="color: #51afef;">defvar-local</span> <span style="color: #dcaeea;">indent-tabs-mode</span> nil<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org1d136d3"></a><span class="todo TODO">TODO</span> I don't know if this still works üëÜ<br /></li>
</ul>
</div>
<div id="outline-container-org2accd34" class="outline-4">
<h4 id="org2accd34">Salt</h4>
<div class="outline-text-4" id="text-org2accd34">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">salt-mode</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-hook 'salt-mode-hook
        <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">()</span>
            <span style="color: #98be65;">(</span>flyspell-mode 1<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>


<span style="color: #51afef;">(</span>general-define-key
 <span style="color: #c678dd;">:states</span>  'normal
 <span style="color: #c678dd;">:keymaps</span> 'sh-mode-map
 <span style="color: #98be65;">",c"</span> <span style="color: #c678dd;">(</span><span style="color: #51afef;">general-simulate-key</span> <span style="color: #98be65;">"C-x h C-M-x"</span><span style="color: #c678dd;">)</span>
 <span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org03346c7" class="outline-3">
<h3 id="org03346c7">Adaptive Wrap and Visual Line Mode</h3>
<div class="outline-text-3" id="text-org03346c7">
<p>
Here I've done some black magic fuckery for a few modes. Heathens in modern languages and also some other prose modes don't wrap their long lines at 80 characters like God intended so instead of using visual-column-mode which I think does something similar but probably would've been easier, I've defined an abomination of a combination of <code>visual-line-mode</code> (built-in) and <a href="https://elpa.gnu.org/packages/adaptive-wrap.html">adaptive-wrap-prefix-mode</a> to <b><b>dynamically (visually) wrap and indent long lines in languages like Go with no line length limit</b></b> so they look nice on my screen at any window width and don't change the underlying file ‚Äî and it's actually pretty cool.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">adaptive-wrap</span>
  <span style="color: #c678dd;">:config</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq-default</span> adaptive-wrap-extra-indent 2<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">adaptive-and-visual-line-mode</span> <span style="color: #98be65;">(</span>hook<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span>add-hook hook <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #4db5bd;">()</span>
                      <span style="color: #4db5bd;">(</span><span style="color: #51afef;">progn</span>
                        <span style="color: #51afef;">(</span>visual-line-mode<span style="color: #51afef;">)</span>
                        <span style="color: #51afef;">(</span>adaptive-wrap-prefix-mode<span style="color: #51afef;">)</span><span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>

  <span style="color: #c678dd;">(</span>mapc 'adaptive-and-visual-line-mode
        <span style="color: #98be65;">(</span>list
         'markdown-mode
         'go-mode-hook
         'js2-mode-hook
         'yaml-mode-hook
         'rjsx-mode-hook<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>

  <span style="color: #c678dd;">(</span>add-hook 'compilation-mode-hook
            #'adaptive-wrap-prefix-mode<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> compilation-scroll-output t<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org550a346" class="outline-3">
<h3 id="org550a346">Global Keybindings</h3>
<div class="outline-text-3" id="text-org550a346">
</div>
<div id="outline-container-org04909e4" class="outline-4">
<h4 id="org04909e4">Helper Functions</h4>
<div class="outline-text-4" id="text-org04909e4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">find-initfile</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Open main config file."</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>find-file <span style="color: #98be65;">"~/.emacs.d/ian.org"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">find-initfile-other-frame</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Open main config file in a new frame."</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>find-file-other-frame <span style="color: #98be65;">"~/.emacs.d/ian.org"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">reload-initfile</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Reload the main config file."</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>org-babel-tangle <span style="color: #98be65;">"~/.emacs.d/ian.org"</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>byte-compile-file <span style="color: #98be65;">"~/.emacs.d/ian.el"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">close-client-frame</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Exit emacsclient."</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>server-edit <span style="color: #98be65;">"Done"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">last-window</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Switch to the last window."</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>other-window -1 t<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">toggle-line-numbers-rel-abs</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Toggles line numbers between relative and absolute numbering"</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>equal display-line-numbers-type 'relative<span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span><span style="color: #51afef;">setq</span> display-line-numbers-type 'absolute<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">setq</span> display-line-numbers-type 'relative<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>equal display-line-numbers-mode t<span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span><span style="color: #51afef;">progn</span>
        <span style="color: #a9a1e1;">(</span>display-line-numbers-mode -1<span style="color: #a9a1e1;">)</span>
        <span style="color: #a9a1e1;">(</span>display-line-numbers-mode<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org7ec369c" class="outline-4">
<h4 id="org7ec369c">Global Leader Keymappings</h4>
<div class="outline-text-4" id="text-org7ec369c">
<p>
These are all under SPACE, following the Spacemacs pattern.
Yeah, my configuration is a little of Spacemacs, a little of Doom, and a little of whatever I feel inspired by.
</p>

<p>
These keybindings are probably the most opinionated part of my configuration. They're shortcuts I can remember, logically or not.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">define the spacebar as the global leader key, following the</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Spacemacs pattern, which I've been using since 2014</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">general-create-definer</span> my-leader-def
  <span style="color: #c678dd;">:prefix</span> <span style="color: #98be65;">"SPC"</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">define SPC m for minor mode keys, even though I use , sometimes</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">general-create-definer</span> my-local-leader-def
  <span style="color: #c678dd;">:prefix</span> <span style="color: #98be65;">"SPC m"</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">global keybindings with LEADER</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">my-leader-def</span> 'normal 'override
  <span style="color: #98be65;">"aa"</span>     'ace-jump-mode
  <span style="color: #98be65;">"ag"</span>     'org-agenda
  <span style="color: #98be65;">"bb"</span>     'helm-buffers-list
  <span style="color: #98be65;">"TAB"</span>    #'switch-to-prev-buffer
  <span style="color: #98be65;">"br"</span>     'revert-buffer
  <span style="color: #98be65;">"bd"</span>     'evil-delete-buffer
  <span style="color: #98be65;">"cc"</span>     'projectile-compile-project
  <span style="color: #98be65;">"ec"</span>     'flycheck-clear
  <span style="color: #98be65;">"el"</span>     'flycheck-list-errors
  <span style="color: #98be65;">"en"</span>     'flycheck-next-error
  <span style="color: #98be65;">"ep"</span>     'flycheck-previous-error
  <span style="color: #98be65;">"Fm"</span>     'make-frame
  <span style="color: #98be65;">"Ff"</span>     'toggle-frame-fullscreen
  <span style="color: #98be65;">"ff"</span>     'helm-find-files
  <span style="color: #98be65;">"fr"</span>     'helm-recentf
  <span style="color: #98be65;">"fed"</span>    'find-initfile
  <span style="color: #98be65;">"feD"</span>    'find-initfile-other-frame
  <span style="color: #98be65;">"feR"</span>    'reload-initfile
  <span style="color: #98be65;">"gb"</span>     'magit-blame
  <span style="color: #98be65;">"gs"</span>     'magit-status
  <span style="color: #98be65;">"gg"</span>     'magit
  <span style="color: #98be65;">"gt"</span>     'git-timemachine
  <span style="color: #98be65;">"gd"</span>     'magit-diff
  <span style="color: #98be65;">"h"</span>      'hyperbole
  <span style="color: #98be65;">"jj"</span>     'bookmark-jump
  <span style="color: #98be65;">"js"</span>     'bookmark-set
  <span style="color: #98be65;">"jo"</span>     'org-babel-tangle-jump-to-org
  <span style="color: #98be65;">"ic"</span>     'insert-char
  <span style="color: #98be65;">"is"</span>     'yas-insert-snippet
  <span style="color: #98be65;">"n"</span>      '<span style="color: #c678dd;">(</span><span style="color: #c678dd;">:keymap</span> narrow-map<span style="color: #c678dd;">)</span>
  <span style="color: #98be65;">"oo"</span>     'browse-url-at-point
  <span style="color: #98be65;">"p"</span>      'projectile-command-map
  <span style="color: #98be65;">"pf"</span>     'helm-projectile-find-file
  <span style="color: #98be65;">"p!"</span>     'projectile-run-async-shell-command-in-root
  <span style="color: #98be65;">"si"</span>     'yas-insert-snippet
  <span style="color: #98be65;">"sn"</span>     'yas-new-snippet
  <span style="color: #98be65;">"sp"</span>     'helm-projectile-ag
  <span style="color: #98be65;">"qq"</span>     'save-buffers-kill-terminal
  <span style="color: #98be65;">"qr"</span>     'restart-emacs
  <span style="color: #98be65;">"qz"</span>     'delete-frame
  <span style="color: #98be65;">"tnn"</span>    'display-line-numbers-mode
  <span style="color: #98be65;">"tnt"</span>    'toggle-line-numbers-rel-abs
  <span style="color: #98be65;">"tr"</span>     'treemacs-select-window
  <span style="color: #98be65;">"ta"</span>     'treemacs-add-project-to-workspace
  <span style="color: #98be65;">"ts"</span>     'toggle-screaming
  <span style="color: #98be65;">"tt"</span>     'toggle-transparency
  <span style="color: #98be65;">"tl"</span>     'toggle-ligatures
  <span style="color: #98be65;">"w-"</span>     'split-window-below
  <span style="color: #98be65;">"w/"</span>     'split-window-right
  <span style="color: #98be65;">"wa"</span>     'ace-window
  <span style="color: #98be65;">"wb"</span>     'last-window
  <span style="color: #98be65;">"wj"</span>     'evil-window-down
  <span style="color: #98be65;">"wk"</span>     'evil-window-up
  <span style="color: #98be65;">"wh"</span>     'evil-window-left
  <span style="color: #98be65;">"wl"</span>     'evil-window-right
  <span style="color: #98be65;">"wd"</span>     'delete-window
  <span style="color: #98be65;">"wD"</span>     'delete-other-windows
  <span style="color: #98be65;">"wo"</span>     'other-window
  <span style="color: #98be65;">"w="</span>     'balance-windows
  <span style="color: #98be65;">"SPC"</span>    'helm-M-x
  <span style="color: #51afef;">)</span>


<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">global VISUAL mode map</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">general-vmap</span>
  <span style="color: #98be65;">";"</span> 'comment-or-uncomment-region<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4097bda" class="outline-3">
<h3 id="org4097bda">Org Mode Settings</h3>
<div class="outline-text-3" id="text-org4097bda">
<p>
Some default evil bindings
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">evil-org</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
Image drag-and-drop for org-mode
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">org-download</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="figure">
<p><img src="My_Environment/2019-12-25_00-33-07_Peek%25202019-12-25%252000-29.gif" alt="2019-12-25_00-33-07_Peek%25202019-12-25%252000-29.gif" />
</p>
</div>

<p>
Autocomplete for Org blocks (like source blocks)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">company-org-block</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">TODO configuration</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Fontify the whole line for headings (with a background color).</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> org-fontify-whole-heading-line t<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">disable the weird default editing window layout in org-mode</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">instead, just replace the current window with the editing one..</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> org-src-window-setup 'current-window<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">indent and wrap long lines in Org</span>
<span style="color: #51afef;">(</span>add-hook 'org-mode-hook 'org-indent-mode<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-hook 'org-mode-hook 'visual-line-mode<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">enable execution of languages from Babel</span>
<span style="color: #51afef;">(</span>org-babel-do-load-languages 'org-babel-load-languages
                             '<span style="color: #c678dd;">(</span>
                               <span style="color: #98be65;">(</span>shell . t<span style="color: #98be65;">)</span>
                               <span style="color: #c678dd;">)</span>
                             <span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">my-local-leader-def</span>
  <span style="color: #c678dd;">:states</span>  'normal
  <span style="color: #c678dd;">:keymaps</span> 'org-mode-map
  <span style="color: #98be65;">"y"</span>      'org-store-link
  <span style="color: #98be65;">"p"</span>      'org-insert-link
  <span style="color: #98be65;">"x"</span>      'org-babel-execute-src-block
  <span style="color: #98be65;">"s"</span>      'org-insert-structure-template
  <span style="color: #98be65;">"e"</span>      'org-edit-src-code
  <span style="color: #98be65;">"t"</span>      'org-babel-tangle
  <span style="color: #98be65;">"o"</span>      'org-export-dispatch
  <span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>general-define-key
 <span style="color: #c678dd;">:states</span>  'normal
 <span style="color: #c678dd;">:keymaps</span> 'org-mode-map
 <span style="color: #98be65;">"TAB"</span>    'evil-toggle-fold<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">github-flavored markdown</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">ox-gfm</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">htmlize prints the current buffer or file, as it would appear in</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Emacs, but in HTML! It's super cool and TODO I need to move this</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">use-package statement somewhere I can talk about htmlize outside of</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">a comment</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">htmlize</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">enable markdown export</span>
<span style="color: #51afef;">(</span>eval-after-load <span style="color: #98be65;">"org"</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">progn</span>
    '<span style="color: #98be65;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">ox-md</span> nil t<span style="color: #98be65;">)</span>
    '<span style="color: #98be65;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">ox-gfm</span> nil t<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">todo states</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> org-todo-keywords
      '<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>sequence <span style="color: #98be65;">"TODO(t)"</span> <span style="color: #98be65;">"|"</span> <span style="color: #98be65;">"IN PROGRESS(p)"</span> <span style="color: #98be65;">"|"</span> <span style="color: #98be65;">"DONE(d)"</span><span style="color: #98be65;">)</span>
        <span style="color: #98be65;">(</span>sequence <span style="color: #98be65;">"QUESTION(q)"</span> <span style="color: #98be65;">"|"</span> <span style="color: #98be65;">"ANSWERED(a)"</span><span style="color: #98be65;">)</span>
        <span style="color: #98be65;">(</span>sequence <span style="color: #98be65;">"AGENDA(a)"</span> <span style="color: #98be65;">"|"</span> <span style="color: #98be65;">"DONE(d)"</span> <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd6e5a78" class="outline-3">
<h3 id="orgd6e5a78">Miscellaneous standalone global configuration changes</h3>
<div class="outline-text-3" id="text-orgd6e5a78">
</div>
<div id="outline-container-org02e7b7f" class="outline-4">
<h4 id="org02e7b7f">Disable most warnings</h4>
<div class="outline-text-4" id="text-org02e7b7f">
<p>
Honestly I'm not good enough at Emacs to make sense of most of them anyway
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> warning-minimum-level <span style="color: #c678dd;">:emergency</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2f0d123" class="outline-4">
<h4 id="org2f0d123">Switch theme</h4>
<div class="outline-text-4" id="text-org2f0d123">
<p>
Automatically calls disable-theme on the current theme before loading a new theme! Allows easy theme switching with just <code>M-x load-theme</code>.
</p>

<p>
Thanks to <a href="https://www.simplify.ba/articles/2016/02/13/loading-and-unloading-emacs-themes/">https://www.simplify.ba/articles/2016/02/13/loading-and-unloading-emacs-themes/</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">load-theme--disable-old-theme</span> <span style="color: #c678dd;">(</span>theme <span style="color: #ECBE7B;">&amp;rest</span> args<span style="color: #c678dd;">)</span>
  <span style="color: #83898d;">"Disable current theme before loading new one."</span>
  <span style="color: #c678dd;">(</span>mapcar #'disable-theme custom-enabled-themes<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>advice-add 'load-theme <span style="color: #c678dd;">:before</span> #'load-theme--disable-old-theme<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3774e46" class="outline-4">
<h4 id="org3774e46">Line Numbers in Programming Buffers</h4>
<div class="outline-text-4" id="text-org3774e46">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>add-hook 'prog-mode-hook 'display-line-numbers-mode<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> display-line-numbers-type 'relative<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org47ab3be" class="outline-4">
<h4 id="org47ab3be">Transparency toggle</h4>
<div class="outline-text-4" id="text-org47ab3be">
<p>
I definitely lifted this from somewhere but failed to document where I got it :\
Probably from Spacemacs. Thanks, Spacemacs.
</p>


<div class="figure">
<p><img src="My_Environment/2020-05-18_21-46-59_2020-05-18T21:46:03.gif" alt="2020-05-18_21-46-59_2020-05-18T21:46:03.gif" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">toggle-transparency</span> <span style="color: #c678dd;">()</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">let</span> <span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>alpha <span style="color: #4db5bd;">(</span>frame-parameter nil 'alpha<span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span>set-frame-parameter
     nil 'alpha
     <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">if</span> <span style="color: #4db5bd;">(</span>eql <span style="color: #51afef;">(</span><span style="color: #51afef;">cond</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>numberp alpha<span style="color: #98be65;">)</span> alpha<span style="color: #c678dd;">)</span>
                    <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>numberp <span style="color: #a9a1e1;">(</span>cdr alpha<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>cdr alpha<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
                    <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">Also handle undocumented (&lt;active&gt; &lt;inactive&gt;) form.</span>
                    <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>numberp <span style="color: #a9a1e1;">(</span>cadr alpha<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>cadr alpha<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
              100<span style="color: #4db5bd;">)</span>
         '95 '<span style="color: #4db5bd;">(</span>100 . 100<span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2b998af" class="outline-4">
<h4 id="org2b998af">Switch to last buffer</h4>
<div class="outline-text-4" id="text-org2b998af">
<p>
This one lifted from <a href="https://emacsredux.com/blog/2013/04/28/switch-to-previous-buffer/">https://emacsredux.com/blog/2013/04/28/switch-to-previous-buffer/</a>
</p>

<p>
TODO: Make this behave like alt-tab in Windows, but for buffers. I think <code>hycontrol</code> may come in handy (Hyperbole).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">er-switch-to-previous-buffer</span> <span style="color: #c678dd;">()</span>
  <span style="color: #c678dd;">(</span>concat
    <span style="color: #98be65;">"Switch to previously open buffer."</span>
    <span style="color: #98be65;">"Repeated invocations toggle between the two most recently open buffers."</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span>switch-to-buffer <span style="color: #98be65;">(</span>other-buffer <span style="color: #a9a1e1;">(</span>current-buffer<span style="color: #a9a1e1;">)</span> 1<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5dd1f1b" class="outline-4">
<h4 id="org5dd1f1b">Fix Home/End keys</h4>
<div class="outline-text-4" id="text-org5dd1f1b">
<p>
Emacs has weird behavior by default for Home and End and this change makes the behavior "normal" again.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>global-set-key <span style="color: #c678dd;">(</span>kbd <span style="color: #98be65;">"&lt;home&gt;"</span><span style="color: #c678dd;">)</span> 'move-beginning-of-line<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>global-set-key <span style="color: #c678dd;">(</span>kbd <span style="color: #98be65;">"&lt;end&gt;"</span><span style="color: #c678dd;">)</span> 'move-end-of-line<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0da5a49" class="outline-4">
<h4 id="org0da5a49">Customize the frame (OS window) title</h4>
<div class="outline-text-4" id="text-org0da5a49">
<p>
Taken from StackOverflow, at least for now, which does 90% of what I want and can serve as a future reference of how to customize this aspect of Emacs. This displays the file name and major mode in the OS title bar. Will have to find the documentation that defines the format string passed to <code>frame-title-format</code> at some point.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">setq-default</span> frame-title-format '<span style="color: #c678dd;">(</span><span style="color: #98be65;">"%f [%m]"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd348019" class="outline-4">
<h4 id="orgd348019">Tweak align-regexp</h4>
<div class="outline-text-4" id="text-orgd348019">
<p>
Configure align-regexp to use spaces instead of tabs. This is mostly for this file. When my keybindings are in two columns and <code>M-x align-regexp</code> uses tabs, the columns look aligned in Emacs but unaligned on GitHub. Using spaces faces this. This snippet effects that change.
</p>

<p>
Lifted from StackOverflow:
</p>

<p>
<a href="https://stackoverflow.com/questions/22710040/emacs-align-regexp-with-spaces-instead-of-tabs">https://stackoverflow.com/questions/22710040/emacs-align-regexp-with-spaces-instead-of-tabs</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defadvice</span> <span style="color: #c678dd;">align-regexp</span> <span style="color: #c678dd;">(</span>around align-regexp-with-spaces activate<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">let</span> <span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>indent-tabs-mode nil<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
    ad-do-it<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge048514" class="outline-4">
<h4 id="orge048514">Configure automatic backups/recovery files</h4>
<div class="outline-text-4" id="text-orge048514">
<p>
I don't like how Emacs puts temp files in the same directory as the file, as this litters the current working directory and makes git branches dirty. These are some tweaks to store those files in <code>/tmp</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> backup-directory-alist `<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"."</span> . <span style="color: #98be65;">"/tmp/.emacs-saves"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> backup-by-copying t<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> delete-old-versions t<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org845a656" class="outline-4">
<h4 id="org845a656"><span class="todo TODO">TODO</span> Clean whitespace on save in all modes</h4>
<div class="outline-text-4" id="text-org845a656">
<p>
I have to actually go in and configure this because the defaults keep giving me fucking heartburn.
It keeps messing with the whitespace in files that are none of its business. Maybe I just need to carefully enable it for certain modes? idk, too much magic, no time to look into it right now.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(add-hook 'before-save-hook 'whitespace-cleanup)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1efbd60" class="outline-4">
<h4 id="org1efbd60">Autosave</h4>
<div class="outline-text-4" id="text-org1efbd60">
<p>
Automatically saves the file when it's been idle for 5 minutes.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">autosave</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> auto-save-visited-interval 300<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>auto-save-visited-mode
 <span style="color: #c678dd;">:diminish</span>
 <span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3ee38e2" class="outline-4">
<h4 id="org3ee38e2">Default window size</h4>
<div class="outline-text-4" id="text-org3ee38e2">
<p>
Just a bigger size that I prefer..
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>add-to-list 'default-frame-alist '<span style="color: #c678dd;">(</span>width . 128<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-to-list 'default-frame-alist '<span style="color: #c678dd;">(</span>height . 60<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7b1e061" class="outline-4">
<h4 id="org7b1e061">Unclutter global modeline</h4>
<div class="outline-text-4" id="text-org7b1e061">
<p>
Some global minor modes put themselves in the modeline and it gets noisy, so remove them from the modeline.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">hide some modes that are everywhere</span>
<span style="color: #51afef;">(</span>diminish 'eldoc-mode<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>diminish 'undo-tree-mode<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>diminish 'auto-revert-mode<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>diminish 'evil-collection-unimpaired-mode<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>diminish 'yas-minor-mode-major-mode<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd91c216" class="outline-4">
<h4 id="orgd91c216">Less annoying bell</h4>
<div class="outline-text-4" id="text-orgd91c216">
<p>
Flashes the modeline foreground instead of whatever the horrible default behavior was (I don't even remember).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> ring-bell-function
      <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">()</span>
        <span style="color: #98be65;">(</span><span style="color: #51afef;">let</span> <span style="color: #a9a1e1;">(</span><span style="color: #4db5bd;">(</span>orig-fg <span style="color: #51afef;">(</span>face-foreground 'mode-line<span style="color: #51afef;">)</span><span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span>
          <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">change the flash color here</span>
          <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">overrides themes :P</span>
          <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">guess that's one way to do it</span>
          <span style="color: #a9a1e1;">(</span>set-face-foreground 'mode-line <span style="color: #98be65;">"#F2804F"</span><span style="color: #a9a1e1;">)</span>
          <span style="color: #a9a1e1;">(</span>run-with-idle-timer 0.1 nil
                               <span style="color: #4db5bd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #51afef;">(</span>fg<span style="color: #51afef;">)</span> <span style="color: #51afef;">(</span>set-face-foreground 'mode-line fg<span style="color: #51afef;">)</span><span style="color: #4db5bd;">)</span>
                               orig-fg<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
<p>
(from Emacs wiki)
</p>
</div>
</div>
<div id="outline-container-org8b33caf" class="outline-4">
<h4 id="org8b33caf">Remove toolbar, scrollbars, and menu</h4>
<div class="outline-text-4" id="text-org8b33caf">
<p>
Removes the toolbar and menu bar (file menu, etc) in Emacs because I just use <code>M-x</code> for everything.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">when</span> <span style="color: #c678dd;">(</span>fboundp 'menu-bar-mode<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>menu-bar-mode -1<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">when</span> <span style="color: #c678dd;">(</span>fboundp 'tool-bar-mode<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>tool-bar-mode -1<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>scroll-bar-mode -1<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">my/disable-scroll-bars</span> <span style="color: #c678dd;">(</span>frame<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>modify-frame-parameters frame
                           '<span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>vertical-scroll-bars . nil<span style="color: #a9a1e1;">)</span>
                             <span style="color: #a9a1e1;">(</span>horizontal-scroll-bars . nil<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-hook 'after-make-frame-functions 'my/disable-scroll-bars<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org861c8c6" class="outline-4">
<h4 id="org861c8c6">Enable the mouse in the terminal</h4>
<div class="outline-text-4" id="text-org861c8c6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>xterm-mouse-mode 1<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb8227e7" class="outline-4">
<h4 id="orgb8227e7">Disable "nice" names in Customize</h4>
<div class="outline-text-4" id="text-orgb8227e7">
<p>
I prefer that Customize display the names of variables that I can change in this file, rather than the human-readable names for people who customize their Emacs through <code>M-x customize</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> custom-unlispify-tag-names nil<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd769f47" class="outline-4">
<h4 id="orgd769f47">Enable wgrep mode</h4>
<div class="outline-text-4" id="text-orgd769f47">
<p>
Writable grep mode allows you to edit the results from running grep on a project and easily save changes back to all of the original files
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> <span style="color: #a9a1e1;">wgrep-ack</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf3236a9" class="outline-3">
<h3 id="orgf3236a9">ERC (IRC config)</h3>
<div class="outline-text-3" id="text-orgf3236a9">
<p>
I don't like to check in my IRC nicks into this file, so I've utilized <code>/home/$USER/.authinfo</code> which is apparently a GNU standard. The format for this file follows this pattern:
</p>

<p>
<code>machine HOSTNAME login USER password PASSWORD port PORTNUMBER</code>
</p>

<p>
So we can use <code>sed</code> and <code>grep</code> which are available on all of my machines to look up the nick, and then once we have the nick, Emacs will get the rest automatically. Then I manage <code>.authinfo</code> manually on each machine.
</p>

<p>
I wrote a quick Bash one-liner to extract the login. Maybe I could've done this in elisp but Emacs makes it easy enough to mix languages, so here is the one-liner, which will tangle out to <code>get-nick.bash</code>:
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef; font-weight: bold;">grep</span> <span style="color: #98be65;">"</span><span style="color: #51afef;">$</span><span style="color: #a9a1e1;">1</span><span style="color: #98be65;">"</span> ~/.authinfo <span style="color: #51afef;">|</span> <span style="color: #51afef; font-weight: bold;">sed</span> <span style="color: #98be65;">'s/.*login \([^ ]\+ \).*/\1/g'</span>
</pre>
</div>

<p>
Then configure Emacs to use this to find the nick (and put in place the rest of the configuration that I would like for ERC):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">irc</span> <span style="color: #c678dd;">()</span>
  <span style="color: #83898d;">"Connect to IRC."</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>

  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">tangle this file to produce the bash script</span>
  <span style="color: #c678dd;">(</span>org-babel-tangle <span style="color: #98be65;">"~/.emacs.d/ian.org"</span><span style="color: #c678dd;">)</span>

  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">some visual tweaks</span>
  <span style="color: #c678dd;">(</span>add-hook 'erc-mode-hook 'variable-pitch-mode<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>add-hook 'erc-mode-hook 'visual-line-mode<span style="color: #c678dd;">)</span>

  <span style="color: #c678dd;">(</span><span style="color: #51afef;">let</span> <span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>
         nick  <span style="color: #4db5bd;">(</span>s-trim <span style="color: #51afef;">(</span>shell-command-to-string
                        <span style="color: #98be65;">"~/.emacs.d/get-nick.bash freenode"</span><span style="color: #51afef;">)</span><span style="color: #4db5bd;">)</span>
         <span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>

    <span style="color: #98be65;">(</span>erc-tls
     <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">these days I only use Freenode</span>
     <span style="color: #c678dd;">:server</span> <span style="color: #98be65;">"irc.freenode.net"</span>
     <span style="color: #c678dd;">:port</span> 6697
     <span style="color: #c678dd;">:nick</span> nick<span style="color: #98be65;">)</span>
    <span style="color: #c678dd;">)</span>

  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">channel subscriptions</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">defvar</span> <span style="color: #dcaeea;">erc-autojoin-channels-alist</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> erc-autojoin-channels-alist '<span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span><span style="color: #98be65;">"freenode.net"</span> <span style="color: #98be65;">"#emacs"</span> <span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>

  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">hide join/part spam</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">defvar</span> <span style="color: #dcaeea;">erc-hide-list</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> erc-hide-list '<span style="color: #98be65;">(</span><span style="color: #98be65;">"JOIN"</span> <span style="color: #98be65;">"PART"</span> <span style="color: #98be65;">"QUIT"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>

  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">use human-friendly IRC network names instead of host incl port</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">defvar</span> <span style="color: #dcaeea;">erc-rename-buffers</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> erc-rename-buffers t<span style="color: #c678dd;">)</span>

  <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">reconnect broken sessions</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">defvar</span> <span style="color: #dcaeea;">erc-server-auto-reconnect</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> erc-server-auto-reconnect t<span style="color: #c678dd;">)</span>

  <span style="color: #51afef;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org7a9c160" class="outline-4">
<h4 id="org7a9c160"><span class="todo TODO">TODO</span> recover my libera.chat credentials and update the config to reference that server instead of Freenode</h4>
</div>
</div>

<div id="outline-container-org6fae641" class="outline-3">
<h3 id="org6fae641">Render this file for display on the web</h3>
<div class="outline-text-3" id="text-org6fae641">
<p>
This defines a command that will export this file to GitHub flavored Markdown and copy that to README.md so that this file is always the one that appears on the GitHub repository landing page, but in the correct format and everything.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">defun</span> <span style="color: #c678dd;">render-configfile-for-web</span> <span style="color: #c678dd;">()</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">interactive</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">when</span> <span style="color: #98be65;">(</span>string=
         <span style="color: #a9a1e1;">(</span>file-name-nondirectory <span style="color: #4db5bd;">(</span>buffer-file-name<span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span>
         <span style="color: #98be65;">"ian.org"</span><span style="color: #98be65;">)</span>

    <span style="color: #98be65;">(</span>org-html-export-to-html<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span>org-gfm-export-to-markdown<span style="color: #98be65;">)</span>

    <span style="color: #98be65;">(</span><span style="color: #51afef;">if</span> <span style="color: #a9a1e1;">(</span>find-buffer-visiting <span style="color: #98be65;">"~/.emacs.d/README.md"</span><span style="color: #a9a1e1;">)</span>
        <span style="color: #a9a1e1;">(</span>kill-buffer-ask <span style="color: #4db5bd;">(</span>find-buffer-visiting <span style="color: #98be65;">"~/.emacs.d/README.md"</span><span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>

    <span style="color: #98be65;">(</span>delete-file <span style="color: #98be65;">"README.md"</span> t<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span>rename-file <span style="color: #98be65;">"ian.md"</span> <span style="color: #98be65;">"README.md"</span><span style="color: #98be65;">)</span>
    <span style="color: #c678dd;">)</span>
  <span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org11bac36" class="outline-3">
<h3 id="org11bac36">Hostname-based tweaks</h3>
<div class="outline-text-3" id="text-org11bac36">
<p>
This is a simple convention that I use for loading machine-specific configuration for the different machines I run Emacs on.
</p>

<ol class="org-ol">
<li>looks for Org files in  <code>/home/$USER/.emacs.d/local/</code> with a name that is the same as the hostname of the machine.</li>
<li>shells out to call <code>hostname</code> to determine the hostname.</li>
<li>tangles that .org file to a .el file and executes it</li>
</ol>

<p>
This allows configuration to diverge to meet needs that are unique to a specific workstation.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">let</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">find the hostname and assign it to a variable</span>
     <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>hostname <span style="color: #a9a1e1;">(</span>string-trim-right
                 <span style="color: #4db5bd;">(</span>shell-command-to-string <span style="color: #98be65;">"hostname"</span><span style="color: #4db5bd;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>

   <span style="color: #c678dd;">(</span><span style="color: #51afef;">progn</span>
     <span style="color: #98be65;">(</span>org-babel-tangle-file
      <span style="color: #a9a1e1;">(</span>concat <span style="color: #98be65;">"~/.emacs.d/local/"</span> hostname <span style="color: #98be65;">".org"</span><span style="color: #a9a1e1;">)</span>
      <span style="color: #a9a1e1;">(</span>concat hostname <span style="color: #98be65;">".el"</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>

     <span style="color: #98be65;">(</span>load <span style="color: #a9a1e1;">(</span>concat <span style="color: #98be65;">"~/.emacs.d/local/"</span> hostname <span style="color: #98be65;">".el"</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
     <span style="color: #98be65;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">local</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
There must be an Org file in <code>local/</code> named <code>$(hostname).org</code> or init actually breaks. 
This isn't great but for now I've just been making a copy of one of the existing files whenever I start on a new machine.
It may someday feel worth my time to automate this, but so far it hasn't been worth it, and I just create <code>local/"$(hostname).org"</code> as part of initial setup, along with other tasks that I do not automate in this file.
</p>
</div>
</div>

<div id="outline-container-orgfe2df25" class="outline-3">
<h3 id="orgfe2df25">Footer</h3>
<div class="outline-text-3" id="text-orgfe2df25">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span>server-start<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">provide</span> '<span style="color: #a9a1e1;">~/.emacs.d/ian.el</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;;; </span><span style="color: #5B6268;">ian.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9269b9b" class="outline-3">
<h3 id="org9269b9b">Styles for HTML export</h3>
<div class="outline-text-3" id="text-org9269b9b">
<p>
We can spruce up the HTML representation of this file with a little bit of CSS.
</p>

<div class="org-src-container">
<pre class="src src-css"><span style="color: #c678dd;">body</span> {
    <span style="color: #dcaeea;">background-image</span>: <span style="color: #c678dd;">url</span>(<span style="color: #98be65;">"EmacsIcon.svg"</span>);
    <span style="color: #dcaeea;">background-size</span>: <span style="color: #a9a1e1;">100</span><span style="color: #ECBE7B;">%</span>;
    <span style="color: #dcaeea;">background-repeat</span>: <span style="color: #51afef;">no-repeat</span>;
    <span style="color: #dcaeea;">background-position</span>: <span style="color: #51afef;">right</span> <span style="color: #51afef;">top</span>;
    <span style="color: #dcaeea;">background-size</span>: <span style="color: #a9a1e1;">500</span><span style="color: #ECBE7B;">px</span> <span style="color: #a9a1e1;">500</span><span style="color: #ECBE7B;">px</span>;
    <span style="color: #dcaeea;">background-color</span>: <span style="color: #98be65; background-color: #282c34; font-weight: bold;">#</span><span style="color: #98be65; font-weight: bold;">F2F2F2</span>;
}

<span style="color: #c678dd; background-color: #282c34;">#</span><span style="color: #c678dd;">content</span> {
    <span style="color: #dcaeea;">font-family</span>: <span style="color: #51afef;">Sans</span>;
    <span style="color: #dcaeea;">font-size</span>: <span style="color: #a9a1e1;">1.2</span><span style="color: #ECBE7B;">em</span>;
    <span style="color: #dcaeea;">width</span>: <span style="color: #a9a1e1;">90</span><span style="color: #ECBE7B;">%</span>;
    <span style="color: #dcaeea;">max-width</span>: <span style="color: #a9a1e1;">950</span><span style="color: #ECBE7B;">px</span>;
    <span style="color: #dcaeea;">margin-left</span>: <span style="color: #51afef;">auto</span>;
    <span style="color: #dcaeea;">margin-right</span>: <span style="color: #51afef;">auto</span>;

    <span style="color: #dcaeea;">padding</span>: <span style="color: #a9a1e1;">25</span><span style="color: #ECBE7B;">px</span>;
    <span style="color: #dcaeea;">background-color</span>: <span style="color: #c678dd;">rgba</span>(<span style="color: #a9a1e1;">255</span><span style="color: #bbc2cf; background-color: #282c34;">,</span> <span style="color: #a9a1e1;">255</span><span style="color: #bbc2cf; background-color: #282c34;">,</span> <span style="color: #a9a1e1;">255</span><span style="color: #bbc2cf; background-color: #282c34;">,</span> <span style="color: #a9a1e1;">.5</span>);
}

<span style="color: #ECBE7B;">.validation</span> {
    <span style="color: #dcaeea;">display</span>: <span style="color: #51afef;">none</span>;
}

<span style="color: #c678dd;">a</span> {
    <span style="color: #dcaeea;">color</span>: <span style="color: #98be65; background-color: #282c34; font-weight: bold;">#</span><span style="color: #98be65; font-weight: bold;">EF0FFF</span>;
}

<span style="color: #c678dd;">a</span>:<span style="color: #51afef; font-weight: bold;">visited</span> {
    <span style="color: #dcaeea;">color</span>: <span style="color: #98be65; background-color: #282c34; font-weight: bold;">#</span><span style="color: #98be65; font-weight: bold;">076678</span>;
}

<span style="color: #c678dd;">a</span>:<span style="color: #51afef; font-weight: bold;">hover</span> {
    <span style="color: #dcaeea;">color</span>: <span style="color: #98be65; background-color: #282c34; font-weight: bold;">#</span><span style="color: #98be65; font-weight: bold;">FFBC42</span>;
}

<span style="color: #c678dd;">a</span>:<span style="color: #51afef; font-weight: bold;">active</span> {
    <span style="color: #dcaeea;">color</span>: <span style="color: #98be65; background-color: #282c34; font-weight: bold;">#</span><span style="color: #98be65; font-weight: bold;">F74343</span>;
}

<span style="color: #c678dd;">div</span><span style="color: #ECBE7B;">.org-src-container</span> {
    <span style="color: #dcaeea;">background-color</span>: <span style="color: #98be65; background-color: #282c34; font-weight: bold;">#</span><span style="color: #98be65; font-weight: bold;">FFFFE0</span>;
    <span style="color: #dcaeea;">width</span>: <span style="color: #a9a1e1;">100</span><span style="color: #ECBE7B;">%</span>;
    <span style="color: #dcaeea;">height</span>: <span style="color: #a9a1e1;">100</span><span style="color: #ECBE7B;">%</span>;
    <span style="color: #dcaeea;">overflow</span>: <span style="color: #51afef;">hidden</span>;
}

<span style="color: #c678dd;">pre</span><span style="color: #ECBE7B;">.src</span> {
    <span style="color: #dcaeea;">width</span>: <span style="color: #a9a1e1;">100</span><span style="color: #ECBE7B;">%</span>;
    <span style="color: #dcaeea;">height</span>: <span style="color: #a9a1e1;">100</span><span style="color: #ECBE7B;">%</span>;
    <span style="color: #dcaeea;">overflow</span>: <span style="color: #51afef;">scroll</span>;
    <span style="color: #dcaeea;">margin-left</span>: <span style="color: #a9a1e1;">20</span><span style="color: #ECBE7B;">px</span>;

    <span style="color: #dcaeea;">-ms-overflow-style</span>: <span style="color: #51afef;">none</span>;  <span style="color: #5B6268;">/* Internet Explorer 10+ */</span>
    <span style="color: #dcaeea;">scrollbar-width</span>: <span style="color: #51afef;">none</span>;  <span style="color: #5B6268;">/* Firefox */</span>
}

<span style="color: #c678dd;">pre</span><span style="color: #ECBE7B;">.src</span>::<span style="color: #c678dd; font-weight: bold;">-webkit-scrollbar</span> {
    <span style="color: #dcaeea;">display</span>: <span style="color: #51afef;">none</span>;
}

<span style="color: #c678dd;">img</span> {
    <span style="color: #dcaeea;">max-width</span>: <span style="color: #a9a1e1;">100</span><span style="color: #ECBE7B;">%</span>;
}

<span style="color: #c678dd;">pre</span><span style="color: #ECBE7B;">.example</span> {
    <span style="color: #dcaeea;">padding</span>: <span style="color: #a9a1e1;">10</span><span style="color: #ECBE7B;">px</span>;
    <span style="color: #dcaeea;">width</span>: <span style="color: #a9a1e1;">100</span><span style="color: #ECBE7B;">%</span>;
    <span style="color: #dcaeea;">overflow-x</span>: <span style="color: #51afef;">scroll</span>;
    <span style="color: #dcaeea;">-ms-overflow-style</span>: <span style="color: #51afef;">none</span>;  <span style="color: #5B6268;">/* Internet Explorer 10+ */</span>
    <span style="color: #dcaeea;">scrollbar-width</span>: <span style="color: #51afef;">none</span>;  <span style="color: #5B6268;">/* Firefox */</span>
}

<span style="color: #c678dd;">pre</span><span style="color: #ECBE7B;">.example</span>::<span style="color: #c678dd; font-weight: bold;">-webkit-scrollbar</span> {
    <span style="color: #dcaeea;">display</span>: <span style="color: #51afef;">none</span>;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org721135d" class="outline-3">
<h3 id="org721135d">Launching Emacsclient</h3>
<div class="outline-text-3" id="text-org721135d">
<p>
<a href="https://www.emacswiki.org/emacs/EmacsClient#h5o-18">Nifty shell function for hassle-free starting of emacsclient</a>
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #dcaeea;">args</span>=<span style="color: #98be65;">""</span>
<span style="color: #dcaeea;">nw</span>=false
<span style="color: #5B6268;"># check if emacsclient is already running</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">pgrep</span> <span style="color: #a9a1e1;">-U</span> <span style="color: #51afef;">$(</span><span style="color: #51afef; background-color: #282c34; font-weight: bold;">id</span><span style="color: #bbc2cf; background-color: #282c34;"> </span><span style="color: #a9a1e1; background-color: #282c34;">-u</span><span style="color: #51afef;">)</span> emacsclient <span style="color: #51afef;">&gt;</span> /dev/null<span style="color: #51afef;">;</span> <span style="color: #51afef;">then</span> <span style="color: #dcaeea;">running</span>=true<span style="color: #51afef;">;</span> <span style="color: #51afef;">fi</span>

<span style="color: #5B6268;"># check if the user wants TUI mode</span>
<span style="color: #51afef;">for</span> <span style="color: #a9a1e1;">arg</span> <span style="color: #51afef;">in</span> <span style="color: #98be65;">"</span><span style="color: #51afef;">$</span><span style="color: #ECBE7B;">@</span><span style="color: #98be65;">"</span><span style="color: #51afef;">;</span> <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">if</span> [ <span style="color: #98be65;">"</span><span style="color: #51afef;">$</span><span style="color: #a9a1e1;">arg</span><span style="color: #98be65;">"</span> = <span style="color: #98be65;">"-nw"</span> ] <span style="color: #51afef;">||</span> [ <span style="color: #98be65;">"</span><span style="color: #51afef;">$</span><span style="color: #a9a1e1;">arg</span><span style="color: #98be65;">"</span> = <span style="color: #98be65;">"-t"</span> ] <span style="color: #51afef;">||</span> [ <span style="color: #98be65;">"</span><span style="color: #51afef;">$</span><span style="color: #a9a1e1;">arg</span><span style="color: #98be65;">"</span> = <span style="color: #98be65;">"--tty"</span> ]
    <span style="color: #51afef;">then</span>
        <span style="color: #dcaeea;">nw</span>=true
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">done</span>

<span style="color: #5B6268;"># if called without arguments - open a new gui instance</span>
<span style="color: #51afef;">if</span> [ <span style="color: #98be65;">"</span><span style="color: #51afef;">$</span><span style="color: #ECBE7B;">#</span><span style="color: #98be65;">"</span> -eq <span style="color: #98be65;">"0"</span> ] <span style="color: #51afef;">||</span> [ <span style="color: #98be65;">"</span><span style="color: #51afef;">$</span><span style="color: #a9a1e1;">running</span><span style="color: #98be65;">"</span> <span style="color: #51afef;">!=</span> true ]<span style="color: #51afef;">;</span> <span style="color: #51afef;">then</span>
    <span style="color: #dcaeea;">args</span>=(-c <span style="color: #51afef;">$</span><span style="color: #a9a1e1;">args</span>)           <span style="color: #5B6268;"># open emacsclient in a new window</span>
<span style="color: #51afef;">fi</span>
<span style="color: #51afef;">if</span> [ <span style="color: #98be65;">"</span><span style="color: #51afef;">$</span><span style="color: #ECBE7B;">#</span><span style="color: #98be65;">"</span> -gt <span style="color: #98be65;">"0"</span> ]<span style="color: #51afef;">;</span> <span style="color: #51afef;">then</span>
    <span style="color: #5B6268;"># if 'em -' open standard input (e.g. pipe)</span>
    <span style="color: #51afef;">if</span> [[ <span style="color: #98be65;">"</span><span style="color: #51afef;">$</span><span style="color: #a9a1e1;">1</span><span style="color: #98be65;">"</span> <span style="color: #51afef;">==</span> <span style="color: #98be65;">"-"</span> ]]<span style="color: #51afef;">;</span> <span style="color: #51afef;">then</span>
        <span style="color: #dcaeea;">TMP</span>=<span style="color: #98be65;">"</span><span style="color: #98be65;">$(</span><span style="color: #51afef; background-color: #282c34; font-weight: bold;">mktemp</span><span style="color: #98be65; background-color: #282c34;"> /tmp/emacsstdin-XXX</span><span style="color: #98be65;">)</span><span style="color: #98be65;">"</span>
        <span style="color: #51afef; font-weight: bold;">cat</span> <span style="color: #51afef;">&gt;</span><span style="color: #51afef;">$</span><span style="color: #a9a1e1;">TMP</span>
        <span style="color: #dcaeea;">args</span>=(<span style="color: #51afef;">$</span><span style="color: #a9a1e1;">args</span> --eval <span style="color: #98be65;">'(let ((b (generate-new-buffer "*stdin*"))) (switch-to-buffer b) (insert-file-contents "'</span><span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">TMP</span><span style="color: #51afef;">}</span><span style="color: #98be65;">'") (delete-file "'</span><span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">TMP</span><span style="color: #51afef;">}</span><span style="color: #98be65;">'"))'</span>)
    <span style="color: #51afef;">else</span>
        <span style="color: #dcaeea;">args</span>=(<span style="color: #51afef;">$</span><span style="color: #ECBE7B;">@</span> <span style="color: #51afef;">$</span><span style="color: #a9a1e1;">args</span>)
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">fi</span>

<span style="color: #5B6268;"># emacsclient $args</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">$</span><span style="color: #a9a1e1;">nw</span><span style="color: #51afef;">;</span> <span style="color: #51afef;">then</span>
    <span style="color: #51afef; font-weight: bold;">emacsclient</span> <span style="color: #98be65;">"</span><span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">args</span><span style="color: #bbc2cf; background-color: #282c34;">[@]</span><span style="color: #51afef;">}</span><span style="color: #98be65;">"</span>
<span style="color: #51afef;">else</span>
    (<span style="color: #51afef; font-weight: bold;">nohup</span> emacsclient <span style="color: #98be65;">"</span><span style="color: #51afef;">${</span><span style="color: #a9a1e1; background-color: #282c34;">args</span><span style="color: #bbc2cf; background-color: #282c34;">[@]</span><span style="color: #51afef;">}</span><span style="color: #98be65;">"</span> <span style="color: #51afef;">&gt;</span> /dev/null <span style="color: #a9a1e1;">2</span>&gt;&amp;1 &amp;) <span style="color: #51afef;">&gt;</span> /dev/null
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd30978f" class="outline-3">
<h3 id="orgd30978f">Update README.md git hook</h3>
<div class="outline-text-3" id="text-orgd30978f">
<p>
Before commit, generate the README.md file from the updated configuration.
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef; font-weight: bold;">emacsclient</span> <span style="color: #a9a1e1;">-e</span> <span style="color: #98be65;">'(progn (switch-to-buffer "ian.org") (render-configfile-for-web))'</span>
<span style="color: #51afef; font-weight: bold;">git</span> add README.md ian.html
</pre>
</div>

<p>
I think the command being passed to <code>emacsclient</code> here might be a bit brittle and this approach assumes Emacs is already running, which will be annoying (I'll have to disable this hook) if I'm ever using <code>git</code> on the command line for this repo but given that this repo is.. what it is.. this seems to be working well enough.
</p>
</div>
</div>

<div id="outline-container-orgbcffae7" class="outline-3">
<h3 id="orgbcffae7">Running Emacs properly from the GUI</h3>
<div class="outline-text-3" id="text-orgbcffae7">
<p>
This <code>.desktop</code> file calls <code>emacs</code> when it's not already running, and <code>emacsclient</code> otherwise.
Slow on first launch, then fast for every new frame thereafter.
</p>

<p>
Tangling this file will install the .desktop file to the correct location (<code>~/.local/share/applications/Emacsclient.desktop</code>).
</p>

<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #ECBE7B;">Desktop Entry</span>]
<span style="color: #dcaeea;">Name</span>=Emacs (Client)
<span style="color: #dcaeea;">GenericName</span>=Text Editor
<span style="color: #dcaeea;">Comment</span>=Edit text
<span style="color: #dcaeea;">MimeType</span>=text/english;text/plain;text/x-makefile;text/x-c++hdr;text/x-c++src;text/x-chdr;text/x-csrc;text/x-java;text/x-moc;text/x-pascal;text/x-tcl;text/x-tex;application/x-shellscript;text/x-c;text/x-c++;
<span style="color: #dcaeea;">Exec</span>=emacsclient -c -a <span style="color: #98be65;">"emacs"</span> %F
<span style="color: #dcaeea;">Icon</span>=emacs
<span style="color: #dcaeea;">Type</span>=Application
<span style="color: #dcaeea;">Terminal</span>=false
<span style="color: #dcaeea;">Categories</span>=Development;TextEditor;Utility;
<span style="color: #dcaeea;">StartupWMClass</span>=Emacs
</pre>
</div>
</div>

<div id="outline-container-org3f52ce1" class="outline-4">
<h4 id="org3f52ce1"><span class="todo TODO">TODO</span> Figure out how to run Emacs as a daemon so that closing the last frame doesn't exit</h4>
<div class="outline-text-4" id="text-org3f52ce1">
<p>
Launching in headless mode introduces some font problems (fonts don't load when changing themes) that I haven't been able to debug. 
</p>
</div>
</div>
</div>

<div id="outline-container-orgd71a073" class="outline-3">
<h3 id="orgd71a073"><span class="done IN_PROGRESS">IN PROGRESS</span> Opening Code Links in Emacs</h3>
<div class="outline-text-3" id="text-orgd71a073">
</div>
<div id="outline-container-orgdf055ea" class="outline-4">
<h4 id="orgdf055ea"><span class="done IN_PROGRESS">IN PROGRESS</span> Create a MIME handler</h4>
<div class="outline-text-4" id="text-orgdf055ea">
<p>
<a href="https://askubuntu.com/questions/514125/url-protocol-handlers-in-basic-ubuntu-desktop">Use this to add a MIME handler for emacs:// links to open in Emacs</a>
</p>
</div>
<ul class="org-ul">
<li><a id="org06bdfc9"></a><span class="done IN_PROGRESS">IN PROGRESS</span> Create a <code>.desktop</code> file<br /></li>
</ul>
</div>

<div id="outline-container-org3b35138" class="outline-4">
<h4 id="org3b35138"><span class="todo TODO">TODO</span> Add a bookmarklet</h4>
<div class="outline-text-4" id="text-org3b35138">
<p>
Rewrite <a href="https://bitbucket">https://bitbucket</a> links to emacs:// links and send them to Emacs from Chrome or Firefox
</p>
</div>
</div>

<div id="outline-container-orgf1e4126" class="outline-4">
<h4 id="orgf1e4126"><span class="todo TODO">TODO</span> Detect URLs that pertain to local projects and open them directly in Emacs</h4>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
