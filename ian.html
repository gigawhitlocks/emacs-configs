<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>My Emacs Config</title>
<meta name="generator" content="Org mode" />
<link rel="stylesheet" type="text/css" href="/static/css/main.css" />
<link rel="stylesheet" type="text/css" href="styles.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">My Emacs Config</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org29dffc3">What is this?</a></li>
<li><a href="#org99071f6">Entrypoint</a></li>
<li><a href="#org57400fe">My Environment</a>
<ul>
<li><a href="#org2c6aea5">Bootstrap</a></li>
<li><a href="#org56f4f86">Package Installation and Configuration</a></li>
<li><a href="#orgbd9d351">Extra Packages</a></li>
<li><a href="#orgb4bd672">Language Configuration</a></li>
<li><a href="#org567082e">Global Keybindings</a></li>
<li><a href="#orge8768b7">Org Mode Settings</a></li>
<li><a href="#org3c63c61">Miscellaneous standalone global configuration changes</a></li>
<li><a href="#orga4a0366">ERC (IRC config)</a></li>
<li><a href="#org92ec664">Render this file for display on the web</a></li>
<li><a href="#orge928724">Hostname-based tweaks</a></li>
<li><a href="#org9d53962">Footer</a></li>
<li><a href="#org98be7fd">Styles for HTML export</a></li>
<li><a href="#org05e19a5">Launching Emacsclient</a></li>
<li><a href="#orga33d76f">Update README.md git hook</a></li>
<li><a href="#org7fca7e3">Running Emacs as a daemon</a></li>
<li><a href="#org00de16b"><span class="todo TODO">TODO</span> Opening Code Links in Emacs</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org29dffc3" class="outline-2">
<h2 id="org29dffc3">What is this?</h2>
<div class="outline-text-2" id="text-org29dffc3">
<p>
This is my Emacs configuration file, which I install at <code>~/.emacs.d/ian.org</code>. It's written in Org mode syntax, which exports to a number of other formats, including HTML and Markdown, and allows extraction of source code blocks into plain source code files through a process called "tangling," so the source code embedded below is ultimately run as my real programming environment.
</p>

<p>
I have chosen to write a fully custom Emacs environment, eschewing projects like Spacemacs and Doom Emacs for my own custom configuration because I find Emacs Lisp a joy to write &#x2013; combined with its native environment, Emacs, Emacs Lisp is an incredibly powerful addition to my workflow, and writing my own config has helped me master both the editor and the language it is largely written in, and with which it is customized.
</p>

<p>
If you're reading this on the web, the source code for this file can be found <a href="https://github.com/gigawhitlocks/emacs-configs/blob/master/ian.org">on Github</a>.
If you want to try out this configuration file, run the following:
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #4E4E4E; font-style: italic;">#!/bin/</span><span style="color: #D70000;">bash</span>
<span style="color: #009B7C; font-weight: bold;">git</span> clone https://github.com/gigawhitlocks/emacs-configs ~/.emacs.d
<span style="color: #009B7C; font-weight: bold;">mv</span> ~/.emacs.d/local/wintermute.org ~/.emacs.d/local/<span style="color: #005F00;">"</span><span style="color: #005F00;">$(</span><span style="color: #009B7C; background-color: #F5F5F9; font-weight: bold;">hostname</span><span style="color: #005F00;">)</span><span style="color: #005F00;">"</span>.org
<span style="color: #009B7C; font-weight: bold;">emacs</span>
</pre>
</div>

<p>
No guarantees, though. This stuff is for personal use, so it isn't tested on systems I don't have! Hopefully this file is readable enough that individual snippets are understandable and can be taken <i>a la cart√©</i>.
</p>
</div>
</div>

<div id="outline-container-org99071f6" class="outline-2">
<h2 id="org99071f6">Entrypoint</h2>
<div class="outline-text-2" id="text-org99071f6">
<p>
Using Org for one's configuration is not standard Emacs behavior, so I must first configure Emacs to load this file (<code>ian.org</code>) as its first action when it starts up. By default, Emacs runs <code>init.el</code> at the beginning of execution. The following piece of code <a href="https://orgmode.org/manual/Extracting-source-code.html">tangles</a> to <code>init.el</code>, and <code>init.el</code> containing the following must be checked in, because this snippet tangles <i>this</i> file (<code>ian.org</code>), so <b><b>it is this piece of code that starts the whole process of loading all of this configuration</b></b>.
</p>

<p>
Since I want most of the configuration here in <code>ian.org</code>, <code>init.el</code> just holds the bare minimum code so that the bulk of the configuration can be checked in once, inside this file, rather than twice like the contents of <code>init.el</code>. I'm using an <a href="https://orgmode.org/worg/org-contrib/babel/intro.html#literate-emacs-init">example from orgmode.org</a> to load the Org files and tangle them, then <code>require</code> the output of this file from the call to tangle, run <code>main</code>, and I'm done.
</p>

<p>
<b><b>NOTE</b></b> The filename <code>ian.org</code> is hardcoded in this entrypoint routine in the place of the main configuration file. This is because, despite the public nature of my config, it is not intended to be used in whole by anyone but me. This allows me certain shortcuts, like hostname-specific configuration, and convention-over-configuration in ways I find intuitive without overly detailed documentation. It is <span class="underline">my</span> config, after all, so my main config file is <code>ian.org</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">init --- the Emacs entrypoint</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">Commentary:</span>
<span style="color: #4E4E4E; font-style: italic;">;;;</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">Just load my customizations and execute -- org-mode bootstrap from</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">https://orgmode.org/worg/org-contrib/babel/intro.html#literate-emacs-init</span>
<span style="color: #4E4E4E; font-style: italic;">;;;</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">Code:</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">Load up Org Mode and (now included) Org Babel for elisp embedded in Org Mode files</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> dotfiles-dir <span style="color: #AF005F;">(</span>file-name-directory <span style="color: #005F00;">(</span><span style="color: #D70000;">or</span> <span style="color: #8700AF;">(</span>buffer-file-name<span style="color: #8700AF;">)</span> load-file-name<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">let*</span> <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span>org-dir <span style="color: #8700AF;">(</span>expand-file-name
                 <span style="color: #005F00;">"lisp"</span> <span style="color: #009B7C;">(</span>expand-file-name
                         <span style="color: #005F00;">"org"</span> <span style="color: #1F55A0;">(</span>expand-file-name
                                <span style="color: #005F00;">"src"</span> dotfiles-dir<span style="color: #1F55A0;">)</span><span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>
       <span style="color: #005F00;">(</span>org-contrib-dir <span style="color: #8700AF;">(</span>expand-file-name
                         <span style="color: #005F00;">"lisp"</span> <span style="color: #009B7C;">(</span>expand-file-name
                                 <span style="color: #005F00;">"contrib"</span> <span style="color: #1F55A0;">(</span>expand-file-name
                                            <span style="color: #005F00;">".."</span> org-dir<span style="color: #1F55A0;">)</span><span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>
       <span style="color: #005F00;">(</span>load-path <span style="color: #8700AF;">(</span>append <span style="color: #009B7C;">(</span>list org-dir org-contrib-dir<span style="color: #009B7C;">)</span>
                          <span style="color: #009B7C;">(</span><span style="color: #D70000;">or</span> load-path nil<span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">load up Org-mode and Org-babel</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">require</span> '<span style="color: #AF005F;">org-install</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">require</span> '<span style="color: #AF005F;">ob-tangle</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">load up all literate org-mode files in this directory</span>
<span style="color: #1F55A0;">(</span>mapc #'org-babel-load-file <span style="color: #AF005F;">(</span>directory-files dotfiles-dir t <span style="color: #005F00;">"\\.org$"</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">require</span> '<span style="color: #AF005F;">~/.emacs.d/ian.el</span><span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">Load automatic and interactive customizations from this computer</span>
<span style="color: #1F55A0;">(</span>shell-command <span style="color: #005F00;">"touch ~/.emacs.d/.emacs-custom.el"</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> custom-file <span style="color: #005F00;">"~/.emacs.d/.emacs-custom.el"</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>load custom-file<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">provide</span> '<span style="color: #AF005F;">init</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
The rest of the code that is executed begins with the routines defined by this file.
</p>
</div>
</div>

<div id="outline-container-org57400fe" class="outline-2">
<h2 id="org57400fe">My Environment</h2>
<div class="outline-text-2" id="text-org57400fe">
<p>
<b>This is where my environment definition begins</b>
</p>

<p>
After running the <code>init.el</code> entrypoint, this file is tangled to <code>ian.el</code> and executed.
</p>
</div>

<div id="outline-container-org2c6aea5" class="outline-3">
<h3 id="org2c6aea5">Bootstrap</h3>
<div class="outline-text-3" id="text-org2c6aea5">
<p>
The first thing that must be done is to prepare to manage third party packages, because my config is built on top of the work of many third party packages. I like to install and manage all of the packages I use as part of my configuration so that it can be duplicated across computers (more or less) and managed with <code>git</code>, so I use <code>use-package</code> to ensure that packages are installed from my configuration file.
</p>

<p>
Bootstrap sets up the ELPA, Melpa, and Org Mode repositories, sets up the package manager, installs <a href="https://github.com/jwiegley/use-package"><code>use-package</code></a> if it is not found, configures <code>use-package</code> and installs a few extra packages that acoutrement <code>use-package</code> and will be used heavily throughout.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">ian.el --- my custom emacs config with no one else considered because fuck you</span>
<span style="color: #4E4E4E; font-style: italic;">;;;            </span><span style="color: #4E4E4E; font-style: italic;">naw but really I just don't have the time for that</span>
<span style="color: #4E4E4E; font-style: italic;">;;;</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">Commentary:</span>
<span style="color: #4E4E4E; font-style: italic;">;;;</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">After throwing away an old Emacs config, built when I had no idea what I was doing</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">and abandoning the "wisdom of the crowds"-configured Spacemacs for better control</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">here we are for better or worse</span>
<span style="color: #4E4E4E; font-style: italic;">;;;</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">Code:</span>

  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">require</span> '<span style="color: #AF005F;">package</span><span style="color: #1F55A0;">)</span>
  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> package-archives '<span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span><span style="color: #005F00;">"gnu"</span> . <span style="color: #005F00;">"https://elpa.gnu.org/packages/"</span><span style="color: #005F00;">)</span>
                       <span style="color: #005F00;">(</span><span style="color: #005F00;">"melpa"</span> . <span style="color: #005F00;">"https://melpa.org/packages/"</span><span style="color: #005F00;">)</span>
                       <span style="color: #005F00;">(</span><span style="color: #005F00;">"org"</span> . <span style="color: #005F00;">"http://orgmode.org/elpa/"</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
  <span style="color: #1F55A0;">(</span>package-initialize<span style="color: #1F55A0;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">Now install use-package to enable us to use it</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">to manage the rest of our packages</span>

  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">unless</span> <span style="color: #AF005F;">(</span>package-installed-p 'use-package<span style="color: #AF005F;">)</span>
    <span style="color: #AF005F;">(</span><span style="color: #D70000;">progn</span>
      <span style="color: #005F00;">(</span><span style="color: #D70000;">unless</span> package-archive-contents
        <span style="color: #8700AF;">(</span>package-refresh-contents<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>
      <span style="color: #005F00;">(</span>package-install 'use-package<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">set ensure to be the default</span>
  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">require</span> '<span style="color: #AF005F;">use-package-ensure</span><span style="color: #1F55A0;">)</span>
  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> use-package-always-ensure t<span style="color: #1F55A0;">)</span>

  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">use-package-ensure-system-package</span><span style="color: #1F55A0;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">these go in bootstrap because packages installed</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">with use-package use :diminish and :delight</span>
  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">diminish</span><span style="color: #1F55A0;">)</span>
  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">delight</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
Once this is done I need to install and configure any third party packages that are used in many modes throughout Emacs. Some of these modes fundamentally change the Emacs experience and need to be present before everything can be configured.
</p>
</div>
</div>

<div id="outline-container-org56f4f86" class="outline-3">
<h3 id="org56f4f86">Package Installation and Configuration</h3>
<div class="outline-text-3" id="text-org56f4f86">
<p>
First I need to install packages with a large effect and on which other packages are likely to depend. These are packages essential to my workflow. Configuration here should be config that must run early, before variables are set or language-related packages, which will likely rely on these being set.
</p>
</div>
<div id="outline-container-org23e0a7e" class="outline-4">
<h4 id="org23e0a7e">Theme</h4>
<div class="outline-text-4" id="text-org23e0a7e">
<p>
Going to try out the Doom themepack because why not.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">doom-themes</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">Global settings (defaults)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> doom-themes-enable-bold t    <span style="color: #4E4E4E; font-style: italic;">; </span><span style="color: #4E4E4E; font-style: italic;">if nil, bold is universally disabled</span>
        doom-themes-enable-italic t<span style="color: #AF005F;">)</span> <span style="color: #4E4E4E; font-style: italic;">; </span><span style="color: #4E4E4E; font-style: italic;">if nil, italics is universally disabled</span>
  <span style="color: #AF005F;">(</span>load-theme 'doom-vibrant t<span style="color: #AF005F;">)</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">Corrects (and improves) org-mode's native fontification.</span>
  <span style="color: #AF005F;">(</span>doom-themes-org-config<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
Also some visual candy that makes "real" buffers more visible by changing the background color slightly vs e.g. <b>compilation</b> or magit buffers
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">solaire-mode</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>solaire-global-mode +1<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org52dc4a2" class="outline-4">
<h4 id="org52dc4a2">Treemacs</h4>
<div class="outline-text-4" id="text-org52dc4a2">
<p>
Treemacs provides a file browser on the left hand side of Emacs that I have grown to really like. It's great for exploring unfamiliar projects and modules.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">all-the-icons</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">treemacs</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">treemacs-all-the-icons</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org75c7af2" class="outline-4">
<h4 id="org75c7af2">Emoji üôè</h4>
<div class="outline-text-4" id="text-org75c7af2">
<p>
Provided by <a href="https://github.com/iqbalansari/emacs-emojify">emojify</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">&#128588; Emoji! &#128588;</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">emojify</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> emojify-download-emojis-p t<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>emojify-set-emoji-styles '<span style="color: #005F00;">(</span>unicode<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>add-hook 'after-init-hook #'global-emojify-mode<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd75a90c" class="outline-4">
<h4 id="orgd75a90c">Configure Recent File Tracking</h4>
<div class="outline-text-4" id="text-orgd75a90c">
<p>
Emacs comes with <code>recentf-mode</code> which helps me remember what I was doing after I restart my session.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">recent files mode</span>
<span style="color: #1F55A0;">(</span>recentf-mode 1<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> recentf-max-menu-items 25<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> recentf-max-saved-items 25<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2a983f4" class="outline-4">
<h4 id="org2a983f4">Install and Configure Projectile</h4>
<div class="outline-text-4" id="text-org2a983f4">
<p>
<a href="https://projectile.readthedocs.io/en/latest/"><code>projectile</code></a> is a fantastic package that provides all kinds of project context-aware functions for things like:
</p>
<ul class="org-ul">
<li>running grep, but only inside the project</li>
<li>compiling the project from the project root without doing anything</li>
<li>find files within the project, again without having to do anything extra</li>
</ul>
<p>
It's great, it gets installed early, can't live without it. üíò <code>projectile</code>
</p>


<div class="figure">
<p><img src="My_Environment/2020-05-18_21-21-10_Peek%25202020-05-18%252021-19.gif" alt="2020-05-18_21-21-10_Peek%25202020-05-18%252021-19.gif" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">projectile</span>
  <span style="color: #1F55A0;">:delight</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">helm-projectile</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">treemacs-projectile</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>projectile-mode +1<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="org9cf1379"></a><span class="todo TODO">TODO</span> I've read about something called project.el<br />
<div class="outline-text-5" id="text-org9cf1379">
<p>
The impression that I got was that <code>project.el</code> is a first-party replacement for Projectile in newer versions of Emacs. I don't know if this is true or not. I should investigate <code>project.el</code>.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org6127634" class="outline-4">
<h4 id="org6127634">Install and Configure Evil Mode</h4>
<div class="outline-text-4" id="text-org6127634">
<p>
<a href="https://github.com/emacs-evil/evil"><code>evil-mode</code></a> fundamentally changes Emacs so that while editing all of the modes and keybindings from <code>vim</code> are present.
It's controversial but I think modal editing is brilliant and have been using <code>vim</code> bindings since the mid-aughts. No going back.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">setup-evil</span> <span style="color: #AF005F;">()</span>
  <span style="color: #004700; font-style: italic;">"Install and configure evil-mode and related bindings."</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">evil</span>
    <span style="color: #1F55A0;">:init</span>
    <span style="color: #005F00;">(</span><span style="color: #D70000;">setq</span> evil-want-keybinding nil<span style="color: #005F00;">)</span>
    <span style="color: #005F00;">(</span><span style="color: #D70000;">setq</span> evil-want-integration t<span style="color: #005F00;">)</span>
    <span style="color: #1F55A0;">:config</span>
    <span style="color: #005F00;">(</span>evil-mode 1<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">evil-collection</span>
    <span style="color: #1F55A0;">:after</span> evil
    <span style="color: #1F55A0;">:config</span>
    <span style="color: #005F00;">(</span>evil-collection-init<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">add fd as a remap for esc</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">evil-escape</span>
    <span style="color: #1F55A0;">:delight</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>evil-escape-mode 1<span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">evil-surround</span>
    <span style="color: #1F55A0;">:config</span>
    <span style="color: #005F00;">(</span>global-evil-surround-mode 1<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
    <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">undo-tree</span>
      <span style="color: #1F55A0;">:config</span>
      <span style="color: #005F00;">(</span>global-undo-tree-mode<span style="color: #005F00;">)</span>
      <span style="color: #005F00;">(</span>evil-set-undo-system 'undo-tree<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>


  <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">treemacs-evil</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq-default</span> evil-escape-key-sequence <span style="color: #005F00;">"fd"</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgabdfccd" class="outline-4">
<h4 id="orgabdfccd">Install and Configure Keybindings Helper</h4>
<div class="outline-text-4" id="text-orgabdfccd">
<p>
<a href="https://github.com/noctuid/general.el">General</a> provides more consistent and convenient keybindings, especially with <code>evil-mode</code>.
</p>

<p>
It's mostly used below in the <a href="#org567082e">global keybindings</a> section.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">general</span>
  <span style="color: #1F55A0;">:init</span>
  <span style="color: #AF005F;">(</span>setup-evil<span style="color: #AF005F;">)</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #AF005F;">(</span>general-evil-setup<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org30d19aa" class="outline-4">
<h4 id="org30d19aa">Install and Configure Helm for Command and Control</h4>
<div class="outline-text-4" id="text-org30d19aa">
<p>
<a href="https://github.com/emacs-helm/helm">Helm</a> is a full-featured command and control package that fundamentally alters a number of core Emacs functions, including what appears when you press <code>M-x</code> (with the way I have it configured, anyway).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">helm</span>
  <span style="color: #1F55A0;">:delight</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">helm-descbinds</span>
    <span style="color: #1F55A0;">:config</span>
    <span style="color: #005F00;">(</span>helm-descbinds-mode<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">helm-ag</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>global-set-key <span style="color: #005F00;">(</span>kbd <span style="color: #005F00;">"M-x"</span><span style="color: #005F00;">)</span> #'helm-M-x<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>define-key helm-find-files-map <span style="color: #005F00;">"\t"</span> 'helm-execute-persistent-action<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> helm-always-two-windows nil<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> helm-default-display-buffer-functions '<span style="color: #005F00;">(</span>display-buffer-in-side-window<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>helm-mode 1<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf63f698" class="outline-4">
<h4 id="orgf63f698">Install and Configure Magit</h4>
<div class="outline-text-4" id="text-orgf63f698">
<p>
<a href="https://github.com/magit/magit">Magit</a> is an incredible integrated <code>git</code> UI for Emacs.
</p>

<div class="figure">
<p><img src="My_Environment/2020-05-18_21-26-19_Peek%25202020-05-18%252021-25.gif" alt="2020-05-18_21-26-19_Peek%25202020-05-18%252021-25.gif" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">magit</span><span style="color: #1F55A0;">)</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">disable the default emacs vc because git is all I use,</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">for I am a simple man</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> vc-handled-backends nil<span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
The Magit author publishes an additional package called <a href="https://emacsair.me/2018/12/19/forge-0.1/">forge</a>. Forge lets you interact with Github and Gitlab from inside of Emacs. There's planned support for Gogs, Gitea, etc.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">forge</span>
  <span style="color: #1F55A0;">:after</span> magit<span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
Forge has to be configured with something like <code>.authinfo</code> or preferably <code>authinfo.gpg</code>. Create a access token through the web UI of Github and place on the first line in <code>$HOME/.authinfo</code> with the following format:
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #009B7C; font-weight: bold;">host</span> api.github.com login gigawhitlocks^forge password TOKEN
</pre>
</div>

<p>
but obviously replace <code>TOKEN</code> with the access token. And <a href="https://www.masteringemacs.org/article/keeping-secrets-in-emacs-gnupg-auth-sources">use <code>.authinfo.gpg</code> and encrypt it</a>. Don't just use <code>.authinfo</code>.
</p>

<p>
Also, I've only tried this with GitHub. But at least in the case of GitHub, once Forge is set up, it adds some niceties like this to the Magit overview. In this case, I'm looking at the history of a project and Forge automatically adds a link to the PR displayed as part of the commit title in history:
</p>


<div class="figure">
<p><img src="My_Environment/2020-01-15_13-17-16_2020-01-14T13_58_07.gif" alt="2020-01-15_13-17-16_2020-01-14T13_58_07.gif" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgb242e6d" class="outline-4">
<h4 id="orgb242e6d">Install and Configure <code>git-timemachine</code></h4>
<div class="outline-text-4" id="text-orgb242e6d">
<p>
<code>git-timeline</code> lets you step through the history of a file.
</p>


<div class="figure">
<p><img src="My_Environment/2020-01-11_23-23-47_2020-01-11T23:15:54.gif" alt="2020-01-11_23-23-47_2020-01-11T23:15:54.gif" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">git-timemachine</span><span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">This lets git-timemachine's bindings take precedence over evils'</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">(got lucky and happened to find this while looking for the package name, ha!)</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">@see https://bitbucket.org/lyro/evil/issue/511/let-certain-minor-modes-key-bindings</span>
<span style="color: #1F55A0;">(</span>eval-after-load 'git-timemachine
  '<span style="color: #AF005F;">(</span><span style="color: #D70000;">progn</span>
     <span style="color: #005F00;">(</span>evil-make-overriding-map git-timemachine-mode-map 'normal<span style="color: #005F00;">)</span>
     <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">force update evil keymaps after git-timemachine-mode loaded</span>
     <span style="color: #005F00;">(</span>add-hook 'git-timemachine-mode-hook #'evil-normalize-keymaps<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9733883" class="outline-4">
<h4 id="org9733883">Install and Configure <code>which-key</code></h4>
<div class="outline-text-4" id="text-org9733883">
<p>
It can be difficult to to remember and discover all of the available shortcuts in Emacs, so <a href="https://github.com/justbur/emacs-which-key"><code>which-key</code></a> pops up a special buffer to show you available shortcuts whenever you pause in the middle of a keyboard shortcut for more than a few seconds. It's really lovely.
</p>

<div class="figure">
<p><img src="My_Environment/2020-05-18_21-37-19_Peek%25202020-05-18%252021-37.gif" alt="2020-05-18_21-37-19_Peek%25202020-05-18%252021-37.gif" />
</p>
</div>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">which-key</span>
  <span style="color: #1F55A0;">:delight</span>
  <span style="color: #1F55A0;">:init</span>
  <span style="color: #AF005F;">(</span>which-key-mode<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>which-key-setup-minibuffer<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1988882" class="outline-4">
<h4 id="org1988882">Colorize ANSI colors in <code>*compilation*</code></h4>
<div class="outline-text-4" id="text-org1988882">
<p>
If you run a command through <code>M-x compile</code> by default Emacs prints ANSI codes literally, but a lot of tools use these for colors and this makes it so Emacs shows colors in the <code>*compilation*</code> buffer.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">ansi</span> <span style="color: #AF005F;">()</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">enable ANSI escape codes in compilation buffer</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">ansi-color</span><span style="color: #AF005F;">)</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">slightly modified from</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">https://endlessparentheses.com/ansi-colors-in-the-compilation-buffer-output.html</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">colorize-compilation</span> <span style="color: #005F00;">()</span>
    <span style="color: #004700; font-style: italic;">"Colorize from `</span><span style="color: #AF005F; font-style: italic;">compilation-filter-start</span><span style="color: #004700; font-style: italic;">' to `</span><span style="color: #AF005F; font-style: italic;">point</span><span style="color: #004700; font-style: italic;">'."</span>
    <span style="color: #005F00;">(</span><span style="color: #D70000;">let</span> <span style="color: #8700AF;">(</span><span style="color: #009B7C;">(</span>inhibit-read-only t<span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span>
      <span style="color: #8700AF;">(</span>ansi-color-apply-on-region
       compilation-filter-start <span style="color: #009B7C;">(</span>point<span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span>add-hook 'compilation-filter-hook
            #'colorize-compilation<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span>ansi<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3559d30" class="outline-4">
<h4 id="org3559d30">Scream when compilation is finished</h4>
<div class="outline-text-4" id="text-org3559d30">
<p>
Sometimes when the compile process takes more than a few seconds I change windows and get distracted. This hook plays a file through <code>aplay</code> (something else that will break on a non-Linux machine) to notify me that compilation is done. I was looking for something like a kitchen timer but I couldn't find one so right now the vendored sound is the <a href="https://en.wikipedia.org/wiki/Wilhelm_scream">Wilhelm Scream</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defvar</span> <span style="color: #004651;">isw-should-play-chime</span> nil<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> isw-should-play-chime nil<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">isw-play-chime</span> <span style="color: #AF005F;">(</span>buffer msg<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">if</span> <span style="color: #005F00;">(</span>eq isw-should-play-chime t<span style="color: #005F00;">)</span>
      <span style="color: #005F00;">(</span>start-process-shell-command <span style="color: #005F00;">"chime"</span> <span style="color: #005F00;">"*Messages*"</span> <span style="color: #005F00;">"aplay /home/ian/.emacs.d/vendor/chime.wav"</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-to-list 'compilation-finish-functions 'isw-play-chime<span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
A function for toggling the screaming on and off. I love scream-when-finished but sometimes I'm listening to music or something and it gets a little ridiculous.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">toggle-screaming</span> <span style="color: #AF005F;">()</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">if</span> <span style="color: #005F00;">(</span>eq isw-should-play-chime t<span style="color: #005F00;">)</span>
      <span style="color: #005F00;">(</span><span style="color: #D70000;">setq</span> isw-should-play-chime nil<span style="color: #005F00;">)</span>
    <span style="color: #005F00;">(</span><span style="color: #D70000;">setq</span> isw-should-play-chime t<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgedbda5b" class="outline-4">
<h4 id="orgedbda5b">Configure the Startup Splashscreen</h4>
<div class="outline-text-4" id="text-orgedbda5b">
<p>
Following Spacemacs's style, I use the <a href="https://github.com/emacs-dashboard/emacs-dashboard"><code>emacs-dashboard</code></a> project and <a href="https://github.com/domtronn/all-the-icons.el"><code>all-the-icons</code></a> to provide an aesthetically pleasing splash screen with useful links to recently used files on launch.
</p>

<p>
Actually, looking at the project page, the icons don't seem to be working for me. Maybe I need to enable them. I'll investigate later.
</p>


<div class="figure">
<p><img src="My_Environment/2020-05-18_21-31-13_Screenshot%2520from%25202020-05-18%252021-30-43.png" alt="2020-05-18_21-31-13_Screenshot%2520from%25202020-05-18%252021-30-43.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">first disable the default startup screen</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> inhibit-startup-screen t<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">dashboard</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #AF005F;">(</span>dashboard-setup-startup-hook<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> dashboard-startup-banner 'logo<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> dashboard-center-content t<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> dashboard-items '<span style="color: #005F00;">(</span><span style="color: #8700AF;">(</span>recents  . 5<span style="color: #8700AF;">)</span>
                          <span style="color: #8700AF;">(</span>bookmarks . 5<span style="color: #8700AF;">)</span>
                          <span style="color: #8700AF;">(</span>projects . 5<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>
        <span style="color: #AF005F;">)</span>
  <span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> dashboard-set-footer nil<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org619fcc9" class="outline-4">
<h4 id="org619fcc9">Install and Configure GNU Hyperbole</h4>
<div class="outline-text-4" id="text-org619fcc9">
<p>
<a href="https://www.gnu.org/software/hyperbole/">GNU Hyperbole</a> adds a bunch of window control features, namely the ability to swap two windows by hitting Shift + Right Click and dragging the window to a new position!
</p>

<p>
It adds a slew of other features as well &#x2013; hyperlinks between documents, a rolodex, a list builder.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">gnu hyperbole</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">hyperbole</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
<span class="timestamp-wrapper"><span class="timestamp">&lt;2022-02-19 Sat&gt; </span></span> It turns out that the <i>only</i> feature I use from Hyperbole is the window dragging feature. I wonder if that's provided by any other, lighter-weight package? ü§î Or maybe I should give some of the other features another look?
</p>
</div>
</div>

<div id="outline-container-org3683a58" class="outline-4">
<h4 id="org3683a58">Install templating tool and default snippets</h4>
<div class="outline-text-4" id="text-org3683a58">
<p>
YASnippet is really cool and allow fast insertion of boilerplate using templates. I've been meaning to use this more.
<a href="https://www.emacswiki.org/emacs/Yasnippet">Here are the YASnippet docs.</a>
</p>

<div class="figure">
<p><img src="My_Environment/2020-05-18_21-40-09_Peek%25202020-05-18%252021-39.gif" alt="2020-05-18_21-40-09_Peek%25202020-05-18%252021-39.gif" />
</p>
</div>

<p>
OK that example maybe isn't the best, but if you have <code>yas-insert-snippet</code> bound to something and you're inserting something more complex it's.. probably worthwhile. I should use it more. You can also write your own snippets. I should figure that out.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">yasnippet</span>
  <span style="color: #1F55A0;">:delight</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">yasnippet-snippets</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
Enable yas-mode everywhere
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>yas-global-mode 1<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbd9d351" class="outline-3">
<h3 id="orgbd9d351">Extra Packages</h3>
<div class="outline-text-3" id="text-orgbd9d351">
<p>
Packages with a smaller effect on the experience.
</p>
</div>
<div id="outline-container-orgcc50173" class="outline-4">
<h4 id="orgcc50173">git-gutter shows unstaged changes in the gutter</h4>
<div class="outline-text-4" id="text-orgcc50173">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">git-gutter</span>
    <span style="color: #1F55A0;">:delight</span>
    <span style="color: #1F55A0;">:config</span>
    <span style="color: #AF005F;">(</span>global-git-gutter-mode +1<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga87ed2f" class="outline-4">
<h4 id="orga87ed2f">Highlight the current line</h4>
<div class="outline-text-4" id="text-orga87ed2f">
<p>
I like to highlight the current line so that it is easy to identify where my cursor is.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>global-hl-line-mode<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> global-hl-line-sticky-flag t<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1ea7bd2" class="outline-4">
<h4 id="org1ea7bd2">Rainbow delimiters make it easier to identify matching parentheses</h4>
<div class="outline-text-4" id="text-org1ea7bd2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">rainbow-delimiters</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">set up rainbow delimiters for Emacs lisp</span>
  <span style="color: #AF005F;">(</span>add-hook 'emacs-lisp-mode-hook #'rainbow-delimiters-mode<span style="color: #AF005F;">)</span>
  <span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb05d2f6" class="outline-4">
<h4 id="orgb05d2f6">restart-emacs does what it says on the tin</h4>
<div class="outline-text-4" id="text-orgb05d2f6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">restart-emacs</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8b92af6" class="outline-4">
<h4 id="org8b92af6">s is a string manipulation utility</h4>
<div class="outline-text-4" id="text-org8b92af6">
<p>
I use this for a trim() function far down below. I think it gets pulled in as a dependency anyway, but in any case it provides a bunch of helper functions and stuff. <a href="https://github.com/magnars/s.el">Docs are here.</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">s</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge2902d7" class="outline-4">
<h4 id="orge2902d7"><code>figlet</code></h4>
<div class="outline-text-4" id="text-orge2902d7">
<p>
The description on the package is "Annoy people with big, ascii art text" ü§£
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">figlet</span>
<span style="color: #1F55A0;">:ensure-system-package</span> figlet<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org02e3200" class="outline-4">
<h4 id="org02e3200">a systemd file mode</h4>
<div class="outline-text-4" id="text-org02e3200">
<p>
Just provides syntax highlighting in <code>.unit</code> files.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">systemd</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9de808f" class="outline-4">
<h4 id="org9de808f">Install and Configure Company for Auto-Completion</h4>
<div class="outline-text-4" id="text-org9de808f">
<p>
Great tab-complete and auto-complete with <a href="https://github.com/company-mode/company-mode">Company Mode</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">auto-completion</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">company</span>
  <span style="color: #1F55A0;">:delight</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">enable it everywhere</span>
  <span style="color: #AF005F;">(</span>add-hook 'after-init-hook 'global-company-mode<span style="color: #AF005F;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">tab complete!</span>
  <span style="color: #AF005F;">(</span>global-set-key <span style="color: #005F00;">"\t"</span> 'company-complete-common<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge5bed07" class="outline-4">
<h4 id="orge5bed07">Install and Configure Flycheck for Linting</h4>
<div class="outline-text-4" id="text-orge5bed07">
<p>
<a href="https://www.flycheck.org/en/latest/">Flycheck</a> is an on-the-fly checker that hooks into most language backends.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">linter</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">flycheck</span>
  <span style="color: #1F55A0;">:delight</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">enable it everywhere</span>
  <span style="color: #1F55A0;">:init</span> <span style="color: #AF005F;">(</span>global-flycheck-mode<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span>add-hook 'flycheck-error-list-mode-hook
          'visual-line-mode<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org44d8504" class="outline-4">
<h4 id="org44d8504">Install <code>exec-path-from-shell</code> to manage the PATH</h4>
<div class="outline-text-4" id="text-org44d8504">
<p>
<a href="https://github.com/purcell/exec-path-from-shell">exec-path-from-shell</a> mirrors PATH in zsh or Bash in macOS or Linux into Emacs so that the PATH in the shell and the PATH when calling commands from Emacs are the same.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">exec-path-from-shell</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #AF005F;">(</span>exec-path-from-shell-initialize<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1d3bb85" class="outline-4">
<h4 id="org1d3bb85">ace-window provides an ace-jump experience for switching windows</h4>
<div class="outline-text-4" id="text-org1d3bb85">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">ace-window</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7b332b6" class="outline-4">
<h4 id="org7b332b6">Install a mode for drawing indentation guides</h4>
<div class="outline-text-4" id="text-org7b332b6">
<p>
This mode adds subtle coloration to indentation whitespace for whitespace-delimited languages like YAML where sometimes it can be difficult to see the nesting level of a given headline in deeply-nested configuration.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">highlight-indent-guides</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb4bd672" class="outline-3">
<h3 id="orgb4bd672">Language Configuration</h3>
<div class="outline-text-3" id="text-orgb4bd672">
</div>
<div id="outline-container-orgccc6e2b" class="outline-4">
<h4 id="orgccc6e2b">Language Server Protocol</h4>
<div class="outline-text-4" id="text-orgccc6e2b">
<p>
LSP provides a generic interface for text editors to talk to various language servers on the backend. A few languages utilize LSP so it gets configured before the language-specific section.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">lsp-mode</span>
    <span style="color: #1F55A0;">:init</span>
    <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">use flycheck</span>
    <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> lsp-prefer-flymake nil<span style="color: #AF005F;">)</span>
    <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> lsp-headerline-breadcrumb-enable nil<span style="color: #AF005F;">)</span>
<span style="color: #1F55A0;">)</span>


  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">lsp-treemacs</span><span style="color: #1F55A0;">)</span>

  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">lsp-ui</span><span style="color: #1F55A0;">)</span>
  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> lsp-ui-doc-use-childframe t<span style="color: #1F55A0;">)</span>
  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> lsp-ui-doc-position 'top<span style="color: #1F55A0;">)</span>
  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> lsp-enable-links nil<span style="color: #1F55A0;">)</span>

  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">lsp-origami</span><span style="color: #1F55A0;">)</span>
  <span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">helm-lsp</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0d89cb8" class="outline-4">
<h4 id="org0d89cb8">Tree Sitter</h4>
<div class="outline-text-4" id="text-org0d89cb8">
<p>
Tree-sitter reads the AST to provide better syntax highlighting
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">tree-sitter</span>
  <span style="color: #1F55A0;">:diminish</span>
  <span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">tree-sitter-langs</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span>global-tree-sitter-mode<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-hook 'tree-sitter-after-on-hook #'tree-sitter-hl-mode<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5bd8f93" class="outline-4">
<h4 id="org5bd8f93">YAML</h4>
<div class="outline-text-4" id="text-org5bd8f93">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">yaml-mode</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-hook 'yaml-mode-hook 'highlight-indent-guides-mode<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge3198d1" class="outline-4">
<h4 id="orge3198d1">Markdown</h4>
<div class="outline-text-4" id="text-orge3198d1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">markdown-mode</span>
  <span style="color: #1F55A0;">:ensure</span> t
  <span style="color: #1F55A0;">:mode</span> <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span><span style="color: #005F00;">"README\\.md\\'"</span> . gfm-mode<span style="color: #005F00;">)</span>
         <span style="color: #005F00;">(</span><span style="color: #005F00;">"\\.md\\'"</span> . gfm-mode<span style="color: #005F00;">)</span>
         <span style="color: #005F00;">(</span><span style="color: #005F00;">"\\.markdown\\'"</span> . gfm-mode<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-hook 'markdown-mode-hook 'visual-line-mode<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-hook 'markdown-mode-hook 'variable-pitch-mode<span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">this can go here because it affects Markdown's live preview mode</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">but I should consider putting it somewhere more general maybe?</span>
<span style="color: #1F55A0;">(</span>add-hook 'eww-mode-hook 'visual-line-mode<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1bdedb5" class="outline-4">
<h4 id="org1bdedb5">Docker</h4>
<div class="outline-text-4" id="text-org1bdedb5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">dockerfile-mode</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-to-list 'auto-mode-alist '<span style="color: #AF005F;">(</span><span style="color: #005F00;">"Dockerfile\\'"</span> . dockerfile-mode<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>put 'dockerfile-image-name 'safe-local-variable #'stringp<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd905e63" class="outline-4">
<h4 id="orgd905e63">Python</h4>
<div class="outline-text-4" id="text-orgd905e63">
<p>
<code>auto-virtualenv</code> looks in <code>$WORKON_HOME</code> for virtualenvs, and then I can run <code>M-x pyvenv-workon RET project RET</code> to choose my virtualenv for <code>project</code>, found in <code>$WORKON_HOME</code>, or a symlink anyway.
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">auto-virtualenv</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-hook 'python-mode-hook 'auto-virtualenv-set-virtualenv<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>setenv <span style="color: #005F00;">"WORKON_HOME"</span> <span style="color: #005F00;">"~/.virtualenvs"</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
So the convention for use is:
</p>

<ol class="org-ol">
<li>Create a virtualenv as usual for the project</li>
<li>Symlink it inside ~/.virtualenvs</li>
<li><code>M-x pyvenv-workon</code></li>
</ol>
</div>
</div>

<div id="outline-container-org5d3bf55" class="outline-4">
<h4 id="org5d3bf55">Go</h4>
<div class="outline-text-4" id="text-org5d3bf55">

<div class="figure">
<p><img src="My_Environment/2020-05-18_22-12-18_Peek%25202020-05-18%252022-11.gif" alt="2020-05-18_22-12-18_Peek%25202020-05-18%252022-11.gif" />
</p>
</div>

<p>
Go support requires some dependencies. I will try to list them all here.
Stuff I have installed has some overlap because of the in-progress move to LSP, but I'll prune it later.
</p>

<ul class="org-ul">
<li>First, <code>go</code> itself must be installed, install however, and avalailable on the <code>PATH</code>.</li>

<li><code>gopls</code>, the language server for LSP mentioned above <a href="https://github.com/golang/tools/blob/master/gopls/doc/user.md">https://github.com/golang/tools/blob/master/gopls/doc/user.md</a>. I have been just running this off of <code>master</code> so I can experience all the latest <del>bugs</del> features, so clone the gopls project (TODO find the url for it and put a link here) and <code>go install</code> it. After you're done <code>gopls</code> should also be on the <code>PATH</code>.
<a href="https://github.com/golang/tools/blob/master/gopls/doc/emacs.md#gopls-configuration">Directions for configuring <code>gopls</code> through this file are found here.</a></li>

<li><code>golint</code> has to be installed independently</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #D70000;">$</span> <span style="color: #AF005F;">go</span> get https://github.com/golang/lint
</pre>
</div>

<p>
Nothing to do with Emacs, but <code>eg</code> also looks really cool:
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #D70000;">$</span> <span style="color: #AF005F;">go</span> get golang.org/x/tools/cmd/eg
</pre>
</div>

<ul class="org-ul">
<li><a href="https://github.com/golangci/golangci-lint"><code>golangci-lint</code></a> is a meta linter that calls a bunch of 3rd party linters (configurable) and replaces the old one that used to freeze my computer. <code>go-metalinter</code>, I think, is what it was called. Anyway, it used to crash my computer and <i>apparently</i> that was a common experience. Anyway <code>golangci-lint</code> must be installed independently, too:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #4E4E4E; font-style: italic;"># install it into ./bin/</span>
<span style="color: #D70000;">$</span> <span style="color: #AF005F;">curl</span> <span style="color: #AF005F;">-sSfL</span> https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh <span style="color: #D70000;">|</span> <span style="color: #009B7C; font-weight: bold;">sh</span> <span style="color: #AF005F;">-s</span> v1.23.6

</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="org2cfb275"></a>Initial Setup<br />
<div class="outline-text-5" id="text-org2cfb275">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">set-gopls-lib-dirs</span> <span style="color: #AF005F;">()</span>
  <span style="color: #004700; font-style: italic;">"Add $GOPATH/pkg/mod to the 'library path'."</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">stops lsp from continually asking if Go projects should be imported</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> lsp-clients-go-library-directories
        <span style="color: #005F00;">(</span>list
         <span style="color: #005F00;">"/usr"</span>
         <span style="color: #8700AF;">(</span>concat <span style="color: #009B7C;">(</span>getenv <span style="color: #005F00;">"GOPATH"</span><span style="color: #009B7C;">)</span> <span style="color: #005F00;">"/pkg/mod"</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">go-mode</span>
  <span style="color: #1F55A0;">:hook</span> <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span>go-mode . lsp-deferred<span style="color: #005F00;">)</span>
         <span style="color: #005F00;">(</span>go-mode . set-gopls-lib-dirs<span style="color: #005F00;">)</span>
         <span style="color: #005F00;">(</span>go-mode . yas-minor-mode<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">fixes ctrl-o after goto-definition by telling evil that godef-jump jumps</span>
  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">I don't believe I need to do this anymore, as I use lsp instead of godef now</span>
  <span style="color: #AF005F;">(</span>evil-add-command-properties #'godef-jump <span style="color: #1F55A0;">:jump</span> t<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">enable golangci-lint to work with flycheck</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">flycheck-golangci-lint</span>
  <span style="color: #1F55A0;">:hook</span> <span style="color: #AF005F;">(</span>go-mode . flycheck-golangci-lint-setup<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org2e4fa92"></a>Package and Configuration for Executing Tests<br />
<div class="outline-text-5" id="text-org2e4fa92">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">gotest</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>advice-add 'go-test-current-project <span style="color: #1F55A0;">:before</span> #'projectile-save-project-buffers<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>advice-add 'go-test-current-test <span style="color: #1F55A0;">:before</span> #'projectile-save-project-buffers<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-hook 'go-test-mode-hook 'visual-line-mode<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org75d9054"></a>REPL<br />
<div class="outline-text-5" id="text-org75d9054">
<p>
<a href="https://github.com/motemen/gore">Gore</a> provides a REPL and <a href="https://github.com/manute/gorepl-mode">gorepl-mode</a> lets you use it from Emacs. In order to use the REPL from Emacs, you must first install Gore:
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #009B7C; font-weight: bold;">go</span> get <span style="color: #AF005F;">-u</span> github.com/motemen/gore/cmd/gore
</pre>
</div>
<p>
Gore also uses gocode for code completion, so install that (even though Emacs uses go-pls for the same).
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #009B7C; font-weight: bold;">go</span> get <span style="color: #AF005F;">-u</span> github.com/mdempsky/gocode
</pre>
</div>

<p>
Once that's done <code>gorepl-mode</code> is ready to be installed:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">gorepl-mode</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</li>


<li><a id="org36e07c2"></a>Interactive debugger<br />
<div class="outline-text-5" id="text-org36e07c2">
<p>
I got jealous of a coworker with an IDE who apparently has an interactive debugger, so let's see if this is any good. It's been a long time since I've really had a debugger ü§£
</p>
</div>

<ul class="org-ul">
<li><a id="org5427f02"></a>Resources<br />
<div class="outline-text-6" id="text-org5427f02">
<p>
Figured out how to do this, just need to add it..
<a href="https://emacs-lsp.github.io/dap-mode/page/configuration/#go">https://emacs-lsp.github.io/dap-mode/page/configuration/#go</a>
</p>


<p>
<span class="timestamp-wrapper"><span class="timestamp">&lt;2022-02-10 Thu&gt; </span></span> Found another guide here, let's try it out
<a href="https://apmattil.medium.com/debug-go-golang-with-emacs-fbf840c0aa56">https://apmattil.medium.com/debug-go-golang-with-emacs-fbf840c0aa56</a>
</p>
</div>
</li>

<li><a id="orgde17c15"></a>Installation and Configuration<br />
<div class="outline-text-6" id="text-orgde17c15">
<p>
Install <code>dap-mode</code> and <code>dap-go</code>. <code>dap-mode</code> is probably useful for other languages so at some point I will want to refactor it out and install it alongside LSP, but keep <code>dap-go</code> here. Probably. But this works for now, and who knows, maybe debugging Go is really all I care about.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">dap-mode</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">require</span> '<span style="color: #AF005F;">dap-go</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>dap-mode 1<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>dap-ui-mode 1<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>dap-ui-controls-mode 1<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>tooltip-mode 1<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> dap-ui-variable-length 100<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="orgbb28704"></a>On first install<br />
<div class="outline-text-7" id="text-orgbb28704">
<p>
Theoretically you should be able to run this
</p>
<pre class="example">
M-x dap-go-setup
</pre>


<p>
But it is subject to rate-limiting so I just checked in the results of calling this under <code>.extension</code>. It's all MIT-licensed so this is fine.
</p>
</div>
</li>
</ul>
</li>

<li><a id="orgbeea25b"></a>Use<br />
<ul class="org-ul">
<li><a id="org88897eb"></a>When debugging a new executable for the first time<br />
<div class="outline-text-7" id="text-org88897eb">
<p>
Run this command
</p>
<pre class="example">
M-x dap-debug-edit-template
</pre>

<p>
and save the <code>(dap-register-debug-template )</code> call that is generated.. somewhere alongside the code hopefully.
I'll come up with some convention for storing these.
Maybe dir-locals (<code>SPC p E</code>)
</p>
</div>
</li>
<li><a id="orgb0fc0ba"></a>Each time when ready to start debugging<br />
<div class="outline-text-7" id="text-orgb0fc0ba">
<p>
Start debugging by running:
</p>
<pre class="example">
M-x dap-debug
</pre>

<p>
Click in the margins to set breakpoints with <code>dap-ui-mode</code> enabled (üôå)
</p>
</div>
</li>
</ul>
</li>
</ul>
</li>

<li><a id="orgfa115b3"></a>Mode-Specific Keybindings<br />
<div class="outline-text-5" id="text-orgfa115b3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>general-define-key
 <span style="color: #1F55A0;">:states</span>  'normal
 <span style="color: #1F55A0;">:keymaps</span> 'go-mode-map
 <span style="color: #005F00;">",a"</span>     'go-import-add
 <span style="color: #005F00;">",d"</span>     'lsp-describe-thing-at-point
 <span style="color: #005F00;">",gg"</span>    'lsp-find-definition
 <span style="color: #005F00;">",gt"</span>    'lsp-find-type-definition
 <span style="color: #005F00;">",i"</span>     'lsp-find-implementation
 <span style="color: #005F00;">",n"</span>     'lsp-rename
 <span style="color: #005F00;">",r"</span>     'lsp-find-references
 <span style="color: #005F00;">",tp"</span>    'go-test-current-project
 <span style="color: #005F00;">",tt"</span>    'go-test-current-test
 <span style="color: #005F00;">",tf"</span>    'go-test-current-file
 <span style="color: #005F00;">",x"</span>     'lsp-execute-code-action
 <span style="color: #005F00;">",lsp"</span>   'lsp-workspace-restart
 <span style="color: #005F00;">"gd"</span>     'lsp-find-definition

 <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">using the ,c namespace for repl and debug stuff to follow the C-c</span>
 <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">convention found in other places in Emacs</span>
 <span style="color: #005F00;">",cc"</span>     'dap-debug
 <span style="color: #005F00;">",cr"</span>     'gorepl-run
 <span style="color: #005F00;">",cg"</span>     'gorepl-run-load-current-file
 <span style="color: #005F00;">",cx"</span>     'gorepl-eval-region
 <span style="color: #005F00;">",cl"</span>     'gorepl-eval-line

 <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">origami-mode works better with lsp than regular evil-mode</span>
 <span style="color: #005F00;">"TAB"</span>    'origami-toggle-node

 <span style="color: #005F00;">"zm"</span>     'origami-toggle-node
 <span style="color: #005F00;">"zM"</span>     'origami-toggle-all-nodes

 <span style="color: #005F00;">"zc"</span>     'origami-close-node
 <span style="color: #005F00;">"zC"</span>     'origami-close-node-recursively

 <span style="color: #005F00;">"zo"</span>     'origami-open-node
 <span style="color: #005F00;">"zO"</span>     'origami-open-node-recursively

 <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">except for when it totally breaks lol</span>
 <span style="color: #005F00;">"zr"</span>     'origami-reset
 <span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span>autoload 'go-mode <span style="color: #005F00;">"go-mode"</span> nil t<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-to-list 'auto-mode-alist '<span style="color: #AF005F;">(</span><span style="color: #005F00;">"\\.go\\'"</span> . go-mode<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org37ba87d"></a>Hooks<br />
<div class="outline-text-5" id="text-org37ba87d">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">disable "Organize Imports" warning that never goes away</span>
<span style="color: #1F55A0;">(</span>add-hook 'go-mode-hook
          <span style="color: #AF005F;">(</span><span style="color: #D70000;">lambda</span> <span style="color: #005F00;">()</span>
            <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">Go likes origami-mode</span>
            <span style="color: #005F00;">(</span>origami-mode<span style="color: #005F00;">)</span>
            <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">lsp ui sideline code actions are annoying in Go</span>
            <span style="color: #005F00;">(</span><span style="color: #D70000;">setq-local</span> lsp-ui-sideline-show-code-actions nil<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">sets the visual tab width to 2 spaces per tab in Go buffers</span>
<span style="color: #1F55A0;">(</span>add-hook 'go-mode-hook <span style="color: #AF005F;">(</span><span style="color: #D70000;">lambda</span> <span style="color: #005F00;">()</span>
                          <span style="color: #005F00;">(</span>set <span style="color: #8700AF;">(</span>make-local-variable 'tab-width<span style="color: #8700AF;">)</span> 2<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>


<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">lsp-go-install-save-hooks</span> <span style="color: #AF005F;">()</span>
  <span style="color: #AF005F;">(</span>add-hook 'before-save-hook #'lsp-format-buffer t t<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>add-hook 'before-save-hook #'lsp-organize-imports t t<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span>add-hook 'go-mode-hook #'lsp-go-install-save-hooks<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgf989625"></a>Exclude a certain folder from LSP projects<br />
<div class="outline-text-5" id="text-orgf989625">
<p>
Certain projects use a gopath folder inside the project root and this confuses LSP/gopls.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">with-eval-after-load</span> 'lsp-mode
  <span style="color: #AF005F;">(</span>add-to-list 'lsp-file-watch-ignored-directories <span style="color: #005F00;">"[/\\\\]\\.GOPATH\\'"</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
Incidentally, that regex up there is a fucking nightmare and Emacs Lisp should be ashamed. That or maybe there's some secret way to do it so there isn't backslash hell. But holy crap that is a horrible line of code. I think we can all agree with that.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org45644ce" class="outline-4">
<h4 id="org45644ce">Rust</h4>
<div class="outline-text-4" id="text-org45644ce">
<p>
To install the Rust language server:
</p>
<ol class="org-ol">
<li>Install <code>rustup</code>.</li>
<li>Run <code>rustup component add rls rust-analysis rust-src</code>.</li>
</ol>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">rust-mode</span>
  <span style="color: #1F55A0;">:hook</span> <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span>rust-mode . lsp-deferred<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>


<span style="color: #1F55A0;">(</span>general-define-key
 <span style="color: #1F55A0;">:states</span>  'normal
 <span style="color: #1F55A0;">:keymaps</span> 'rust-mode-map
 <span style="color: #005F00;">",d"</span>     'lsp-describe-thing-at-point
 <span style="color: #005F00;">",gg"</span>    'lsp-find-definition
 <span style="color: #005F00;">",gt"</span>    'lsp-find-type-definition
 <span style="color: #005F00;">",i"</span>     'lsp-find-implementation
 <span style="color: #005F00;">",n"</span>     'lsp-rename
 <span style="color: #005F00;">",r"</span>     'lsp-find-references
 <span style="color: #005F00;">",x"</span>     'lsp-execute-code-action
 <span style="color: #005F00;">",lsp"</span>   'lsp-workspace-restart
 <span style="color: #005F00;">"gd"</span>     'lsp-find-definition
 <span style="color: #1F55A0;">)</span>


<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">lsp-rust-install-save-hooks</span> <span style="color: #AF005F;">()</span>
  <span style="color: #AF005F;">(</span>add-hook 'before-save-hook #'lsp-format-buffer t t<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span>add-hook 'rust-mode-hook #'lsp-rust-install-save-hooks<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5c5d2ec" class="outline-4">
<h4 id="org5c5d2ec">Web</h4>
<div class="outline-text-4" id="text-org5c5d2ec">
<p>
After some amount of searching and fumbling about I have discovered <a href="http://web-mode.org/"><code>web-mode</code></a> which appears to be the one-stop-shop solution for all of your HTML and browser-related needs. It handles a whole slew of web-related languages and templating formats and plays nicely with LSP. It's also the only package that I could find that supported <code>.tsx</code> files at all.
</p>

<p>
So yay for <code>web-mode</code>!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">web-mode</span>
  <span style="color: #1F55A0;">:mode</span> <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span><span style="color: #005F00;">"\\.html$"</span> . web-mode<span style="color: #005F00;">)</span>
         <span style="color: #005F00;">(</span><span style="color: #005F00;">"\\.js$"</span>   . web-mode<span style="color: #005F00;">)</span>
         <span style="color: #005F00;">(</span><span style="color: #005F00;">"\\.jsx$"</span>  . web-mode<span style="color: #005F00;">)</span>
         <span style="color: #005F00;">(</span><span style="color: #005F00;">"\\.ts$"</span>   . web-mode<span style="color: #005F00;">)</span>
         <span style="color: #005F00;">(</span><span style="color: #005F00;">"\\.tsx$"</span>  . web-mode<span style="color: #005F00;">)</span>
         <span style="color: #005F00;">(</span><span style="color: #005F00;">"\\.css$"</span>  . web-mode<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
  <span style="color: #1F55A0;">:hook</span>
  <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span>web-mode . lsp-deferred<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #1F55A0;">:config</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> web-mode-enable-css-colorization t<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> web-mode-enable-auto-pairing t<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="orgadb99e7"></a>Setting highlighting for special template modes<br />
<div class="outline-text-5" id="text-orgadb99e7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">web-mode can provide syntax highlighting for many template</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">engines, but it can't detect the right one if the template uses a generic ending.</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">If a project uses a generic ending for its templates, such</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">as .html, add it below. It would be more elegant to handle this by</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">setting this variable in .dir-locals.el for each project,</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">unfortunately due to this https://github.com/fxbois//issues/799 that</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">is not possible :(</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> web-mode-engines-alist '<span style="color: #AF005F;">(</span>
        <span style="color: #005F00;">(</span><span style="color: #005F00;">"go"</span> . <span style="color: #005F00;">".*example_project_dir/.*\\.html\\'"</span><span style="color: #005F00;">)</span>
        <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">add more projects here..</span>
        <span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org9880a45" class="outline-4">
<h4 id="org9880a45">JSON</h4>
<div class="outline-text-4" id="text-org9880a45">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">json-mode</span>
  <span style="color: #1F55A0;">:mode</span> <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span><span style="color: #005F00;">"\\.json$"</span> . json-mode <span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
  <span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span>add-hook 'json-mode-hook 'highlight-indent-guides-mode<span style="color: #1F55A0;">)</span>
</pre>
</div>


<blockquote>
<p>
Default Keybindings
    C-c C-f: format the region/buffer with json-reformat (<a href="https://github.com/gongo/json-reformat">https://github.com/gongo/json-reformat</a>)
    C-c C-p: display a path to the object at point with json-snatcher (<a href="https://github.com/Sterlingg/json-snatcher">https://github.com/Sterlingg/json-snatcher</a>)
    C-c P: copy a path to the object at point to the kill ring with json-snatcher (<a href="https://github.com/Sterlingg/json-snatcher">https://github.com/Sterlingg/json-snatcher</a>)
    C-c C-t: Toggle between true and false at point
    C-c C-k: Replace the sexp at point with null
    C-c C-i: Increment the number at point
    C-c C-d: Decrement the number at point
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgdde61cd" class="outline-4">
<h4 id="orgdde61cd">Shell</h4>
<div class="outline-text-4" id="text-orgdde61cd">
<p>
Shell mode is pretty good vanilla, but I prefer to use spaces rather than tabs for indents with languages like Bash because they just tend to format more reliably. Tabs are .. theoretically more flexible, so maybe I can come back to consider this.
</p>

<p>
But for now, disable <code>indent-tabs-mode</code> in shell script editing mode because I have been observing behavior from <code>whitespace-cleanup-mode</code> that when <code>indent-tabs-mode</code> is <code>t</code> it will change 4 spaces to a tab even if there are other spaces being used for indent, even on the same line, and regardless as to the never-ending debate about spaces and tabs and all that, everyone can agree that 1) mixing spaces and tabs is terrible and 2) your editor shouldn't be mixing spaces and tabs automatically at pre-save time.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>add-hook 'sh-mode-hook
          <span style="color: #AF005F;">(</span><span style="color: #D70000;">lambda</span> <span style="color: #005F00;">()</span>
            <span style="color: #005F00;">(</span><span style="color: #D70000;">defvar-local</span> <span style="color: #004651;">indent-tabs-mode</span> nil<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="orga66f987"></a><span class="todo TODO">TODO</span> I don't know if this still works üëÜ<br /></li>
</ul>
</div>
<div id="outline-container-org013157a" class="outline-4">
<h4 id="org013157a">Salt</h4>
<div class="outline-text-4" id="text-org013157a">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">salt-mode</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-hook 'salt-mode-hook
        <span style="color: #AF005F;">(</span><span style="color: #D70000;">lambda</span> <span style="color: #005F00;">()</span>
            <span style="color: #005F00;">(</span>flyspell-mode 1<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>


<span style="color: #1F55A0;">(</span>general-define-key
 <span style="color: #1F55A0;">:states</span>  'normal
 <span style="color: #1F55A0;">:keymaps</span> 'sh-mode-map
 <span style="color: #005F00;">",c"</span> <span style="color: #AF005F;">(</span><span style="color: #D70000;">general-simulate-key</span> <span style="color: #005F00;">"C-x h C-M-x"</span><span style="color: #AF005F;">)</span>
 <span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc0b5abd" class="outline-4">
<h4 id="orgc0b5abd">Adaptive Wrap and Visual Line Mode</h4>
<div class="outline-text-4" id="text-orgc0b5abd">
<p>
Here I've done some black magic fuckery for a few modes. Heathens in modern languages and also some other prose modes don't wrap their long lines at 80 characters like God intended so instead of using visual-column-mode which I think does something similar but probably would've been easier, I've defined an abomination of a combination of <code>visual-line-mode</code> (built-in) and <a href="https://elpa.gnu.org/packages/adaptive-wrap.html">adaptive-wrap-prefix-mode</a> to <b><b>dynamically (visually) wrap and indent long lines in languages like Go with no line length limit</b></b> so they look nice on my screen at any window width and don't change the underlying file ‚Äî and it's actually pretty cool.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">adaptive-wrap</span>
  <span style="color: #1F55A0;">:config</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq-default</span> adaptive-wrap-extra-indent 2<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">adaptive-and-visual-line-mode</span> <span style="color: #005F00;">(</span>hook<span style="color: #005F00;">)</span>
    <span style="color: #005F00;">(</span>add-hook hook <span style="color: #8700AF;">(</span><span style="color: #D70000;">lambda</span> <span style="color: #009B7C;">()</span>
                      <span style="color: #009B7C;">(</span><span style="color: #D70000;">progn</span>
                        <span style="color: #1F55A0;">(</span>visual-line-mode<span style="color: #1F55A0;">)</span>
                        <span style="color: #1F55A0;">(</span>adaptive-wrap-prefix-mode<span style="color: #1F55A0;">)</span><span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span>mapc 'adaptive-and-visual-line-mode
        <span style="color: #005F00;">(</span>list
         'markdown-mode
         'go-mode-hook
         'js2-mode-hook
         'yaml-mode-hook
         'rjsx-mode-hook<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span>add-hook 'compilation-mode-hook
            #'adaptive-wrap-prefix-mode<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> compilation-scroll-output t<span style="color: #AF005F;">)</span>
  <span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org567082e" class="outline-3">
<h3 id="org567082e">Global Keybindings</h3>
<div class="outline-text-3" id="text-org567082e">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">general-create-definer</span> my-leader-def
  <span style="color: #1F55A0;">:prefix</span> <span style="color: #005F00;">"SPC"</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">general-create-definer</span> my-local-leader-def
  <span style="color: #1F55A0;">:prefix</span> <span style="color: #005F00;">"SPC m"</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">find-initfile</span> <span style="color: #AF005F;">()</span>
  <span style="color: #004700; font-style: italic;">"Open main config file."</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>find-file <span style="color: #005F00;">"~/.emacs.d/ian.org"</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">find-initfile-other-frame</span> <span style="color: #AF005F;">()</span>
  <span style="color: #004700; font-style: italic;">"Open main config file in a new frame."</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>find-file-other-frame <span style="color: #005F00;">"~/.emacs.d/ian.org"</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">reload-initfile</span> <span style="color: #AF005F;">()</span>
  <span style="color: #004700; font-style: italic;">"Reload the main config file."</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>org-babel-tangle <span style="color: #005F00;">"~/.emacs.d/ian.org"</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>byte-compile-file <span style="color: #005F00;">"~/.emacs.d/ian.el"</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">close-client-frame</span> <span style="color: #AF005F;">()</span>
  <span style="color: #004700; font-style: italic;">"Exit emacsclient."</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>server-edit <span style="color: #005F00;">"Done"</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">last-window</span> <span style="color: #AF005F;">()</span>
  <span style="color: #004700; font-style: italic;">"Switch to the last window."</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>other-window -1 t<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">global keybindings with LEADER</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">my-leader-def</span> 'normal 'override
  <span style="color: #005F00;">"aa"</span>     'ace-jump-mode
  <span style="color: #005F00;">"bb"</span>     'helm-buffers-list
  <span style="color: #005F00;">"TAB"</span>    #'switch-to-prev-buffer
  <span style="color: #005F00;">"br"</span>     'revert-buffer
  <span style="color: #005F00;">"bd"</span>     'evil-delete-buffer
  <span style="color: #005F00;">"cc"</span>     'projectile-compile-project
  <span style="color: #005F00;">"ec"</span>     'flycheck-clear
  <span style="color: #005F00;">"el"</span>     'flycheck-list-errors
  <span style="color: #005F00;">"en"</span>     'flycheck-next-error
  <span style="color: #005F00;">"ep"</span>     'flycheck-previous-error
  <span style="color: #005F00;">"Fm"</span>     'make-frame
  <span style="color: #005F00;">"Ff"</span>     'toggle-frame-fullscreen
  <span style="color: #005F00;">"ff"</span>     'helm-find-files
  <span style="color: #005F00;">"fr"</span>     'helm-recentf
  <span style="color: #005F00;">"fed"</span>    'find-initfile
  <span style="color: #005F00;">"feD"</span>    'find-initfile-other-frame
  <span style="color: #005F00;">"feR"</span>    'reload-initfile
  <span style="color: #005F00;">"gb"</span>     'magit-blame
  <span style="color: #005F00;">"gs"</span>     'magit-status
  <span style="color: #005F00;">"gg"</span>     'magit
  <span style="color: #005F00;">"gt"</span>     'git-timemachine
  <span style="color: #005F00;">"gd"</span>     'magit-diff
  <span style="color: #005F00;">"h"</span>      'hyperbole
  <span style="color: #005F00;">"jj"</span>     'bookmark-jump
  <span style="color: #005F00;">"js"</span>     'bookmark-set
  <span style="color: #005F00;">"jo"</span>     'org-babel-tangle-jump-to-org
  <span style="color: #005F00;">"ic"</span>     'insert-char
  <span style="color: #005F00;">"is"</span>     'yas-insert-snippet
  <span style="color: #005F00;">"n"</span>      '<span style="color: #AF005F;">(</span><span style="color: #1F55A0;">:keymap</span> narrow-map<span style="color: #AF005F;">)</span>
  <span style="color: #005F00;">"oo"</span>     'browse-url-at-point
  <span style="color: #005F00;">"p"</span>      'projectile-command-map
  <span style="color: #005F00;">"pf"</span>     'helm-projectile-find-file
  <span style="color: #005F00;">"p!"</span>     'projectile-run-async-shell-command-in-root
  <span style="color: #005F00;">"si"</span>     'yas-insert-snippet
  <span style="color: #005F00;">"sn"</span>     'yas-new-snippet
  <span style="color: #005F00;">"sp"</span>     'helm-projectile-ag
  <span style="color: #005F00;">"qq"</span>     'save-buffers-kill-terminal
  <span style="color: #005F00;">"qr"</span>     'restart-emacs
  <span style="color: #005F00;">"qz"</span>     'delete-frame
  <span style="color: #005F00;">"tn"</span>     'display-line-numbers-mode
  <span style="color: #005F00;">"tr"</span>     'treemacs-select-window
  <span style="color: #005F00;">"ta"</span>     'treemacs-add-project-to-workspace
  <span style="color: #005F00;">"ts"</span>     'toggle-screaming
  <span style="color: #005F00;">"tt"</span>     'toggle-transparency
  <span style="color: #005F00;">"w-"</span>     'split-window-below
  <span style="color: #005F00;">"w/"</span>     'split-window-right
  <span style="color: #005F00;">"wa"</span>     'ace-window
  <span style="color: #005F00;">"wb"</span>     'last-window
  <span style="color: #005F00;">"wj"</span>     'evil-window-down
  <span style="color: #005F00;">"wk"</span>     'evil-window-up
  <span style="color: #005F00;">"wh"</span>     'evil-window-left
  <span style="color: #005F00;">"wl"</span>     'evil-window-right
  <span style="color: #005F00;">"wd"</span>     'delete-window
  <span style="color: #005F00;">"wD"</span>     'delete-other-windows
  <span style="color: #005F00;">"wo"</span>     'other-window
  <span style="color: #005F00;">"w="</span>     'balance-windows
  <span style="color: #005F00;">"SPC"</span>    'helm-M-x
  <span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge8768b7" class="outline-3">
<h3 id="orge8768b7">Org Mode Settings</h3>
<div class="outline-text-3" id="text-orge8768b7">
<p>
Some default evil bindings
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">evil-org</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
Image drag-and-drop for org-mode
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">org-download</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<div class="figure">
<p><img src="My_Environment/2019-12-25_00-33-07_Peek%25202019-12-25%252000-29.gif" alt="2019-12-25_00-33-07_Peek%25202019-12-25%252000-29.gif" />
</p>
</div>

<p>
Autocomplete for Org blocks (like source blocks)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">company-org-block</span><span style="color: #1F55A0;">)</span> <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">TODO configuration</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">Fontify the whole line for headings (with a background color).</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> org-fontify-whole-heading-line t<span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">disable the weird default editing window layout in org-mode</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">instead, just replace the current window with the editing one..</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> org-src-window-setup 'current-window<span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">indent and wrap long lines in Org</span>
<span style="color: #1F55A0;">(</span>add-hook 'org-mode-hook 'org-indent-mode<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-hook 'org-mode-hook 'visual-line-mode<span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">enable execution of languages from Babel</span>
<span style="color: #1F55A0;">(</span>org-babel-do-load-languages 'org-babel-load-languages
                             '<span style="color: #AF005F;">(</span>
                               <span style="color: #005F00;">(</span>shell . t<span style="color: #005F00;">)</span>
                               <span style="color: #AF005F;">)</span>
                             <span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">my-local-leader-def</span>
  <span style="color: #1F55A0;">:states</span>  'normal
  <span style="color: #1F55A0;">:keymaps</span> 'org-mode-map
  <span style="color: #005F00;">"y"</span>      'org-store-link
  <span style="color: #005F00;">"p"</span>      'org-insert-link
  <span style="color: #005F00;">"x"</span>      'org-babel-execute-src-block
  <span style="color: #005F00;">"s"</span>      'org-insert-structure-template
  <span style="color: #005F00;">"e"</span>      'org-edit-src-code
  <span style="color: #005F00;">"t"</span>      'org-babel-tangle
  <span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span>general-define-key
 <span style="color: #1F55A0;">:states</span>  'normal
 <span style="color: #1F55A0;">:keymaps</span> 'org-mode-map
 <span style="color: #005F00;">"TAB"</span>    'evil-toggle-fold<span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">github-flavored markdown</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">ox-gfm</span><span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">htmlize prints the current buffer or file, as it would appear in</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">Emacs, but in HTML! It's super cool and TODO I need to move this</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">use-package statement somewhere I can talk about htmlize outside of</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">a comment</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">htmlize</span><span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">enable markdown export</span>
<span style="color: #1F55A0;">(</span>eval-after-load <span style="color: #005F00;">"org"</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">progn</span>
    '<span style="color: #005F00;">(</span><span style="color: #D70000;">require</span> '<span style="color: #AF005F;">ox-md</span> nil t<span style="color: #005F00;">)</span>
    '<span style="color: #005F00;">(</span><span style="color: #D70000;">require</span> '<span style="color: #AF005F;">ox-gfm</span> nil t<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">todo states</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> org-todo-keywords
      '<span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span>sequence <span style="color: #005F00;">"TODO(t)"</span> <span style="color: #005F00;">"|"</span> <span style="color: #005F00;">"IN PROGRESS(p)"</span> <span style="color: #005F00;">"|"</span> <span style="color: #005F00;">"DONE(d)"</span><span style="color: #005F00;">)</span>
        <span style="color: #005F00;">(</span>sequence <span style="color: #005F00;">"QUESTION(q)"</span> <span style="color: #005F00;">"|"</span> <span style="color: #005F00;">"ANSWERED(a)"</span><span style="color: #005F00;">)</span>
        <span style="color: #005F00;">(</span>sequence <span style="color: #005F00;">"AGENDA(a)"</span> <span style="color: #005F00;">"|"</span> <span style="color: #005F00;">"DONE(d)"</span> <span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3c63c61" class="outline-3">
<h3 id="org3c63c61">Miscellaneous standalone global configuration changes</h3>
<div class="outline-text-3" id="text-org3c63c61">
</div>
<div id="outline-container-orga7f4b17" class="outline-4">
<h4 id="orga7f4b17">Switch theme</h4>
<div class="outline-text-4" id="text-orga7f4b17">
<p>
Automatically calls disable-theme on the current theme before loading a new theme! Allows easy theme switching with just <code>M-x load-theme</code>.
</p>

<p>
Thanks to <a href="https://www.simplify.ba/articles/2016/02/13/loading-and-unloading-emacs-themes/">https://www.simplify.ba/articles/2016/02/13/loading-and-unloading-emacs-themes/</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">load-theme--disable-old-theme</span><span style="color: #AF005F;">(</span>theme <span style="color: #1F55A0;">&amp;rest</span> args<span style="color: #AF005F;">)</span>
  <span style="color: #004700; font-style: italic;">"Disable current theme before loading new one."</span>
  <span style="color: #AF005F;">(</span>mapcar #'disable-theme custom-enabled-themes<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>advice-add 'load-theme <span style="color: #1F55A0;">:before</span> #'load-theme--disable-old-theme<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8415e0c" class="outline-4">
<h4 id="org8415e0c">Fix background color of lsp-ui-doc in various themes</h4>
<div class="outline-text-4" id="text-org8415e0c">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">lsp-ui-doc-moe-light-background</span> <span style="color: #AF005F;">()</span>
  <span style="color: #AF005F;">(</span>set-face-attribute 'lsp-ui-doc-background nil <span style="color: #1F55A0;">:background</span> <span style="color: #005F00;">"#D8D8D8"</span> <span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">lsp-ui-doc-moe-dark-background</span> <span style="color: #AF005F;">()</span>
  <span style="color: #AF005F;">(</span>set-face-attribute 'lsp-ui-doc-background nil <span style="color: #1F55A0;">:background</span> <span style="color: #005F00;">"#353535"</span> <span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>

<span style="color: #1F55A0;">(</span>advice-add 'moe-light <span style="color: #1F55A0;">:after</span> #'lsp-ui-doc-moe-light-background<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>advice-add 'moe-dark <span style="color: #1F55A0;">:after</span> #'lsp-ui-doc-moe-dark-background<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org81c003b" class="outline-4">
<h4 id="org81c003b">Line Numbers in Programming Buffers</h4>
<div class="outline-text-4" id="text-org81c003b">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>add-hook 'prog-mode-hook 'display-line-numbers-mode<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> display-line-numbers-type 'relative<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb7bc8c2" class="outline-4">
<h4 id="orgb7bc8c2">Transparency toggle</h4>
<div class="outline-text-4" id="text-orgb7bc8c2">
<p>
I definitely lifted this from somewhere but failed to document where I got it :\
Probably from Spacemacs. Thanks, Spacemacs.
</p>


<div class="figure">
<p><img src="My_Environment/2020-05-18_21-46-59_2020-05-18T21:46:03.gif" alt="2020-05-18_21-46-59_2020-05-18T21:46:03.gif" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">toggle-transparency</span> <span style="color: #AF005F;">()</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">let</span> <span style="color: #005F00;">(</span><span style="color: #8700AF;">(</span>alpha <span style="color: #009B7C;">(</span>frame-parameter nil 'alpha<span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>
    <span style="color: #005F00;">(</span>set-frame-parameter
     nil 'alpha
     <span style="color: #8700AF;">(</span><span style="color: #D70000;">if</span> <span style="color: #009B7C;">(</span>eql <span style="color: #1F55A0;">(</span><span style="color: #D70000;">cond</span> <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span>numberp alpha<span style="color: #005F00;">)</span> alpha<span style="color: #AF005F;">)</span>
                    <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span>numberp <span style="color: #8700AF;">(</span>cdr alpha<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span> <span style="color: #005F00;">(</span>cdr alpha<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
                    <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">Also handle undocumented (&lt;active&gt; &lt;inactive&gt;) form.</span>
                    <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span>numberp <span style="color: #8700AF;">(</span>cadr alpha<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span> <span style="color: #005F00;">(</span>cadr alpha<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
              100<span style="color: #009B7C;">)</span>
         '95 '<span style="color: #009B7C;">(</span>100 . 100<span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org163c37e" class="outline-4">
<h4 id="org163c37e">Switch to last buffer</h4>
<div class="outline-text-4" id="text-org163c37e">
<p>
This one lifted from <a href="https://emacsredux.com/blog/2013/04/28/switch-to-previous-buffer/">https://emacsredux.com/blog/2013/04/28/switch-to-previous-buffer/</a>
</p>

<p>
TODO: Make this behave like alt-tab in Windows, but for buffers. I think <code>hycontrol</code> may come in handy (Hyperbole).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">er-switch-to-previous-buffer</span> <span style="color: #AF005F;">()</span>
  <span style="color: #AF005F;">(</span>concat
    <span style="color: #005F00;">"Switch to previously open buffer."</span>
    <span style="color: #005F00;">"Repeated invocations toggle between the two most recently open buffers."</span><span style="color: #AF005F;">)</span>
    <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>
    <span style="color: #AF005F;">(</span>switch-to-buffer <span style="color: #005F00;">(</span>other-buffer <span style="color: #8700AF;">(</span>current-buffer<span style="color: #8700AF;">)</span> 1<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb80ce51" class="outline-4">
<h4 id="orgb80ce51">Fix Home/End keys</h4>
<div class="outline-text-4" id="text-orgb80ce51">
<p>
Emacs has weird behavior by default for Home and End and this change makes the behavior "normal" again.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>global-set-key <span style="color: #AF005F;">(</span>kbd <span style="color: #005F00;">"&lt;home&gt;"</span><span style="color: #AF005F;">)</span> 'move-beginning-of-line<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>global-set-key <span style="color: #AF005F;">(</span>kbd <span style="color: #005F00;">"&lt;end&gt;"</span><span style="color: #AF005F;">)</span> 'move-end-of-line<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org62b84de" class="outline-4">
<h4 id="org62b84de">Customize the frame (OS window) title</h4>
<div class="outline-text-4" id="text-org62b84de">
<p>
Taken from StackOverflow, at least for now, which does 90% of what I want and can serve as a future reference of how to customize this aspect of Emacs. This displays the file name and major mode in the OS title bar. Will have to find the documentation that defines the format string passed to <code>frame-title-format</code> at some point.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq-default</span> frame-title-format '<span style="color: #AF005F;">(</span><span style="color: #005F00;">"%f [%m]"</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9b875ea" class="outline-4">
<h4 id="org9b875ea">Tweak align-regexp</h4>
<div class="outline-text-4" id="text-org9b875ea">
<p>
Configure align-regexp to use spaces instead of tabs. This is mostly for this file. When my keybindings are in two columns and <code>M-x align-regexp</code> uses tabs, the columns look aligned in Emacs but unaligned on GitHub. Using spaces faces this. This snippet effects that change.
</p>

<p>
Lifted from StackOverflow:
</p>

<p>
<a href="https://stackoverflow.com/questions/22710040/emacs-align-regexp-with-spaces-instead-of-tabs">https://stackoverflow.com/questions/22710040/emacs-align-regexp-with-spaces-instead-of-tabs</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defadvice</span> <span style="color: #AF8700;">align-regexp</span> <span style="color: #AF005F;">(</span>around align-regexp-with-spaces activate<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">let</span> <span style="color: #005F00;">(</span><span style="color: #8700AF;">(</span>indent-tabs-mode nil<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>
    ad-do-it<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1628fc2" class="outline-4">
<h4 id="org1628fc2">Configure automatic backups/recovery files</h4>
<div class="outline-text-4" id="text-org1628fc2">
<p>
I don't like how Emacs puts temp files in the same directory as the file, as this litters the current working directory and makes git branches dirty. These are some tweaks to store those files in <code>/tmp</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> backup-directory-alist `<span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span><span style="color: #005F00;">"."</span> . <span style="color: #005F00;">"/tmp/.emacs-saves"</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> backup-by-copying t<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> delete-old-versions t<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org21d2ccd" class="outline-4">
<h4 id="org21d2ccd"><span class="todo TODO">TODO</span> Clean whitespace on save in all modes</h4>
<div class="outline-text-4" id="text-org21d2ccd">
<p>
I have to actually go in and configure this because the defaults keep giving me fucking heartburn.
It keeps messing with the whitespace in files that are none of its business. Maybe I just need to carefully enable it for certain modes? idk, too much magic, no time to look into it right now.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">(add-hook 'before-save-hook 'whitespace-cleanup)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org072ea80" class="outline-4">
<h4 id="org072ea80">Autosave</h4>
<div class="outline-text-4" id="text-org072ea80">
<p>
Automatically saves the file when it's been idle for 5 minutes.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">autosave</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> auto-save-visited-interval 300<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>auto-save-visited-mode
 <span style="color: #1F55A0;">:diminish</span>
 <span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd07f663" class="outline-4">
<h4 id="orgd07f663">Default window size</h4>
<div class="outline-text-4" id="text-orgd07f663">
<p>
Just a bigger size that I prefer..
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>add-to-list 'default-frame-alist '<span style="color: #AF005F;">(</span>width . 128<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-to-list 'default-frame-alist '<span style="color: #AF005F;">(</span>height . 60<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0c5a117" class="outline-4">
<h4 id="org0c5a117">Unclutter global modeline</h4>
<div class="outline-text-4" id="text-org0c5a117">
<p>
Some global minor modes put themselves in the modeline and it gets noisy, so remove them from the modeline.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">hide some modes that are everywhere</span>
<span style="color: #1F55A0;">(</span>diminish 'eldoc-mode<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>diminish 'undo-tree-mode<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>diminish 'auto-revert-mode<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>diminish 'evil-collection-unimpaired-mode<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>diminish 'yas-minor-mode-major-mode<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7a565dd" class="outline-4">
<h4 id="org7a565dd">Less annoying bell</h4>
<div class="outline-text-4" id="text-org7a565dd">
<p>
Flashes the modeline foreground instead of whatever the horrible default behavior was (I don't even remember).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> ring-bell-function
      <span style="color: #AF005F;">(</span><span style="color: #D70000;">lambda</span> <span style="color: #005F00;">()</span>
        <span style="color: #005F00;">(</span><span style="color: #D70000;">let</span> <span style="color: #8700AF;">(</span><span style="color: #009B7C;">(</span>orig-fg <span style="color: #1F55A0;">(</span>face-foreground 'mode-line<span style="color: #1F55A0;">)</span><span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span>
          <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">change the flash color here</span>
          <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">overrides themes :P</span>
          <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">guess that's one way to do it</span>
          <span style="color: #8700AF;">(</span>set-face-foreground 'mode-line <span style="color: #005F00;">"#F2804F"</span><span style="color: #8700AF;">)</span>
          <span style="color: #8700AF;">(</span>run-with-idle-timer 0.1 nil
                               <span style="color: #009B7C;">(</span><span style="color: #D70000;">lambda</span> <span style="color: #1F55A0;">(</span>fg<span style="color: #1F55A0;">)</span> <span style="color: #1F55A0;">(</span>set-face-foreground 'mode-line fg<span style="color: #1F55A0;">)</span><span style="color: #009B7C;">)</span>
                               orig-fg<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
<p>
(from Emacs wiki)
</p>
</div>
</div>
<div id="outline-container-org13529f8" class="outline-4">
<h4 id="org13529f8">Easily create gifs of current Emacs frames</h4>
<div class="outline-text-4" id="text-org13529f8">
<p>
Figures out the frame size and passes it to <code>byzanz-record</code>. Only works if <code>byzanz-record</code> is installed (it's in the repos in most distros) and only works in X11.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">create-gif</span> <span style="color: #AF005F;">(</span>duration<span style="color: #AF005F;">)</span>
  <span style="color: #004700; font-style: italic;">"Create a gif of the current frame with the DURATION provided."</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span> <span style="color: #005F00;">"sDuration: "</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">width</span> <span style="color: #005F00;">()</span>
    <span style="color: #004700; font-style: italic;">"get the width of the frame"</span>
    <span style="color: #005F00;">(</span>+ 10 <span style="color: #8700AF;">(</span>frame-pixel-width<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">height</span> <span style="color: #005F00;">()</span>
    <span style="color: #004700; font-style: italic;">"get the height of the frame"</span>
    <span style="color: #005F00;">(</span>+ 50 <span style="color: #8700AF;">(</span>frame-pixel-height<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">y</span> <span style="color: #005F00;">()</span>
    <span style="color: #004700; font-style: italic;">"get the y position of the frame"</span>
    <span style="color: #005F00;">(</span>frame-parameter nil 'top<span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">x</span> <span style="color: #005F00;">()</span>
    <span style="color: #004700; font-style: italic;">"get the x position of the frame"</span>
    <span style="color: #005F00;">(</span><span style="color: #D70000;">cond</span> <span style="color: #8700AF;">(</span><span style="color: #009B7C;">(</span>numberp <span style="color: #1F55A0;">(</span>frame-parameter nil 'left<span style="color: #1F55A0;">)</span><span style="color: #009B7C;">)</span>
           <span style="color: #009B7C;">(</span>frame-parameter nil 'left<span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span>
          <span style="color: #8700AF;">(</span>t
           0<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">filename</span><span style="color: #005F00;">()</span>
    <span style="color: #004700; font-style: italic;">"get the timestamped filename of the gif"</span>
    <span style="color: #005F00;">(</span>concat <span style="color: #005F00;">" ~/emacs-gifs/"</span> <span style="color: #8700AF;">(</span>format-time-string <span style="color: #005F00;">"%Y-%m-%dT%T"</span><span style="color: #8700AF;">)</span> <span style="color: #005F00;">".gif"</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span><span style="color: #D70000;">if</span> <span style="color: #005F00;">(</span>not <span style="color: #8700AF;">(</span>file-directory-p <span style="color: #005F00;">"~/emacs-gifs"</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>
      <span style="color: #005F00;">(</span>make-directory <span style="color: #005F00;">"~/emacs-gifs"</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>start-process-shell-command
   <span style="color: #005F00;">"create-gif"</span> <span style="color: #005F00;">"*Messages*"</span>
   <span style="color: #005F00;">(</span>format <span style="color: #005F00;">"byzanz-record -d %s -w %d -h %d -x %d -y %d %s"</span>
           duration <span style="color: #8700AF;">(</span>width<span style="color: #8700AF;">)</span> <span style="color: #8700AF;">(</span>height<span style="color: #8700AF;">)</span> <span style="color: #8700AF;">(</span>x<span style="color: #8700AF;">)</span> <span style="color: #8700AF;">(</span>y<span style="color: #8700AF;">)</span> <span style="color: #8700AF;">(</span>filename<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3e51894" class="outline-4">
<h4 id="org3e51894">Remove toolbar, scrollbars, and menu</h4>
<div class="outline-text-4" id="text-org3e51894">
<p>
Removes the toolbar and menu bar (file menu, etc) in Emacs because I just use <code>M-x</code> for everything.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">when</span> <span style="color: #AF005F;">(</span>fboundp 'menu-bar-mode<span style="color: #AF005F;">)</span> <span style="color: #AF005F;">(</span>menu-bar-mode -1<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">when</span> <span style="color: #AF005F;">(</span>fboundp 'tool-bar-mode<span style="color: #AF005F;">)</span> <span style="color: #AF005F;">(</span>tool-bar-mode -1<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>scroll-bar-mode -1<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">my/disable-scroll-bars</span> <span style="color: #AF005F;">(</span>frame<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>modify-frame-parameters frame
                           '<span style="color: #005F00;">(</span><span style="color: #8700AF;">(</span>vertical-scroll-bars . nil<span style="color: #8700AF;">)</span>
                             <span style="color: #8700AF;">(</span>horizontal-scroll-bars . nil<span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>add-hook 'after-make-frame-functions 'my/disable-scroll-bars<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org30f93e5" class="outline-4">
<h4 id="org30f93e5">Enable the mouse in the terminal</h4>
<div class="outline-text-4" id="text-org30f93e5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>xterm-mouse-mode 1<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf424a2d" class="outline-4">
<h4 id="orgf424a2d">Disable "nice" names in Customize</h4>
<div class="outline-text-4" id="text-orgf424a2d">
<p>
I prefer that Customize display the names of variables that I can change in this file, rather than the human-readable names for people who customize their Emacs through <code>M-x customize</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">setq</span> custom-unlispify-tag-names nil<span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd62e97b" class="outline-4">
<h4 id="orgd62e97b">Enable wgrep mode</h4>
<div class="outline-text-4" id="text-orgd62e97b">
<p>
Writable grep mode allows you to edit the results from running grep on a project and easily save changes back to all of the original files
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">use-package</span> <span style="color: #AF005F;">wgrep-ack</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4a2156" class="outline-4">
<h4 id="orga4a2156">Set up global font settings</h4>
<div class="outline-text-4" id="text-orga4a2156">
<p>
First, just define a helper function for setting a font and changing it immediately
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">set-font</span> <span style="color: #AF005F;">(</span>font<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>set-face-attribute 'default nil <span style="color: #1F55A0;">:font</span> font <span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>set-frame-font font nil t<span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
The FiraCode font is a programming-focused font with ligatures that looks nice and has a open license so I'm standardizing my editor configuration on that font
</p>
</div>

<ul class="org-ul">
<li><a id="org9ea71b8"></a>FiraCode Font Installation Script<br />
<div class="outline-text-5" id="text-org9ea71b8">
<p>
Installing fonts is always a pain so I'm going to use a variation of the installation script that the FireCode devs provide under their manual installation guide. This should be Linux-distribution agnostic, even though the font can be installed as a system package with on all of my systems on <span class="timestamp-wrapper"><span class="timestamp">&lt;2022-02-19 Sat&gt; </span></span> with just
</p>

<pre class="example">
sudo apt install fonts-firacode
</pre>


<p>
because I don't intend to use Ubuntu as my only system forever. I just happen to be on Ubuntu on <span class="timestamp-wrapper"><span class="timestamp">&lt;2022-02-19 Sat&gt;</span></span>.
</p>

<p>
But first, I want to be able to run this script every time Emacs starts, but only have the script actually do anything if the font is not already installed.
</p>

<p>
This guard will check to see if there's any font with 'fira' in it (case insensitive) and if so, just exits the script. This will happen on most executions.
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #1F55A0; font-weight: bold;">set</span> <span style="color: #AF005F;">-eo</span> pipefail
[[ <span style="color: #D70000;">$(</span><span style="color: #009B7C; background-color: #F5F5F9; font-weight: bold;">fc-list</span><span style="color: #0F1019; background-color: #F5F5F9;"> </span><span style="color: #D70000; background-color: #F5F5F9;">|</span><span style="color: #0F1019; background-color: #F5F5F9;"> </span><span style="color: #009B7C; background-color: #F5F5F9; font-weight: bold;">grep</span><span style="color: #0F1019; background-color: #F5F5F9;"> </span><span style="color: #AF005F; background-color: #F5F5F9;">-i</span><span style="color: #0F1019; background-color: #F5F5F9;"> fira</span><span style="color: #D70000;">)</span> <span style="color: #D70000;">!=</span> <span style="color: #005F00;">""</span> ]] <span style="color: #D70000;">&amp;&amp;</span> <span style="color: #009B7C; font-weight: bold;">exit</span> 0
</pre>
</div>

<p>
Now here's the standard installation script, stripped of the shebang to go after my guard
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #004651;">fonts_dir</span>=<span style="color: #005F00;">"</span><span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">HOME</span><span style="color: #D70000;">}</span><span style="color: #005F00;">/.local/share/fonts"</span>
<span style="color: #D70000;">if</span> [ <span style="color: #1F55A0; font-weight: bold;">!</span> -d <span style="color: #005F00;">"</span><span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">fonts_dir</span><span style="color: #D70000;">}</span><span style="color: #005F00;">"</span> ]<span style="color: #D70000;">;</span> <span style="color: #D70000;">then</span>
    <span style="color: #1F55A0; font-weight: bold;">echo</span> <span style="color: #005F00;">"mkdir -p </span><span style="color: #D70000;">$</span><span style="color: #AF005F;">fonts_dir</span><span style="color: #005F00;">"</span>
    <span style="color: #009B7C; font-weight: bold;">mkdir</span> <span style="color: #AF005F;">-p</span> <span style="color: #005F00;">"</span><span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">fonts_dir</span><span style="color: #D70000;">}</span><span style="color: #005F00;">"</span>
<span style="color: #D70000;">else</span>
    <span style="color: #1F55A0; font-weight: bold;">echo</span> <span style="color: #005F00;">"Found fonts dir </span><span style="color: #D70000;">$</span><span style="color: #AF005F;">fonts_dir</span><span style="color: #005F00;">"</span>
<span style="color: #D70000;">fi</span>

<span style="color: #004651;">version</span>=5.2
<span style="color: #004651;">zip</span>=Fira_Code_v<span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">version</span><span style="color: #D70000;">}</span>.zip
<span style="color: #009B7C; font-weight: bold;">curl</span> <span style="color: #AF005F;">--fail</span> <span style="color: #AF005F;">--location</span> <span style="color: #AF005F;">--show-error</span> https://github.com/tonsky/FiraCode/releases/download/<span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">version</span><span style="color: #D70000;">}</span>/<span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">zip</span><span style="color: #D70000;">}</span> <span style="color: #AF005F;">--output</span> <span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">zip</span><span style="color: #D70000;">}</span>
<span style="color: #009B7C; font-weight: bold;">unzip</span> <span style="color: #AF005F;">-o</span> <span style="color: #AF005F;">-q</span> <span style="color: #AF005F;">-d</span> <span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">fonts_dir</span><span style="color: #D70000;">}</span> <span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">zip</span><span style="color: #D70000;">}</span>
<span style="color: #009B7C; font-weight: bold;">rm</span> <span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">zip</span><span style="color: #D70000;">}</span>

<span style="color: #1F55A0; font-weight: bold;">echo</span> <span style="color: #005F00;">"fc-cache -f"</span>
<span style="color: #009B7C; font-weight: bold;">fc-cache</span> <span style="color: #AF005F;">-f</span>
</pre>
</div>

<p>
This installation script was sourced from <a href="https://github.com/tonsky/FiraCode/wiki/Linux-instructions#installing-with-a-package-manager">https://github.com/tonsky/FiraCode/wiki/Linux-instructions#installing-with-a-package-manager</a>
</p>
</div>
</li>

<li><a id="org0181086"></a>Enable FiraCode Font<br />
<div class="outline-text-5" id="text-org0181086">
<p>
Calling the script from above will install the font
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>shell-command <span style="color: #005F00;">"chmod +x ~/.emacs.d/install-firacode-font.bash"</span><span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span>shell-command <span style="color: #005F00;">"~/.emacs.d/install-firacode-font.bash"</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
Now Emacs can be configured to use it with confidence, using the helper function defined earlier:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>set-font <span style="color: #005F00;">"Fira Code"</span><span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org75e7f3d"></a>Configure FiraCode special features<br />
<div class="outline-text-5" id="text-org75e7f3d">
<p>
FiraCode offers ligatures for programming symbols, which is cool. 
</p>
</div>

<ul class="org-ul">
<li><a id="orgd45d135"></a><span class="todo TODO">TODO</span> Use the new method after upgrading to Emacs 28<br />
<div class="outline-text-6" id="text-orgd45d135">
<p>
The following, taken from the <a href="https://github.com/tonsky/FiraCode/wiki/Emacs-instructions#using-ligatureel">installation guide</a>, enables these using the <code>ligature.el</code> method:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">;; Enable the www ligature in every possible major mode</span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">(ligature-set-ligatures 't '("www"))</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">;; Enable ligatures in programming modes                                                           </span>
<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">(ligature-set-ligatures 'prog-mode '("www" "**" "***" "**/" "*&gt;" "*/" "\\\\" "\\\\\\" "{-" "::"</span>
<span style="color: #4E4E4E; font-style: italic;">;;                                      </span><span style="color: #4E4E4E; font-style: italic;">":::" ":=" "!!" "!=" "!==" "-}" "----" "--&gt;" "-&gt;" "-&gt;&gt;"</span>
<span style="color: #4E4E4E; font-style: italic;">;;                                      </span><span style="color: #4E4E4E; font-style: italic;">"-&lt;" "-&lt;&lt;" "-~" "#{" "#[" "##" "###" "####" "#(" "#?" "#_"</span>
<span style="color: #4E4E4E; font-style: italic;">;;                                      </span><span style="color: #4E4E4E; font-style: italic;">"#_(" ".-" ".=" ".." "..&lt;" "..." "?=" "??" ";;" "/*" "/**"</span>
<span style="color: #4E4E4E; font-style: italic;">;;                                      </span><span style="color: #4E4E4E; font-style: italic;">"/=" "/==" "/&gt;" "//" "///" "&amp;&amp;" "||" "||=" "|=" "|&gt;" "^=" "$&gt;"</span>
<span style="color: #4E4E4E; font-style: italic;">;;                                      </span><span style="color: #4E4E4E; font-style: italic;">"++" "+++" "+&gt;" "=:=" "==" "===" "==&gt;" "=&gt;" "=&gt;&gt;" "&lt;="</span>
<span style="color: #4E4E4E; font-style: italic;">;;                                      </span><span style="color: #4E4E4E; font-style: italic;">"=" "&gt;&gt;-" "&gt;&gt;=" "&gt;&gt;&gt;" "&lt;*"</span>
<span style="color: #4E4E4E; font-style: italic;">;;                                      </span><span style="color: #4E4E4E; font-style: italic;">"&lt;*&gt;" "&lt;|" "&lt;|&gt;" "&lt;$" "&lt;$&gt;" "&lt;!--" "&lt;-" "&lt;--" "&lt;-&gt;" "&lt;+"</span>
<span style="color: #4E4E4E; font-style: italic;">;;                                      </span><span style="color: #4E4E4E; font-style: italic;">"&lt;+&gt;" "&lt;=" "&lt;==" "&lt;=&gt;" "&lt;=&lt;" "&lt;&gt;" "&lt;&lt;" "&lt;&lt;-" "&lt;&lt;=" "&lt;&lt;&lt;"</span>
<span style="color: #4E4E4E; font-style: italic;">;;                                      </span><span style="color: #4E4E4E; font-style: italic;">"&lt;~" "&lt;~~" "&lt;/" "&lt;/&gt;" "~@" "~-" "~&gt;" "~~" "~~&gt;" "%%"))</span>

<span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">(global-ligature-mode 't)</span>
</pre>
</div>

<p>
Unfortunately, it's not supported in Emacs 27, which is what I'm using for now. <span class="timestamp-wrapper"><span class="timestamp">&lt;2022-02-19 Sat&gt;</span></span>
In the future I would like to use this approach, so I will leave it commented out above.
</p>
</div>
</li>

<li><a id="org587e9f6"></a>Configure with a less-optimal method<br />
<div class="outline-text-6" id="text-org587e9f6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orga4a0366" class="outline-3">
<h3 id="orga4a0366">ERC (IRC config)</h3>
<div class="outline-text-3" id="text-orga4a0366">
<p>
I don't like to check in my IRC nicks into this file, so I've utilized <code>/home/$USER/.authinfo</code> which is apparently a GNU standard. The format for this file follows this pattern:
</p>

<p>
<code>machine HOSTNAME login USER password PASSWORD port PORTNUMBER</code>
</p>

<p>
So we can use <code>sed</code> and <code>grep</code> which are available on all of my machines to look up the nick, and then once we have the nick, Emacs will get the rest automatically. Then I manage <code>.authinfo</code> manually on each machine.
</p>

<p>
I wrote a quick Bash one-liner to extract the login. Maybe I could've done this in elisp but Emacs makes it easy enough to mix languages, so here is the one-liner, which will tangle out to <code>get-nick.bash</code>:
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #009B7C; font-weight: bold;">grep</span> <span style="color: #005F00;">"</span><span style="color: #D70000;">$</span><span style="color: #AF005F;">1</span><span style="color: #005F00;">"</span> ~/.authinfo <span style="color: #D70000;">|</span> <span style="color: #009B7C; font-weight: bold;">sed</span> <span style="color: #005F00;">'s/.*login \([^ ]\+ \).*/\1/g'</span>
</pre>
</div>

<p>
Then configure Emacs to use this to find the nick (and put in place the rest of the configuration that I would like for ERC):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">irc</span> <span style="color: #AF005F;">()</span>
  <span style="color: #004700; font-style: italic;">"Connect to IRC."</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">tangle this file to produce the bash script</span>
  <span style="color: #AF005F;">(</span>org-babel-tangle <span style="color: #005F00;">"~/.emacs.d/ian.org"</span><span style="color: #AF005F;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">some visual tweaks</span>
  <span style="color: #AF005F;">(</span>add-hook 'erc-mode-hook 'variable-pitch-mode<span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span>add-hook 'erc-mode-hook 'visual-line-mode<span style="color: #AF005F;">)</span>

  <span style="color: #AF005F;">(</span><span style="color: #D70000;">let</span> <span style="color: #005F00;">(</span><span style="color: #8700AF;">(</span>
         nick  <span style="color: #009B7C;">(</span>s-trim <span style="color: #1F55A0;">(</span>shell-command-to-string
                        <span style="color: #005F00;">"~/.emacs.d/get-nick.bash freenode"</span><span style="color: #1F55A0;">)</span><span style="color: #009B7C;">)</span>
         <span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>

    <span style="color: #005F00;">(</span>erc-tls
     <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">these days I only use Freenode</span>
     <span style="color: #1F55A0;">:server</span> <span style="color: #005F00;">"irc.freenode.net"</span>
     <span style="color: #1F55A0;">:port</span> 6697
     <span style="color: #1F55A0;">:nick</span> nick<span style="color: #005F00;">)</span>
    <span style="color: #AF005F;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">channel subscriptions</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defvar</span> <span style="color: #004651;">erc-autojoin-channels-alist</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> erc-autojoin-channels-alist '<span style="color: #005F00;">(</span><span style="color: #8700AF;">(</span><span style="color: #005F00;">"freenode.net"</span> <span style="color: #005F00;">"#emacs"</span> <span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">hide join/part spam</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defvar</span> <span style="color: #004651;">erc-hide-list</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> erc-hide-list '<span style="color: #005F00;">(</span><span style="color: #005F00;">"JOIN"</span> <span style="color: #005F00;">"PART"</span> <span style="color: #005F00;">"QUIT"</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">use human-friendly IRC network names instead of host incl port</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defvar</span> <span style="color: #004651;">erc-rename-buffers</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> erc-rename-buffers t<span style="color: #AF005F;">)</span>

  <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">reconnect broken sessions</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">defvar</span> <span style="color: #004651;">erc-server-auto-reconnect</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">setq</span> erc-server-auto-reconnect t<span style="color: #AF005F;">)</span>

  <span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>

<div id="outline-container-orgc28d131" class="outline-4">
<h4 id="orgc28d131"><span class="todo TODO">TODO</span> recover my libera.chat credentials and update the config to reference that server instead of Freenode</h4>
</div>
</div>

<div id="outline-container-org92ec664" class="outline-3">
<h3 id="org92ec664">Render this file for display on the web</h3>
<div class="outline-text-3" id="text-org92ec664">
<p>
This defines a command that will export this file to Github flavored Markdown and copy that to README.md so that this file is always the one that appears on the GitHub repository landing page, but in the correct format and everything.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">defun</span> <span style="color: #AF8700;">render-configfile-for-web</span> <span style="color: #AF005F;">()</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">interactive</span><span style="color: #AF005F;">)</span>
  <span style="color: #AF005F;">(</span><span style="color: #D70000;">when</span> <span style="color: #005F00;">(</span>string=
         <span style="color: #8700AF;">(</span>file-name-nondirectory <span style="color: #009B7C;">(</span>buffer-file-name<span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span>
         <span style="color: #005F00;">"ian.org"</span><span style="color: #005F00;">)</span>

    <span style="color: #005F00;">(</span>org-html-export-to-html<span style="color: #005F00;">)</span>
    <span style="color: #005F00;">(</span>org-gfm-export-to-markdown<span style="color: #005F00;">)</span>

    <span style="color: #005F00;">(</span><span style="color: #D70000;">if</span> <span style="color: #8700AF;">(</span>find-buffer-visiting <span style="color: #005F00;">"~/.emacs.d/README.md"</span><span style="color: #8700AF;">)</span>
        <span style="color: #8700AF;">(</span>kill-buffer-ask <span style="color: #009B7C;">(</span>find-buffer-visiting <span style="color: #005F00;">"~/.emacs.d/README.md"</span><span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>

    <span style="color: #005F00;">(</span>delete-file <span style="color: #005F00;">"README.md"</span> t<span style="color: #005F00;">)</span>
    <span style="color: #005F00;">(</span>rename-file <span style="color: #005F00;">"ian.md"</span> <span style="color: #005F00;">"README.md"</span><span style="color: #005F00;">)</span>
    <span style="color: #AF005F;">)</span>
  <span style="color: #1F55A0;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge928724" class="outline-3">
<h3 id="orge928724">Hostname-based tweaks</h3>
<div class="outline-text-3" id="text-orge928724">
<p>
This is a simple convention that I use for loading machine-specific configuration for the different machines I run Emacs on.
</p>

<ol class="org-ol">
<li>looks for Org files in  <code>/home/$USER/.emacs.d/local/</code> with a name that is the same as the hostname of the machine.</li>
<li>shells out to call <code>hostname</code> to determine the hostname.</li>
<li>tangles that .org file to a .el file and executes it</li>
</ol>

<p>
This allows configuration to diverge to meet needs that are unique to a specific workstation.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span><span style="color: #D70000;">let</span> <span style="color: #4E4E4E; font-style: italic;">;; </span><span style="color: #4E4E4E; font-style: italic;">find the hostname and assign it to a variable</span>
     <span style="color: #AF005F;">(</span><span style="color: #005F00;">(</span>hostname <span style="color: #8700AF;">(</span>string-trim-right
                 <span style="color: #009B7C;">(</span>shell-command-to-string <span style="color: #005F00;">"hostname"</span><span style="color: #009B7C;">)</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span>

   <span style="color: #AF005F;">(</span><span style="color: #D70000;">progn</span>
     <span style="color: #005F00;">(</span>org-babel-tangle-file
      <span style="color: #8700AF;">(</span>concat <span style="color: #005F00;">"~/.emacs.d/local/"</span> hostname <span style="color: #005F00;">".org"</span><span style="color: #8700AF;">)</span>
      <span style="color: #8700AF;">(</span>concat hostname <span style="color: #005F00;">".el"</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>

     <span style="color: #005F00;">(</span>load <span style="color: #8700AF;">(</span>concat <span style="color: #005F00;">"~/.emacs.d/local/"</span> hostname <span style="color: #005F00;">".el"</span><span style="color: #8700AF;">)</span><span style="color: #005F00;">)</span>
     <span style="color: #005F00;">(</span><span style="color: #D70000;">require</span> '<span style="color: #AF005F;">local</span><span style="color: #005F00;">)</span><span style="color: #AF005F;">)</span><span style="color: #1F55A0;">)</span>
</pre>
</div>

<p>
There must be an Org file in <code>local/</code> named <code>$(hostname).org</code> or init actually breaks. 
This isn't great but for now I've just been making a copy of one of the existing files whenever I start on a new machine.
It may someday feel worth my time to automate this, but so far it hasn't been worth it, and I just create <code>local/"$(hostname).org"</code> as part of initial setup, along with other tasks that I do not automate in this file.
</p>
</div>
</div>

<div id="outline-container-org9d53962" class="outline-3">
<h3 id="org9d53962">Footer</h3>
<div class="outline-text-3" id="text-org9d53962">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1F55A0;">(</span>server-start<span style="color: #1F55A0;">)</span>
<span style="color: #1F55A0;">(</span><span style="color: #D70000;">provide</span> '<span style="color: #AF005F;">~/.emacs.d/ian.el</span><span style="color: #1F55A0;">)</span>
<span style="color: #4E4E4E; font-style: italic;">;;; </span><span style="color: #4E4E4E; font-style: italic;">ian.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org98be7fd" class="outline-3">
<h3 id="org98be7fd">Styles for HTML export</h3>
<div class="outline-text-3" id="text-org98be7fd">
<p>
We can spruce up the HTML representation of this file with a little bit of CSS.
</p>

<div class="org-src-container">
<pre class="src src-css"><span style="color: #1F55A0;">body</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">background-image</span>: <span style="color: #AF8700;">url</span>(<span style="color: #005F00;">"EmacsIcon.svg"</span>);
    <span style="color: #004651;">background-size</span>: <span style="color: #AF005F;">100</span><span style="color: #1F55A0;">%</span>;
    <span style="color: #004651;">background-repeat</span>: <span style="color: #D70000;">no-repeat</span>;
    <span style="color: #004651;">background-position</span>: <span style="color: #D70000;">right</span> <span style="color: #D70000;">top</span>;
    <span style="color: #004651;">background-size</span>: <span style="color: #AF005F;">500</span><span style="color: #1F55A0;">px</span> <span style="color: #AF005F;">500</span><span style="color: #1F55A0;">px</span>;
    <span style="color: #004651;">background-color</span>: <span style="color: #005F00; background-color: #F5F5F9; font-weight: bold;">#</span><span style="color: #005F00; font-weight: bold;">F2F2F2</span>;
}

<span style="color: #AF8700; background-color: #F5F5F9;">#</span><span style="color: #AF8700;">content</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">font-family</span>: <span style="color: #D70000;">Sans</span>;
    <span style="color: #004651;">font-size</span>: <span style="color: #AF005F;">1.2</span><span style="color: #1F55A0;">em</span>;
    <span style="color: #004651;">width</span>: <span style="color: #AF005F;">90</span><span style="color: #1F55A0;">%</span>;
    <span style="color: #004651;">max-width</span>: <span style="color: #AF005F;">950</span><span style="color: #1F55A0;">px</span>;
    <span style="color: #004651;">margin-left</span>: <span style="color: #D70000;">auto</span>;
    <span style="color: #004651;">margin-right</span>: <span style="color: #D70000;">auto</span>;

    <span style="color: #004651;">padding</span>: <span style="color: #AF005F;">25</span><span style="color: #1F55A0;">px</span>;
    <span style="color: #004651;">background-color</span>: <span style="color: #AF8700;">rgba</span>(<span style="color: #AF005F;">255</span><span style="color: #0F1019; background-color: #F5F5F9;">,</span> <span style="color: #AF005F;">255</span><span style="color: #0F1019; background-color: #F5F5F9;">,</span> <span style="color: #AF005F;">255</span><span style="color: #0F1019; background-color: #F5F5F9;">,</span> <span style="color: #AF005F;">.5</span>);
}

<span style="color: #1F55A0;">.validation</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">display</span>: <span style="color: #D70000;">none</span>;
}

<span style="color: #1F55A0;">a</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">color</span>: <span style="color: #005F00; background-color: #F5F5F9; font-weight: bold;">#</span><span style="color: #005F00; font-weight: bold;">EF0FFF</span>;
}

<span style="color: #1F55A0;">a</span><span style="color: #1F55A0;">:</span><span style="color: #1F55A0; font-weight: bold;">visited</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">color</span>: <span style="color: #005F00; background-color: #F5F5F9; font-weight: bold;">#</span><span style="color: #005F00; font-weight: bold;">076678</span>;
}

<span style="color: #1F55A0;">a</span><span style="color: #1F55A0;">:</span><span style="color: #1F55A0; font-weight: bold;">hover</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">color</span>: <span style="color: #005F00; background-color: #F5F5F9; font-weight: bold;">#</span><span style="color: #005F00; font-weight: bold;">FFBC42</span>;
}

<span style="color: #1F55A0;">a</span><span style="color: #1F55A0;">:</span><span style="color: #1F55A0; font-weight: bold;">active</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">color</span>: <span style="color: #005F00; background-color: #F5F5F9; font-weight: bold;">#</span><span style="color: #005F00; font-weight: bold;">F74343</span>;
}

<span style="color: #1F55A0;">div</span><span style="color: #1F55A0;">.org-src-container</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">background-color</span>: <span style="color: #005F00; background-color: #F5F5F9; font-weight: bold;">#</span><span style="color: #005F00; font-weight: bold;">FFFFE0</span>;
    <span style="color: #004651;">width</span>: <span style="color: #AF005F;">100</span><span style="color: #1F55A0;">%</span>;
    <span style="color: #004651;">height</span>: <span style="color: #AF005F;">100</span><span style="color: #1F55A0;">%</span>;
    <span style="color: #004651;">overflow</span>: <span style="color: #D70000;">hidden</span>;
}

<span style="color: #1F55A0;">pre</span><span style="color: #1F55A0;">.src</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">width</span>: <span style="color: #AF005F;">100</span><span style="color: #1F55A0;">%</span>;
    <span style="color: #004651;">height</span>: <span style="color: #AF005F;">100</span><span style="color: #1F55A0;">%</span>;
    <span style="color: #004651;">overflow</span>: <span style="color: #D70000;">scroll</span>;
    <span style="color: #004651;">margin-left</span>: <span style="color: #AF005F;">20</span><span style="color: #1F55A0;">px</span>;

    <span style="color: #004651;">-ms-overflow-style</span>: <span style="color: #D70000;">none</span>;  <span style="color: #4E4E4E; font-style: italic;">/* Internet Explorer 10+ */</span>
    <span style="color: #004651;">scrollbar-width</span>: <span style="color: #D70000;">none</span>;  <span style="color: #4E4E4E; font-style: italic;">/* Firefox */</span>
}

<span style="color: #1F55A0;">pre</span><span style="color: #1F55A0;">.src</span>::<span style="color: #1F55A0; font-weight: bold;">-webkit-scrollbar</span> {
    <span style="color: #004651;">display</span>: <span style="color: #D70000;">none</span>;
}

<span style="color: #1F55A0;">img</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">max-width</span>: <span style="color: #AF005F;">100</span><span style="color: #1F55A0;">%</span>;
}

<span style="color: #1F55A0;">pre</span><span style="color: #1F55A0;">.example</span><span style="color: #1F55A0;"> </span>{
    <span style="color: #004651;">padding</span>: <span style="color: #AF005F;">10</span><span style="color: #1F55A0;">px</span>;
    <span style="color: #004651;">width</span>: <span style="color: #AF005F;">100</span><span style="color: #1F55A0;">%</span>;
    <span style="color: #004651;">overflow-x</span>: <span style="color: #D70000;">scroll</span>;
    <span style="color: #004651;">-ms-overflow-style</span>: <span style="color: #D70000;">none</span>;  <span style="color: #4E4E4E; font-style: italic;">/* Internet Explorer 10+ */</span>
    <span style="color: #004651;">scrollbar-width</span>: <span style="color: #D70000;">none</span>;  <span style="color: #4E4E4E; font-style: italic;">/* Firefox */</span>
}

<span style="color: #1F55A0;">pre</span><span style="color: #1F55A0;">.example</span>::<span style="color: #1F55A0; font-weight: bold;">-webkit-scrollbar</span> {
    <span style="color: #004651;">display</span>: <span style="color: #D70000;">none</span>;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org05e19a5" class="outline-3">
<h3 id="org05e19a5">Launching Emacsclient</h3>
<div class="outline-text-3" id="text-org05e19a5">
<p>
<a href="https://www.emacswiki.org/emacs/EmacsClient#h5o-18">Nifty shell function for hassle-free starting of emacsclient</a>
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #004651;">args</span>=<span style="color: #005F00;">""</span>
<span style="color: #004651;">nw</span>=false
<span style="color: #4E4E4E; font-style: italic;"># check if emacsclient is already running</span>
<span style="color: #D70000;">if</span> <span style="color: #009B7C; font-weight: bold;">pgrep</span> <span style="color: #AF005F;">-U</span> <span style="color: #D70000;">$(</span><span style="color: #009B7C; background-color: #F5F5F9; font-weight: bold;">id</span><span style="color: #0F1019; background-color: #F5F5F9;"> </span><span style="color: #AF005F; background-color: #F5F5F9;">-u</span><span style="color: #D70000;">)</span> emacsclient <span style="color: #D70000;">&gt;</span> /dev/null<span style="color: #D70000;">;</span> <span style="color: #D70000;">then</span> <span style="color: #004651;">running</span>=true<span style="color: #D70000;">;</span> <span style="color: #D70000;">fi</span>

<span style="color: #4E4E4E; font-style: italic;"># check if the user wants TUI mode</span>
<span style="color: #D70000;">for</span> <span style="color: #AF005F;">arg</span> <span style="color: #D70000;">in</span> <span style="color: #005F00;">"</span><span style="color: #D70000;">$</span><span style="color: #D75F00;">@</span><span style="color: #005F00;">"</span><span style="color: #D70000;">;</span> <span style="color: #D70000;">do</span>
    <span style="color: #D70000;">if</span> [ <span style="color: #005F00;">"</span><span style="color: #D70000;">$</span><span style="color: #AF005F;">arg</span><span style="color: #005F00;">"</span> = <span style="color: #005F00;">"-nw"</span> ] <span style="color: #D70000;">||</span> [ <span style="color: #005F00;">"</span><span style="color: #D70000;">$</span><span style="color: #AF005F;">arg</span><span style="color: #005F00;">"</span> = <span style="color: #005F00;">"-t"</span> ] <span style="color: #D70000;">||</span> [ <span style="color: #005F00;">"</span><span style="color: #D70000;">$</span><span style="color: #AF005F;">arg</span><span style="color: #005F00;">"</span> = <span style="color: #005F00;">"--tty"</span> ]
    <span style="color: #D70000;">then</span>
        <span style="color: #004651;">nw</span>=true
    <span style="color: #D70000;">fi</span>
<span style="color: #D70000;">done</span>

<span style="color: #4E4E4E; font-style: italic;"># if called without arguments - open a new gui instance</span>
<span style="color: #D70000;">if</span> [ <span style="color: #005F00;">"</span><span style="color: #D70000;">$</span><span style="color: #D75F00;">#</span><span style="color: #005F00;">"</span> -eq <span style="color: #005F00;">"0"</span> ] <span style="color: #D70000;">||</span> [ <span style="color: #005F00;">"</span><span style="color: #D70000;">$</span><span style="color: #AF005F;">running</span><span style="color: #005F00;">"</span> <span style="color: #D70000;">!=</span> true ]<span style="color: #D70000;">;</span> <span style="color: #D70000;">then</span>
    <span style="color: #004651;">args</span>=(-c <span style="color: #D70000;">$</span><span style="color: #AF005F;">args</span>)           <span style="color: #4E4E4E; font-style: italic;"># open emacsclient in a new window</span>
<span style="color: #D70000;">fi</span>
<span style="color: #D70000;">if</span> [ <span style="color: #005F00;">"</span><span style="color: #D70000;">$</span><span style="color: #D75F00;">#</span><span style="color: #005F00;">"</span> -gt <span style="color: #005F00;">"0"</span> ]<span style="color: #D70000;">;</span> <span style="color: #D70000;">then</span>
    <span style="color: #4E4E4E; font-style: italic;"># if 'em -' open standard input (e.g. pipe)</span>
    <span style="color: #D70000;">if</span> [[ <span style="color: #005F00;">"</span><span style="color: #D70000;">$</span><span style="color: #AF005F;">1</span><span style="color: #005F00;">"</span> <span style="color: #D70000;">==</span> <span style="color: #005F00;">"-"</span> ]]<span style="color: #D70000;">;</span> <span style="color: #D70000;">then</span>
        <span style="color: #004651;">TMP</span>=<span style="color: #005F00;">"</span><span style="color: #005F00;">$(</span><span style="color: #009B7C; background-color: #F5F5F9; font-weight: bold;">mktemp</span><span style="color: #005F00; background-color: #F5F5F9;"> /tmp/emacsstdin-XXX</span><span style="color: #005F00;">)</span><span style="color: #005F00;">"</span>
        <span style="color: #009B7C; font-weight: bold;">cat</span> <span style="color: #D70000;">&gt;</span><span style="color: #D70000;">$</span><span style="color: #AF005F;">TMP</span>
        <span style="color: #004651;">args</span>=(<span style="color: #D70000;">$</span><span style="color: #AF005F;">args</span> --eval <span style="color: #005F00;">'(let ((b (generate-new-buffer "*stdin*"))) (switch-to-buffer b) (insert-file-contents "'</span><span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">TMP</span><span style="color: #D70000;">}</span><span style="color: #005F00;">'") (delete-file "'</span><span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">TMP</span><span style="color: #D70000;">}</span><span style="color: #005F00;">'"))'</span>)
    <span style="color: #D70000;">else</span>
        <span style="color: #004651;">args</span>=(<span style="color: #D70000;">$</span><span style="color: #D75F00;">@</span> <span style="color: #D70000;">$</span><span style="color: #AF005F;">args</span>)
    <span style="color: #D70000;">fi</span>
<span style="color: #D70000;">fi</span>

<span style="color: #4E4E4E; font-style: italic;"># emacsclient $args</span>
<span style="color: #D70000;">if</span> <span style="color: #D70000;">$</span><span style="color: #AF005F;">nw</span><span style="color: #D70000;">;</span> <span style="color: #D70000;">then</span>
    <span style="color: #009B7C; font-weight: bold;">emacsclient</span> <span style="color: #005F00;">"</span><span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">args</span><span style="color: #0F1019; background-color: #F5F5F9;">[@]</span><span style="color: #D70000;">}</span><span style="color: #005F00;">"</span>
<span style="color: #D70000;">else</span>
    (<span style="color: #009B7C; font-weight: bold;">nohup</span> emacsclient <span style="color: #005F00;">"</span><span style="color: #D70000;">${</span><span style="color: #AF005F; background-color: #F5F5F9;">args</span><span style="color: #0F1019; background-color: #F5F5F9;">[@]</span><span style="color: #D70000;">}</span><span style="color: #005F00;">"</span> <span style="color: #D70000;">&gt;</span> /dev/null <span style="color: #AF005F;">2</span>&gt;&amp;1 &amp;) <span style="color: #D70000;">&gt;</span> /dev/null
<span style="color: #D70000;">fi</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga33d76f" class="outline-3">
<h3 id="orga33d76f">Update README.md git hook</h3>
<div class="outline-text-3" id="text-orga33d76f">
<p>
Before commit, generate the README.md file from the updated configuration.
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #009B7C; font-weight: bold;">emacsclient</span> <span style="color: #AF005F;">-e</span> <span style="color: #005F00;">'(progn (switch-to-buffer "ian.org") (render-configfile-for-web))'</span>
<span style="color: #009B7C; font-weight: bold;">git</span> add README.md ian.html
</pre>
</div>

<p>
I think the command being passed to <code>emacsclient</code> here might be a bit brittle and this approach assumes Emacs is already running, which will be annoying (I'll have to disable this hook) if I'm ever using <code>git</code> on the command line for this repo but given that this repo is.. what it is.. this seems to be working well enough.
</p>
</div>
</div>

<div id="outline-container-org7fca7e3" class="outline-3">
<h3 id="org7fca7e3">Running Emacs as a daemon</h3>
<div class="outline-text-3" id="text-org7fca7e3">
<p>
I like to start up Emacs in the background at login time. I usually have Emacs open, and first launch takes considerably longer (a few seconds) than it does to open a client (basically instant), plus this has other benefits like a long-running session that keeps buffers open.
</p>
</div>

<div id="outline-container-orgd63b94f" class="outline-4">
<h4 id="orgd63b94f">Systemd unit file</h4>
<div class="outline-text-4" id="text-orgd63b94f">
<p>
Actually start up Emacs in daemon mode by installing a user unit file. This gets installed to the correct place (<code>~/.config/systemd/user/emacs.service</code>) when this file is tangled.
</p>

<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #1F55A0;">Unit</span>]
<span style="color: #004651;">Description</span>=Emacs text editor
<span style="color: #004651;">Documentation</span>=info:emacs man:emacs(1) https://gnu.org/software/emacs/

[<span style="color: #1F55A0;">Service</span>]
<span style="color: #004651;">Type</span>=notify
<span style="color: #004651;">ExecStart</span>=/usr/bin/emacs --fg-daemon
<span style="color: #004651;">ExecStop</span>=/usr/bin/emacsclient --eval <span style="color: #005F00;">"(kill-emacs)"</span>
<span style="color: #4E4E4E; font-style: italic;"># </span><span style="color: #4E4E4E; font-style: italic;">The location of the SSH auth socket varies by distribution, and some</span>
<span style="color: #4E4E4E; font-style: italic;"># </span><span style="color: #4E4E4E; font-style: italic;">set it from PAM, so don't override by default.</span>
<span style="color: #4E4E4E; font-style: italic;"># </span><span style="color: #4E4E4E; font-style: italic;">Environment=SSH_AUTH_SOCK=%t/keyring/ssh</span>
<span style="color: #004651;">Restart</span>=on-failure

[<span style="color: #1F55A0;">Install</span>]
<span style="color: #004651;">WantedBy</span>=default.target
</pre>
</div>

<p>
After tangling, enable the unit:
</p>
<pre class="example">
systemctl enable --user emacs.service
</pre>
</div>
</div>

<div id="outline-container-orgabc8e69" class="outline-4">
<h4 id="orgabc8e69">Running Emacs properly from the GUI</h4>
<div class="outline-text-4" id="text-orgabc8e69">
<p>
Once Emacs is running as a server, I mostly want to run <code>emacsclient</code> from the Gnome Overlay view / launcher &#x2026; thingy.
</p>

<p>
Tangling this file will install the .desktop file to the correct location (<code>~/.local/share/applications/Emacsclient.desktop</code>).
</p>

<div class="org-src-container">
<pre class="src src-conf">[<span style="color: #1F55A0;">Desktop Entry</span>]
<span style="color: #004651;">Name</span>=Emacs (Client)
<span style="color: #004651;">GenericName</span>=Text Editor
<span style="color: #004651;">Comment</span>=Edit text
<span style="color: #004651;">MimeType</span>=text/english;text/plain;text/x-makefile;text/x-c++hdr;text/x-c++src;text/x-chdr;text/x-csrc;text/x-java;text/x-moc;text/x-pascal;text/x-tcl;text/x-tex;application/x-shellscript;text/x-c;text/x-c++;
<span style="color: #004651;">Exec</span>=emacsclient -c -a <span style="color: #005F00;">"emacs"</span> %F
<span style="color: #004651;">Icon</span>=emacs
<span style="color: #004651;">Type</span>=Application
<span style="color: #004651;">Terminal</span>=false
<span style="color: #004651;">Categories</span>=Development;TextEditor;Utility;
<span style="color: #004651;">StartupWMClass</span>=Emacs
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org00de16b" class="outline-3">
<h3 id="org00de16b"><span class="todo TODO">TODO</span> Opening Code Links in Emacs</h3>
<div class="outline-text-3" id="text-org00de16b">
<ol class="org-ol">
<li>Use this to add a MIME handler for emacs:// links to open in Emacs</li>
</ol>
<p>
<a href="https://askubuntu.com/questions/514125/url-protocol-handlers-in-basic-ubuntu-desktop">https://askubuntu.com/questions/514125/url-protocol-handlers-in-basic-ubuntu-desktop</a>
</p>
<ol class="org-ol">
<li>Add a bookmarlet to rewrite <a href="https://bitbucket">https://bitbucket</a> links to emacs:// links and send them to Emacs from Chrome or Firefox</li>
<li>Write some Emacs Lisp to detect URLs that pertain to local projects and open them directly in Emacs</li>
</ol>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
